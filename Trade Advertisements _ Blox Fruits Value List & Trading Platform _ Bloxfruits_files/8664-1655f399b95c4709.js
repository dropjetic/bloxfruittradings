"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8664],{12827:(e,t,a)=>{a.d(t,{W:()=>s});var r=a(53115);function s(){let[e,t]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!0),[l,n]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=setTimeout(()=>{t(!0);try{let e=window.matchMedia("(prefers-reduced-motion: reduce)"),t=e.matches;n(t),s(!t);let a=e=>{let t=e.matches;n(t),s(!t)};return e.addEventListener("change",a),()=>{e.removeEventListener("change",a)}}catch(e){console.warn("Animation preferences detection failed:",e),s(!0),n(!1)}},50);return()=>clearTimeout(e)},[]),{enableAnimations:a,respectReducedMotion:l,isClient:e}}},13703:(e,t,a)=>{a.d(t,{p:()=>d});var r=a(18059),s=a(53115),l=a(39130),n=a(25771),i=a(47614);let o=e=>{let{onIncrement:t,onDecrement:a}=e;return(0,r.jsxs)("div",{className:"absolute right-0 top-0 flex h-full flex-col",children:[(0,r.jsx)("button",{type:"button",onClick:t,className:"flex h-1/2 items-center justify-center px-1 text-gray-600 hover:bg-gray-100 active:bg-gray-200",children:(0,r.jsx)(l.A,{className:"h-3 w-3"})}),(0,r.jsx)("button",{type:"button",onClick:a,className:"flex h-1/2 items-center justify-center px-1 text-gray-600 hover:bg-gray-100 active:bg-gray-200",children:(0,r.jsx)(n.A,{className:"h-3 w-3"})})]})},d=s.forwardRef((e,t)=>{var a;let{className:l,type:n,numberControls:d,...c}=e,[u,m]=s.useState((null==(a=c.defaultValue)?void 0:a.toString())||""),h="number"===n&&d;return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:n,value:u,onChange:e=>m(e.target.value),className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground hover:border-primary/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",h&&"pr-8",l),ref:t,...c}),h&&(0,r.jsx)(o,{onIncrement:()=>{var e;let t=Number(u)+1;m(t.toString()),null==(e=c.onChange)||e.call(c,{target:{value:t.toString()}})},onDecrement:()=>{var e;let t=Number(u)-1;m(t.toString()),null==(e=c.onChange)||e.call(c,{target:{value:t.toString()}})}})]})});d.displayName="Input"},41780:(e,t,a)=>{a.d(t,{ScrollArea:()=>i});var r=a(18059),s=a(53115),l=a(93655),n=a(47614);let i=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(l.bL,{ref:t,className:(0,n.cn)("relative overflow-hidden",a),...i,children:[(0,r.jsx)(l.LM,{className:"h-full w-full rounded-[inherit]",children:s}),(0,r.jsx)(o,{}),(0,r.jsx)(l.OK,{})]})});i.displayName=l.bL.displayName;let o=s.forwardRef((e,t)=>{let{className:a,orientation:s="vertical",...i}=e;return(0,r.jsx)(l.VM,{ref:t,orientation:s,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...i,children:(0,r.jsx)(l.lr,{className:"relative flex-1 rounded-full bg-border"})})});o.displayName=l.VM.displayName},51799:(e,t,a)=>{a.r(t),a.d(t,{NavBar:()=>f});var r=a(18059),s=a(47614),l=a(80268),n=a(32746),i=a(12827),o=a(53115),d=a(21408),c=a.n(d),u=a(48373),m=a(92313);let h=(0,n.default)(()=>Promise.all([a.e(5430),a.e(9956),a.e(4721),a.e(927),a.e(4441),a.e(6252),a.e(7157),a.e(2794),a.e(2501),a.e(1439),a.e(1711),a.e(3037),a.e(7500),a.e(7775),a.e(1924),a.e(9518),a.e(42),a.e(8363),a.e(9342),a.e(9705),a.e(8320),a.e(7991)]).then(a.bind(a,37991)).then(e=>e.DesktopNavbar),{loadableGenerated:{webpack:()=>[37991]}}),p=(0,n.default)(()=>Promise.all([a.e(9485),a.e(5430),a.e(9956),a.e(4721),a.e(927),a.e(4441),a.e(6252),a.e(7157),a.e(2794),a.e(2501),a.e(1439),a.e(3037),a.e(7500),a.e(7775),a.e(1924),a.e(9518),a.e(42),a.e(9342),a.e(9705),a.e(8320),a.e(8557)]).then(a.bind(a,34754)).then(e=>e.MobileNavbar),{loadableGenerated:{webpack:()=>[34754]}}),g=u.gameType,x=(0,m.lZ)().valueLabel;function f(e){let{isBlock:t=!1,brandOnly:a=!1}=e,{enableAnimations:n,isClient:d}=(0,i.W)();return(0,o.useEffect)(()=>{let e=setTimeout(()=>{let e=document.querySelector('[role="navigation"]');e&&"translateY(0px)"!==e.style.transform&&(e.style.transform="translateY(0px)",e.style.opacity="1")},1e3);return()=>clearTimeout(e)},[]),(0,r.jsxs)(l.P.nav,{role:"navigation","aria-label":"Main navigation",initial:n&&d?{y:-80}:{y:0},animate:{y:0},transition:n?{ease:[.6,.05,.1,.9],duration:.8}:{duration:0},style:{transform:d?void 0:"translateY(0px)"},onAnimationComplete:()=>{{let e=document.querySelector('[role="navigation"]');e&&(e.style.transform="translateY(0px)")}},className:(0,s.cn)(t?"border-b border-border/40 bg-background z-[22]":"fixed inset-x-0 top-4 z-50 mx-auto w-[95%] max-w-7xl rounded-full bg-transparent lg:w-full 2xl:max-w-[calc(100%-20rem)]"),children:[(0,r.jsxs)("div",{role:"list",className:"sr-only flex items-center justify-center space-x-4 p-4",children:[(0,r.jsx)(c(),{href:"/trading",role:"listitem","aria-label":"Trade Ads - Advertise your trade",className:"sr-only",children:"Trade Ads"}),"Dig"===g&&(0,r.jsx)(c(),{href:"/middleman",role:"listitem","aria-label":"Middleman - Find a middleman",className:"sr-only",children:"Middleman"}),"Bgs"===g&&(0,r.jsx)(c(),{href:"/calculator",role:"listitem","aria-label":"Calculator - Calculate your trade",className:"sr-only",children:"Calculator"}),"Gag"===g&&(0,r.jsx)(c(),{href:"/stocks",role:"listitem","aria-label":"Stocks - Check current stock levels",className:"sr-only",children:"Stocks"}),(0,r.jsxs)(c(),{href:"/values",role:"listitem","aria-label":"Value List - Check current values",className:"sr-only",children:[x," List"]}),(0,r.jsx)(c(),{href:"/rate",role:"listitem","aria-label":"Rate - Rate your friends",className:"sr-only",children:"Rate"}),"Adoptme"===g&&(0,r.jsx)(c(),{href:"/statement",role:"listitem","aria-label":"Statement - Community statement",className:"sr-only",children:"Statement"})]}),(0,r.jsx)("div",{className:"hidden w-full lg:block",children:(0,r.jsx)(h,{isBlock:t,brandOnly:a})}),(0,r.jsx)("div",{className:"flex h-full w-full items-center lg:hidden",children:(0,r.jsx)(p,{isBlock:t,brandOnly:a})})]})}},58097:(e,t,a)=>{a.d(t,{$:()=>d,r:()=>o});var r=a(18059),s=a(53115),l=a(37255),n=a(41304),i=a(47614);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 relative overflow-hidden",{variants:{variant:{default:"bg-gradient-to-br from-primary via-primary/95 to-primary/85 text-primary-foreground hover:from-primary/90 hover:via-primary/85 hover:to-primary/80 hover:shadow-lg hover:shadow-primary/25 active:scale-[0.97] border border-primary/20 ring-1 ring-white/10",destructive:"bg-gradient-to-br from-destructive via-destructive/95 to-destructive/85 text-destructive-foreground hover:from-destructive/90 hover:via-destructive/85 hover:to-destructive/80 hover:shadow-lg hover:shadow-destructive/25 active:scale-[0.97] border border-destructive/20 ring-1 ring-white/10",outline:"border-2 border-border/60 bg-background/70 backdrop-blur-md hover:bg-accent/80 hover:text-accent-foreground hover:shadow-md hover:border-border/80 active:scale-[0.97] ring-1 ring-white/5",secondary:"bg-gradient-to-br from-secondary via-secondary/95 to-secondary/90 text-secondary-foreground hover:from-secondary/85 hover:via-secondary/80 hover:to-secondary/85 hover:shadow-md active:scale-[0.97] border border-secondary/20",ghost:"hover:bg-accent/40 hover:text-accent-foreground active:scale-[0.97] hover:shadow-sm",link:"text-primary underline-offset-4 hover:underline hover:text-primary/80",brand:"bg-gradient-to-br from-[#7c3aed] via-[#8b5cf6] to-[#a855f7] text-white hover:from-[#6d28d9] hover:via-[#7c3aed] hover:to-[#9333ea] hover:shadow-xl hover:shadow-purple-500/30 active:scale-[0.97] border border-purple-500/20 ring-1 ring-white/15",premium:"bg-gradient-to-br from-violet-600 via-purple-600 to-indigo-600 text-white hover:from-violet-500 hover:via-purple-500 hover:to-indigo-500 hover:shadow-xl hover:shadow-violet-500/30 active:scale-[0.97] border border-violet-500/20 ring-1 ring-white/15"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,asChild:d=!1,children:c,...u}=e,m=d?l.DX:"button";return(0,r.jsxs)(m,{className:(0,i.cn)(o({variant:s,size:n,className:a})),ref:t,...u,children:[c,!d&&("default"===s||"brand"===s||"premium"===s)&&(0,r.jsx)("div",{className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity duration-500",children:(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -skew-x-12 animate-shimmer"})})]})});d.displayName="Button"},87829:(e,t,a)=>{a.d(t,{d:()=>s});var r=a(53115);function s(e,t){let[a,s]=(0,r.useState)(e);return(0,r.useEffect)(()=>{let a=setTimeout(()=>s(e),t||500);return()=>clearTimeout(a)},[e,t]),a}},89190:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(18059),s=a(92313),l=a(53115);let n=(0,s.lZ)().ads.enabled,i=e=>{let{type:t,index:a=0,padding:s=!0,className:i="",style:o={}}=e,[d,c]=(0,l.useState)(!1);if((0,l.useEffect)(()=>{c(window.ramp&&n)},[]),!d)return null;let u="in-content"===t?"col-span-full ".concat(s?"py-12":""," ").concat(i):"col-span-full flex h-[400px] items-center justify-center bg-muted/5 ".concat(s?"py-12":""," ").concat(i);return(0,r.jsx)("div",{id:"horizontal"===t?"horizontal_layer_".concat(a):"in_content_layer_".concat(a),style:o,className:u})}},91338:(e,t,a)=>{a.d(t,{E:()=>i});var r=a(18059);a(53115);var s=a(41304),l=a(47614);let n=(0,s.F)("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-1 ring-inset",{variants:{variant:{default:"border-transparent bg-gradient-to-br from-primary/95 to-primary/85 text-primary-foreground shadow-md shadow-primary/25 hover:shadow-lg hover:shadow-primary/30 ring-white/10",secondary:"border-transparent bg-gradient-to-br from-secondary/95 to-secondary/85 text-secondary-foreground shadow-md hover:shadow-lg ring-white/5",destructive:"border-transparent bg-gradient-to-br from-destructive/95 to-destructive/85 text-destructive-foreground shadow-md shadow-destructive/25 hover:shadow-lg hover:shadow-destructive/30 ring-white/10",outline:"border-2 border-primary/40 bg-background/80 text-foreground hover:border-primary/60 hover:bg-primary/10 backdrop-blur-md ring-white/5",success:"border-transparent bg-gradient-to-br from-green-500/95 to-green-600/90 text-white shadow-md shadow-green-500/25 hover:shadow-lg hover:shadow-green-500/30 ring-white/15",premium:"border-transparent bg-gradient-to-br from-purple-600 via-indigo-600 to-purple-700 text-white shadow-md shadow-purple-600/25 hover:shadow-lg hover:shadow-purple-600/35 ring-white/15",ghost:"border-transparent bg-background/90 text-foreground backdrop-blur-md hover:bg-muted/70 ring-white/5",warning:"border-transparent bg-gradient-to-br from-amber-500/95 to-orange-500/90 text-white shadow-md shadow-amber-500/25 hover:shadow-lg hover:shadow-amber-500/30 ring-white/15",info:"border-transparent bg-gradient-to-br from-blue-500/95 to-cyan-500/90 text-white shadow-md shadow-blue-500/25 hover:shadow-lg hover:shadow-blue-500/30 ring-white/15"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:(0,l.cn)(n({variant:a}),t),...s})}},96476:(e,t,a)=>{a.r(t),a.d(t,{default:()=>B});var r=a(18059),s=a(53115),l=a(58097),n=a(69377),i=a(25470),o=a(87829),d=a(26365),c=a(49705),u=a(389),m=a(89190);let h=s.memo(c.Ay),p=()=>(0,r.jsx)("div",{className:"animate-pulse",children:(0,r.jsxs)("div",{className:"space-y-4 rounded-lg bg-foreground/5 p-4",children:[(0,r.jsx)("div",{className:"h-32 rounded-md bg-foreground/10"})," ",(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("div",{className:"h-4 w-3/4 rounded bg-foreground/10"})," ",(0,r.jsx)("div",{className:"h-3 w-1/2 rounded bg-foreground/10"})," ",(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"h-3 w-full rounded bg-foreground/10"})," ",(0,r.jsx)("div",{className:"h-3 w-full rounded bg-foreground/10"})," ",(0,r.jsx)("div",{className:"h-3 w-full rounded bg-foreground/10"})," "]})]})]})});function g(e){let{item:t,defaultViewMode:a}=e,{ref:s,inView:l}=(0,d.Wx)({threshold:0,rootMargin:"400px 0px",triggerOnce:!0});return(0,r.jsx)("div",{ref:s,className:"min-h-32",children:l?(0,r.jsx)(h,{item:t,defaultViewMode:a}):(0,r.jsx)(p,{})})}async function x(e){let{pageParam:t=1,queryKey:a}=e,[r,s,l,n,i,o]=a,d=new URLSearchParams(o);d.set("page",String(t)),d.set("limit","24"),i&&d.set("sortBy",i),l&&d.set("search",l);let c=new URLSearchParams(o);for(let e of["minValue","maxValue","minDemand","maxDemand","demand","rarity","category","trend","onlyAppraised"]){let t=c.get(e);t&&d.set(e,t)}let u=await fetch("/api/v1/items/".concat(s,"/").concat(("all"===n?"all":n)||"all","?").concat(d.toString()),{cache:"no-store"});if(!u.ok)throw Error((await u.json()).message||"Failed to fetch items");return u.json()}let f={demandRange:{min:0,max:10},valueRange:{min:0,max:1e5},sortBy:"position"};function v(e){var t,a,l;let{gameType:c,filterConfig:h,selectedRarity:v,searchQuery:b="",initialItems:y=[],filters:w=f,defaultViewMode:j="regular"}=e,{ref:N,inView:C}=(0,d.Wx)(),k=(0,o.d)(b,300),R=(0,u.useSearchParams)(),T=null!=(t=null==R?void 0:R.get("sortBy"))?t:f.sortBy,{data:M,fetchNextPage:A,hasNextPage:L,isFetchingNextPage:O,status:S,error:E}=(0,n.useInfiniteQuery)({queryKey:["items",c,k,v,T,null!=(a=null==R?void 0:R.toString())?a:""],queryFn:x,initialPageParam:1,getNextPageParam:e=>{var t;return(null==(t=e.pagination)?void 0:t.hasMore)?e.pagination.page+1:void 0},staleTime:0,gcTime:6e5,placeholderData:i.rX,initialData:y.length>0?{pages:[{items:y,pagination:{page:1,hasMore:!0}}],pageParams:[1]}:void 0});if((0,s.useEffect)(()=>{C&&L&&!O&&A()},[C,L,O,A]),"error"===S)return(0,r.jsxs)("div",{className:"text-center text-destructive",children:["Error: ",E instanceof Error?E.message:"Failed to load items"]});let V=(e=>{let t=new Map;for(let s of e){var a,r;let e=(null==s?void 0:s.itemId)||(null==s?void 0:s.id)||"".concat(null==s?void 0:s.name,"|").concat(null==s?void 0:s.category,"|").concat(null==s?void 0:s.rarity),l=t.get(e);if(!l){t.set(e,s);continue}let n=new Date(null!=(a=null==l?void 0:l.updatedAt)?a:0).getTime();new Date(null!=(r=null==s?void 0:s.updatedAt)?r:0).getTime()>=n&&t.set(e,s)}return Array.from(t.values())})(null!=(l=null==M?void 0:M.pages.flatMap(e=>e.items))?l:y),D=(()=>{if("bloxfruits"!==c.toLowerCase())return V;let e=(new URLSearchParams(null!=R?R:void 0).get("fruitTypes")||"").split(",").map(e=>e.trim()).filter(Boolean);if(0===e.length)return V;let t=e.map(e=>e.toLowerCase());return V.filter(e=>{let a=(e.category||"").toLowerCase(),r=((e.metadata||{}).fruitType||"").toLowerCase();return!a.includes("fruit")||r&&t.includes(r)})})();return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bloxfruits"===c.toLowerCase()?"grid grid-cols-2 gap-3 min-[600px]:gap-4 min-[800px]:grid-cols-3 min-[800px]:gap-5 min-[1100px]:grid-cols-4 min-[1300px]:grid-cols-5 min-[1500px]:grid-cols-6 min-[1800px]:grid-cols-7 min-[2000px]:grid-cols-8":"grid grid-cols-2 gap-3 sm:grid-cols-3 sm:gap-4 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7",children:[D.map((e,t)=>(0,r.jsxs)(s.Fragment,{children:[t>0&&t%16==0&&(0,r.jsx)(m.A,{type:"in-content"}),(0,r.jsx)(g,{item:e,defaultViewMode:j})]},e.id)),O&&Array.from({length:4}).map((e,t)=>(0,r.jsx)(p,{},t))]}),(0,r.jsx)("div",{ref:N,className:"h-4"})]})}var b=a(96897),y=a(80268),w=a(57745),j=a(47614),N=a(13703),C=a(91338),k=a(41780);let R=e=>{var t,a,n,i,o,d,c,u,m,h,p,g,x,f,v,R,T,M,A,L;let{isOpen:O,onClose:S,onApplyFilters:E,currentFilters:V,config:D}=e,[B,z]=(0,s.useState)(V);(0,s.useEffect)(()=>{z(V)},[V,O]);let P=()=>{let e=0;return B.sortBy&&"position"!==B.sortBy&&e++,B.valueRange&&(B.valueRange.min>0||B.valueRange.max<1e8)&&e++,B.demandLevels&&B.demandLevels.length>0&&(e+=B.demandLevels.length),B.trend&&B.trend.length>0&&(e+=B.trend.length),B.categories&&B.categories.length>0&&(e+=B.categories.length),B.variants&&B.variants.length>0&&(e+=B.variants.length),B.attributes&&B.attributes.length>0&&(e+=B.attributes.length),B.mutations&&B.mutations.length>0&&(e+=B.mutations.length),B.potions&&B.potions.length>0&&(e+=B.potions.length),B.enchantments&&B.enchantments.length>0&&(e+=B.enchantments.length),B.rarities&&B.rarities.length>0&&(e+=B.rarities.length),B.fruitTypes&&B.fruitTypes.length>0&&(e+=B.fruitTypes.length),B.valueModes&&B.valueModes.length>0&&(e+=B.valueModes.length),B.onlyAppraised&&e++,B.awakened&&e++,e},I=(e,t)=>{z(a=>{let r=a[e]||[],s=r.includes(t)?r.filter(e=>e!==t):[...r,t];return{...a,[e]:s}})},_=e=>{let{title:t,options:a,selectedValues:s,onToggle:l,colorKey:n="color"}=e;return(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-white",children:t}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:a.map(e=>{let t=s.includes(e.value);return(0,r.jsxs)(y.P.button,{whileTap:{scale:.95},onClick:()=>l(e.value),className:(0,j.cn)("inline-flex items-center gap-2 rounded-lg border px-3 py-2 text-sm font-medium transition-all",t?"border-primary bg-primary text-primary-foreground":"border-white/20 bg-white/5 text-white hover:border-white/40 hover:bg-white/10"),children:[e.color&&(0,r.jsx)("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:e.color}}),e.label]},e.value)})})]})},F=!!(D.showAppraised||D.showAwakened),U=!!(D.showCategories&&(null!=(g=null==(t=D.categoryOptions)?void 0:t.length)?g:0)>0||D.showVariants&&(null!=(x=null==(a=D.variantOptions)?void 0:a.length)?x:0)>0||D.showFruitTypes&&(null!=(f=null==(n=D.fruitTypeOptions)?void 0:n.length)?f:0)>0||D.showValueModes&&(null!=(v=null==(i=D.valueModeOptions)?void 0:i.length)?v:0)>0||D.showAttributes&&(null!=(R=null==(o=D.attributeOptions)?void 0:o.length)?R:0)>0||D.showMutations&&(null!=(T=null==(d=D.mutationOptions)?void 0:d.length)?T:0)>0||D.showPotions&&(null!=(M=null==(c=D.potionOptions)?void 0:c.length)?M:0)>0||D.showEnchantments&&(null!=(A=null==(u=D.enchantmentOptions)?void 0:u.length)?A:0)>0||D.showRarities&&(null!=(L=null==(m=D.rarityOptions)?void 0:m.length)?L:0)>0||F);return(0,r.jsx)(b.lG,{open:O,onOpenChange:S,children:(0,r.jsx)(b.Cf,{className:"max-w-4xl max-h-[90vh] bg-black/95 border-white/10 text-white p-0",children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsx)(b.c7,{className:"flex-shrink-0 border-b border-white/10 p-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/20",children:(0,r.jsx)(w.A,{className:"h-5 w-5 text-primary"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(b.L3,{className:"text-xl font-semibold",children:[D.gameType," Filters"]}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[P()," active filter",1!==P()?"s":""]})]})]})}),(0,r.jsx)(k.ScrollArea,{className:"flex-1 p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 ".concat(U?"lg:grid-cols-2":""," gap-8"),children:[(0,r.jsxs)("div",{className:"space-y-6",children:[D.sortOptions&&D.sortOptions.length>0&&(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-white",children:"Sort By"}),(()=>{let e="bloxfruits"===(D.gameType||"").toLowerCase(),t=new Set(["position","newest","oldest","value_high_low","value_low_high","demand_high_low","demand_low_high"]),a=e?(D.sortOptions||[]).filter(e=>t.has(e.value)):D.sortOptions||[];return(0,r.jsx)("select",{value:B.sortBy||"position",onChange:e=>z(t=>({...t,sortBy:e.target.value})),className:"w-full rounded-lg border border-white/20 bg-white/5 px-3 py-2 text-white focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",children:a.map(e=>(0,r.jsx)("option",{value:e.value,className:"bg-black text-white",children:e.label},e.value))})})()]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-white",children:"Value Range"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs text-muted-foreground mb-1",children:"Min"}),(0,r.jsx)(N.p,{type:"number",placeholder:"0",value:(null==(h=B.valueRange)?void 0:h.min)||0,onChange:e=>z(t=>{var a;return{...t,valueRange:{min:Number(e.target.value),max:(null==(a=t.valueRange)?void 0:a.max)||1e8}}}),className:"border-white/20 bg-white/5 text-white"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs text-muted-foreground mb-1",children:"Max"}),(0,r.jsx)(N.p,{type:"number",placeholder:"100,000,000",value:(null==(p=B.valueRange)?void 0:p.max)||1e8,onChange:e=>z(t=>{var a;return{...t,valueRange:{min:(null==(a=t.valueRange)?void 0:a.min)||0,max:Number(e.target.value)}}}),className:"border-white/20 bg-white/5 text-white"})]})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:("bloxfruits"===(D.gameType||"").toLowerCase()?[{label:"Under 10M",min:0,max:1e7},{label:"10M-100M",min:1e7,max:1e8},{label:"100M-1B",min:1e8,max:1e9},{label:"1B+",min:1e9,max:1e10}]:[{label:"Under 1M",min:0,max:1e6},{label:"1M-10M",min:1e6,max:1e7},{label:"10M-50M",min:1e7,max:5e7},{label:"50M+",min:5e7,max:1e8}]).map(e=>(0,r.jsx)("button",{onClick:()=>z(t=>({...t,valueRange:{min:e.min,max:e.max}})),className:"rounded-md border border-white/20 bg-white/5 px-2 py-1 text-xs text-white hover:border-white/40",children:e.label},e.label))})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-white",children:"Demand Level"}),(0,r.jsx)("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5,6,7,8,9,10].map(e=>{let t=(B.demandLevels||[]).includes(e);return(0,r.jsx)(y.P.button,{whileTap:{scale:.95},onClick:()=>((e,t)=>{z(a=>{let r=a[e]||[],s=r.includes(t)?r.filter(e=>e!==t):[...r,t];return{...a,[e]:s}})})("demandLevels",e),className:(0,j.cn)("flex h-10 w-full items-center justify-center rounded-lg border font-medium transition-all",t?"border-primary bg-primary text-primary-foreground":"border-white/20 bg-white/5 text-white hover:border-white/40"),children:e},e)})})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-white",children:"Price Trend"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:("bloxfruits"===(D.gameType||"").toLowerCase()?[{value:"Stable",label:"Stable",color:"#22c55e"},{value:"Overpaid",label:"Overpaid",color:"#a855f7"},{value:"Underpaid",label:"Underpaid",color:"#f59e0b"}]:[{value:"Stable",label:"Stable",color:"#22c55e"},{value:"Rising",label:"Rising",color:"#3b82f6"},{value:"Dropping",label:"Dropping",color:"#ef4444"},{value:"Unstable",label:"Unstable",color:"#f59e0b"}]).map(e=>{let t=(B.trend||[]).includes(e.value);return(0,r.jsxs)(y.P.button,{whileTap:{scale:.95},onClick:()=>I("trend",e.value),className:(0,j.cn)("inline-flex items-center gap-2 rounded-lg border px-3 py-2 text-sm font-medium transition-all",t?"border-primary bg-primary text-primary-foreground":"border-white/20 bg-white/5 text-white hover:border-white/40"),children:[(0,r.jsx)("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:e.color}}),e.label]},e.value)})})]})]}),U&&(0,r.jsxs)("div",{className:"space-y-6",children:[D.showCategories&&D.categoryOptions&&(0,r.jsx)(_,{title:"Categories",options:D.categoryOptions,selectedValues:B.categories||[],onToggle:e=>I("categories",e)}),D.showVariants&&D.variantOptions&&(0,r.jsx)(_,{title:"Variants",options:D.variantOptions,selectedValues:B.variants||[],onToggle:e=>I("variants",e)}),D.showFruitTypes&&D.fruitTypeOptions&&(0,r.jsx)(_,{title:"Fruit Types",options:D.fruitTypeOptions,selectedValues:B.fruitTypes||[],onToggle:e=>I("fruitTypes",e)}),D.showValueModes&&D.valueModeOptions&&(0,r.jsx)(_,{title:"Value Mode",options:D.valueModeOptions,selectedValues:B.valueModes||[],onToggle:e=>I("valueModes",e)}),D.showAttributes&&D.attributeOptions&&(0,r.jsx)(_,{title:"Attributes",options:D.attributeOptions,selectedValues:B.attributes||[],onToggle:e=>I("attributes",e)}),D.showMutations&&D.mutationOptions&&(0,r.jsx)(_,{title:"Mutations",options:D.mutationOptions,selectedValues:B.mutations||[],onToggle:e=>I("mutations",e)}),D.showPotions&&D.potionOptions&&(0,r.jsx)(_,{title:"Potions",options:D.potionOptions,selectedValues:B.potions||[],onToggle:e=>I("potions",e)}),D.showEnchantments&&D.enchantmentOptions&&(0,r.jsx)(_,{title:"Enchantments",options:D.enchantmentOptions,selectedValues:B.enchantments||[],onToggle:e=>I("enchantments",e)}),D.showRarities&&D.rarityOptions&&(0,r.jsx)(_,{title:"Rarities",options:D.rarityOptions,selectedValues:B.rarities||[],onToggle:e=>I("rarities",e)}),F&&(0,r.jsx)("div",{className:"space-y-3",children:(0,r.jsxs)("div",{className:"space-y-2",children:[D.showAppraised&&(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:B.onlyAppraised||!1,onChange:e=>z(t=>({...t,onlyAppraised:e.target.checked})),className:"h-4 w-4 rounded border-white/20 bg-white/5 text-primary focus:ring-primary"}),(0,r.jsx)("span",{className:"text-sm text-white",children:"Only Appraised Items"})]}),D.showAwakened&&(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:B.awakened||!1,onChange:e=>z(t=>({...t,awakened:e.target.checked})),className:"h-4 w-4 rounded border-white/20 bg-white/5 text-primary focus:ring-primary"}),(0,r.jsx)("span",{className:"text-sm text-white",children:"Awakened Only"})]})]})})]})]})}),(0,r.jsx)("div",{className:"flex-shrink-0 border-t border-white/10 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:P()>0&&(0,r.jsxs)(C.E,{variant:"outline",className:"bg-primary/20 text-primary border-primary/40",children:[P()," active"]})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(l.$,{variant:"outline",onClick:()=>{z({sortBy:"position",valueRange:{min:0,max:1e8},demandLevels:[],onlyAppraised:!1,trend:[],categories:[],variants:[],attributes:[],mutations:[],potions:[],awakened:!1,enchantments:[],rarities:[],fruitTypes:[],valueModes:[]})},className:"border-white/20 text-white hover:bg-white/10",children:"Reset All"}),(0,r.jsx)(l.$,{onClick:()=>{E(B),S()},className:"bg-primary hover:bg-primary/90",children:"Apply Filters"})]})]})})]})})})};var T=a(48373),M=a(40953),A=a(58675),L=a(83882),O=a(23192);let S={10:"Very High",8:"High",6:"Medium",4:"Low",2:"Very Low",1:"None"},E={"Very High":10,High:8,Medium:6,Low:4,"Very Low":2,None:1};[...Object.values(S)];let V={rarity:[],category:[],priceRange:{min:0,max:1e5},demandRange:{min:1,max:10},demand:[],trend:[],sortBy:"position",onlyAppraised:!1,fruitTypes:[],valueModes:[]},D=e=>e.toLowerCase().replace(/\s+/g,"-");function B(e){let{filterConfig:t,initialCategories:a,initialRarity:n,initialItems:i=[]}=e,d=(0,u.useRouter)(),c=(0,u.usePathname)(),m=(0,u.useSearchParams)(),h=T.gameType;"Bgs"===h||h.toLowerCase();let[p,g]=(0,s.useState)(!1),[x,f]=(0,s.useState)("regular");(0,s.useEffect)(()=>{if("bloxfruits"===h.toLowerCase())try{let e=localStorage.getItem("bloxfruits-default-view-mode");e&&("regular"===e||"permanent"===e)&&f(e)}catch(e){}},[h]),(0,s.useEffect)(()=>{if("bloxfruits"===h.toLowerCase())try{localStorage.setItem("bloxfruits-default-view-mode",x)}catch(e){}},[x,h]);let b=(0,s.useMemo)(()=>{var e;if(n)return n;if("/values"===c)return"all";let t=/\/values\/(.+)/.exec(c);return t?decodeURIComponent((null==(e=t[1])?void 0:e.replace(/-/g," "))||"all"):"all"},[c,n]),[y,w]=(0,s.useState)(()=>{let e=new URLSearchParams(m.toString()),t={...V},a=e.get("sortBy");a&&(t.sortBy=a),"all"!==b&&(t.rarity=[b]);let r=e.get("rarity");if(r){let e=r.split(",");"all"!==b?t.rarity=Array.from(new Set([...t.rarity,...e])):t.rarity=e}let s=e.get("category");s&&(t.category=s.split(","));let l=e.get("demand");l&&(t.demand=l.split(",").map(e=>S[parseInt(e)]).filter(e=>void 0!==e));let n=e.get("trend");if(n&&(t.trend=n.split(",")),"bloxfruits"===h.toLowerCase()){let a=e.get("fruitTypes");a&&(t.fruitTypes=a.split(","));let r=e.get("valueModes");r&&(t.valueModes=r.split(","))}let i=e.get("minValue"),o=e.get("maxValue");(i||o)&&(t.priceRange={min:i?Number(i):V.priceRange.min,max:o?Number(o):V.priceRange.max});let d=e.get("minDemand"),c=e.get("maxDemand");(d||c)&&(t.demandRange={min:d?Number(d):V.demandRange.min,max:c?Number(c):V.demandRange.max});let u=e.get("onlyAppraised");return u&&(t.onlyAppraised="true"===u),t}),[j,N]=(0,s.useState)(m.get("search")||""),[k,B]=(0,s.useState)(0),z=(0,s.useRef)(!1),P=(0,s.useRef)(!1),I=(0,o.d)(j,500),_=(0,s.useCallback)(e=>{let t=new URLSearchParams(m.toString());if(I.trim()?t.set("search",I.trim()):t.delete("search"),e.sortBy!==V.sortBy?t.set("sortBy",e.sortBy):t.delete("sortBy"),e.rarity.length>0){let a="all"!==b?e.rarity.filter(e=>e.toLowerCase()!==b.toLowerCase()):e.rarity;a.length>0?t.set("rarity",a.join(",")):t.delete("rarity")}else t.delete("rarity");if(e.category.length>0?t.set("category",e.category.join(",")):t.delete("category"),e.demand.length>0){let a=e.demand.map(e=>E[e]);t.set("demand",a.join(","))}else t.delete("demand");e.trend.length>0?t.set("trend",e.trend.join(",")):t.delete("trend"),"bloxfruits"===h.toLowerCase()&&(e.fruitTypes&&e.fruitTypes.length>0?t.set("fruitTypes",e.fruitTypes.join(",")):t.delete("fruitTypes"),e.valueModes&&e.valueModes.length>0?t.set("valueModes",e.valueModes.join(",")):t.delete("valueModes")),e.priceRange.min>V.priceRange.min?t.set("minValue",e.priceRange.min.toString()):t.delete("minValue"),e.priceRange.max<V.priceRange.max?t.set("maxValue",e.priceRange.max.toString()):t.delete("maxValue"),e.demandRange.min>V.demandRange.min?t.set("minDemand",e.demandRange.min.toString()):t.delete("minDemand"),e.demandRange.max<V.demandRange.max?t.set("maxDemand",e.demandRange.max.toString()):t.delete("maxDemand"),e.onlyAppraised?t.set("onlyAppraised","true"):t.delete("onlyAppraised");let a="all"===b?"/values":"/values/".concat(D(b)),r=t.toString(),l=r?"".concat(a,"?").concat(r):a;(0,s.startTransition)(()=>{d.push(l)})},[d,m,I,b,h]);(0,s.useEffect)(()=>{B(Object.entries(y).reduce((e,t)=>{let[a,r]=t;if("sortBy"===a)return e;if(Array.isArray(r))return r.length>0?e+1:e;if("priceRange"===a||"demandRange"===a){let t=V[a];if(r.min>t.min||r.max<t.max)return e+1}return"boolean"==typeof r&&r?e+1:e},0))},[m,y]),(0,s.useEffect)(()=>{var e;let t=null!=(e=null==m?void 0:m.get("search"))?e:"";z.current||t===j||N(t)},[m]),(0,s.useEffect)(()=>{P.current||(_(y),z.current=!1)},[I,_,y]),(0,s.useEffect)(()=>{P.current&&(P.current=!1)},[c]);let F=()=>{_(y)},U=(0,s.useCallback)(e=>{w(V),z.current=!0,N(""),P.current=!0,"all"===e.toLowerCase()?(0,s.startTransition)(()=>{d.push("/values")}):(0,s.startTransition)(()=>{d.push("/values/".concat(D(e)))})},[d]);return(0,r.jsxs)("div",{className:"w-full space-y-6",children:[(0,r.jsx)("div",{className:"flex flex-col items-center gap-1.5",children:(0,r.jsxs)("div",{className:"flex flex-wrap justify-center gap-1.5",children:[(0,r.jsx)(l.$,{variant:"all"===b?"default":"secondary",className:"h-8 rounded-full px-3 text-xs shadow-sm transition-all hover:shadow-md md:h-10 md:px-4 md:text-sm",onClick:()=>U("all"),children:"All"}),a.map(e=>(0,r.jsxs)(l.$,{variant:b.toLowerCase().replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase()).toLowerCase()===e.rarity.toLowerCase()?"default":"secondary",className:"h-8 rounded-full px-3 text-xs shadow-sm transition-all hover:shadow-md md:h-10 md:px-4 md:text-sm",onMouseEnter:()=>{try{var t;let a=D(e.rarity);null==(t=d.prefetch)||t.call(d,"/values/".concat(a))}catch(e){}},onClick:()=>U(e.rarity),children:[e.rarity,e.count>0&&(0,r.jsx)(C.E,{variant:"secondary",className:"ml-1 hidden px-1.5 py-0.5 text-xs md:ml-2 md:inline-flex",children:e.count})]},e.rarity))]})}),"bloxfruits"===h.toLowerCase()&&(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3 rounded-xl border border-white/10 bg-gradient-to-br from-background/50 to-background/30 p-3 backdrop-blur-sm sm:p-4",children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)("span",{className:"text-sm font-semibold text-foreground",children:"Default View Mode"})}),(0,r.jsxs)("div",{className:"flex items-center rounded-xl border border-input/50 bg-gradient-to-r from-black/30 to-black/10 p-1.5 shadow-xl backdrop-blur-sm sm:p-2",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>f("regular"),className:"relative transform rounded-xl px-3 py-2 text-xs font-bold transition-all duration-300 sm:px-6 sm:py-3 sm:text-sm ".concat("regular"===x?"scale-105 bg-gradient-to-br from-purple-400 via-purple-500 to-purple-600 text-white shadow-xl shadow-purple-500/30 ring-2 ring-purple-300/50 hover:scale-110 hover:shadow-2xl hover:shadow-purple-500/40":"border border-purple-400/40 bg-gradient-to-br from-purple-900/20 to-purple-800/10 text-purple-300 hover:border-purple-400/60 hover:bg-gradient-to-br hover:from-purple-500/20 hover:to-purple-600/10 hover:text-purple-200 hover:shadow-lg hover:shadow-purple-500/15"),children:["regular"===x&&(0,r.jsx)("div",{className:"absolute inset-0 animate-pulse rounded-xl bg-white/20 opacity-50"}),(0,r.jsx)("span",{className:"relative z-10",children:"Regular"})]}),(0,r.jsxs)("button",{type:"button",onClick:()=>f("permanent"),className:"relative transform rounded-xl px-3 py-2 text-xs font-bold transition-all duration-300 sm:px-6 sm:py-3 sm:text-sm ".concat("permanent"===x?"scale-105 bg-gradient-to-br from-indigo-500 via-indigo-600 to-indigo-700 text-white shadow-xl shadow-indigo-500/30 ring-2 ring-indigo-300/50 hover:scale-110 hover:shadow-2xl hover:shadow-indigo-500/40":"border border-indigo-400/40 bg-gradient-to-br from-indigo-900/20 to-indigo-800/10 text-indigo-300 hover:border-indigo-400/60 hover:bg-gradient-to-br hover:from-indigo-600/20 hover:to-indigo-700/10 hover:text-indigo-200 hover:shadow-lg hover:shadow-indigo-500/15"),children:["permanent"===x&&(0,r.jsx)("div",{className:"absolute inset-0 animate-pulse rounded-xl bg-white/20 opacity-50"}),(0,r.jsx)("span",{className:"relative z-10",children:"Permanent"})]})]}),(0,r.jsxs)("p",{className:"max-w-md text-center text-xs leading-relaxed text-muted-foreground",children:["Sets the default mode for all fruit cards. Individual cards can still be toggled between"," ",(0,r.jsx)("span",{className:"font-medium text-purple-400",children:"Regular"})," and"," ",(0,r.jsx)("span",{className:"font-medium text-indigo-400",children:"Permanent"})," views."]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4",children:[(0,r.jsx)("div",{className:"relative flex-1",children:(0,r.jsxs)("div",{className:"flex h-11 w-full items-center overflow-hidden rounded-lg border border-input bg-background shadow-sm focus-within:ring-1 focus-within:ring-primary/20",children:[(0,r.jsx)("div",{className:"flex h-full items-center justify-center px-3",children:(0,r.jsx)(M.A,{className:"h-4 w-4 text-muted-foreground"})}),(0,r.jsx)("input",{type:"search",placeholder:"Search Items...",value:j,onChange:e=>{z.current=!0,N(e.target.value)},className:"flex-1 bg-transparent px-0 py-2 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Search items"}),j&&(0,r.jsx)("button",{onClick:()=>{z.current=!0,N("")},className:"flex h-full items-center justify-center px-3 text-muted-foreground hover:text-foreground","aria-label":"Clear search",children:(0,r.jsx)(A.A,{className:"h-4 w-4"})})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[k>0&&(0,r.jsxs)(l.$,{variant:"ghost",size:"sm",onClick:()=>{w(V),z.current=!0,N("");let e="all"===b?"/values":"/values/".concat(D(b));(0,s.startTransition)(()=>{d.push(e)}),g(!1)},className:"h-9 gap-1 px-2 text-muted-foreground transition-colors hover:text-destructive sm:gap-1.5 sm:px-3",children:[(0,r.jsx)(L.A,{className:"h-3.5 w-3.5"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Clear filters"})]}),(0,r.jsxs)(l.$,{variant:"outline",size:"lg",className:"relative h-11 shrink-0 gap-1 px-2 font-medium shadow-sm transition-all hover:shadow sm:gap-2 sm:px-4",onClick:()=>g(!0),children:[(0,r.jsx)(O.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Filters"}),k>0&&(0,r.jsx)(C.E,{className:"ml-1 rounded-full px-1.5 py-0.5 text-xs font-semibold",children:k})]}),(0,r.jsx)(R,{isOpen:p,onClose:()=>g(!1),onApplyFilters:e=>{let t={...V,sortBy:e.sortBy||"position",onlyAppraised:e.onlyAppraised||!1,trend:e.trend||[],category:e.categories||[],rarity:e.rarities||[],priceRange:e.valueRange||V.priceRange,fruitTypes:"bloxfruits"===h.toLowerCase()&&e.fruitTypes||[],valueModes:"bloxfruits"===h.toLowerCase()&&e.valueModes||[]};if(e.demandLevels&&e.demandLevels.length>0?(t.demandRange={min:Math.min(...e.demandLevels),max:Math.max(...e.demandLevels)},t.demand=e.demandLevels.map(e=>S[e]).filter(Boolean)):(t.demandRange=V.demandRange,t.demand=V.demand),"bloxfruits"===h.toLowerCase()){var a;let e=null==(a=t.valueModes)?void 0:a[0];("permanent"===e||"regular"===e)&&f(e)}console.log("Applied filters:",t),w(t),_(t),g(!1)},currentFilters:{sortBy:y.sortBy,valueRange:y.priceRange,onlyAppraised:y.onlyAppraised,trend:y.trend,categories:y.category,rarities:y.rarity,demandLevels:y.demand.map(e=>E[e]).filter(Boolean),variants:[],attributes:[],mutations:[],potions:[],enchantments:[],fruitTypes:y.fruitTypes||[],valueModes:y.valueModes||[],awakened:!1},config:"bloxfruits"===(h||"").toLowerCase()?{...t,showCategories:!1,showVariants:!1,showFruitTypes:!1,showValueModes:!1,categoryOptions:[],variantOptions:[],fruitTypeOptions:[],valueModeOptions:[]}:t})]})]}),(0,r.jsxs)("div",{className:"my-2 flex flex-wrap gap-1.5",children:[y.rarity.length>0&&y.rarity.map(e=>(0,r.jsxs)(C.E,{variant:"outline",className:"flex items-center gap-1 rounded-full bg-background px-3 py-1 text-xs shadow-sm",children:[(0,r.jsxs)("span",{children:["Rarity: ",e]}),(0,r.jsx)(l.$,{variant:"ghost",size:"sm",className:"ml-1 h-4 w-4 rounded-full p-0 hover:bg-muted",onClick:()=>{w(t=>({...t,rarity:t.rarity.filter(t=>t!==e)})),F()},children:(0,r.jsx)(A.A,{className:"h-2.5 w-2.5"})})]},"rarity-".concat(e))),y.category.length>0&&y.category.map(e=>(0,r.jsxs)(C.E,{variant:"outline",className:"flex items-center gap-1 rounded-full bg-background px-3 py-1 text-xs shadow-sm",children:[(0,r.jsxs)("span",{children:["Category: ",e]}),(0,r.jsx)(l.$,{variant:"ghost",size:"sm",className:"ml-1 h-4 w-4 rounded-full p-0 hover:bg-muted",onClick:()=>{w(t=>({...t,category:t.category.filter(t=>t!==e)})),F()},children:(0,r.jsx)(A.A,{className:"h-2.5 w-2.5"})})]},"category-".concat(e))),y.demand.length>0&&(0,r.jsxs)(C.E,{variant:"outline",className:"flex items-center gap-1 rounded-full bg-background px-3 py-1 text-xs shadow-sm",children:[(0,r.jsxs)("span",{children:["Demand: ",y.demand.join(", ")]}),(0,r.jsx)(l.$,{variant:"ghost",size:"sm",className:"ml-1 h-4 w-4 rounded-full p-0 hover:bg-muted",onClick:()=>{w(e=>({...e,demand:[]})),F()},children:(0,r.jsx)(A.A,{className:"h-2.5 w-2.5"})})]}),y.trend.length>0&&(0,r.jsxs)(C.E,{variant:"outline",className:"flex items-center gap-1 rounded-full bg-background px-3 py-1 text-xs shadow-sm",children:[(0,r.jsxs)("span",{children:["Trend: ",y.trend.join(", ")]}),(0,r.jsx)(l.$,{variant:"ghost",size:"sm",className:"ml-1 h-4 w-4 rounded-full p-0 hover:bg-muted",onClick:()=>{w(e=>{let t={...e,trend:[]};return _(t),t})},children:(0,r.jsx)(A.A,{className:"h-2.5 w-2.5"})})]}),"bloxfruits"===h.toLowerCase()&&y.fruitTypes&&y.fruitTypes.length>0&&(0,r.jsxs)(C.E,{variant:"outline",className:"flex items-center gap-1 rounded-full bg-background px-3 py-1 text-xs shadow-sm",children:[(0,r.jsxs)("span",{children:["Fruit Types: ",y.fruitTypes.join(", ")]}),(0,r.jsx)(l.$,{variant:"ghost",size:"sm",className:"ml-1 h-4 w-4 rounded-full p-0 hover:bg-muted",onClick:()=>{w(e=>{let t={...e,fruitTypes:[]};return _(t),t})},children:(0,r.jsx)(A.A,{className:"h-2.5 w-2.5"})})]}),"bloxfruits"===h.toLowerCase()&&y.valueModes&&y.valueModes.length>0&&(0,r.jsxs)(C.E,{variant:"outline",className:"flex items-center gap-1 rounded-full bg-background px-3 py-1 text-xs shadow-sm",children:[(0,r.jsxs)("span",{children:["Value Mode: ",y.valueModes.join(", ")]}),(0,r.jsx)(l.$,{variant:"ghost",size:"sm",className:"ml-1 h-4 w-4 rounded-full p-0 hover:bg-muted",onClick:()=>{w(e=>{let t={...e,valueModes:[]};return _(t),t})},children:(0,r.jsx)(A.A,{className:"h-2.5 w-2.5"})})]}),(y.priceRange.min>V.priceRange.min||y.priceRange.max<V.priceRange.max)&&(0,r.jsxs)(C.E,{variant:"outline",className:"flex items-center gap-1 rounded-full bg-background px-3 py-1 text-xs shadow-sm",children:[(0,r.jsxs)("span",{children:["Price: ",y.priceRange.min," - ",y.priceRange.max]}),(0,r.jsx)(l.$,{variant:"ghost",size:"sm",className:"ml-1 h-4 w-4 rounded-full p-0 hover:bg-muted",onClick:()=>{w(e=>({...e,priceRange:V.priceRange})),F()},children:(0,r.jsx)(A.A,{className:"h-2.5 w-2.5"})})]}),t.showAppraised&&y.onlyAppraised&&(0,r.jsxs)(C.E,{variant:"outline",className:"flex items-center gap-1 rounded-full bg-background px-3 py-1 text-xs shadow-sm",children:[(0,r.jsx)("span",{children:"Only Appraised"}),(0,r.jsx)(l.$,{variant:"ghost",size:"sm",className:"ml-1 h-4 w-4 rounded-full p-0 hover:bg-muted",onClick:()=>{w(e=>({...e,onlyAppraised:!1})),F()},children:(0,r.jsx)(A.A,{className:"h-2.5 w-2.5"})})]})]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(v,{gameType:T.gameType,filterConfig:t,selectedRarity:"all"!==b?b:"",initialItems:i,defaultViewMode:x})})]})}},96897:(e,t,a)=>{a.d(t,{Cf:()=>p,EC:()=>b,Es:()=>C,KO:()=>x,L3:()=>k,LC:()=>h,QR:()=>v,ZJ:()=>u,c7:()=>N,lG:()=>d,re:()=>g,rr:()=>R,t7:()=>j,tP:()=>w,wd:()=>y,zM:()=>c});var r=a(18059),s=a(53115),l=a(8884),n=a(58675),i=a(47614);let o=s.createContext(void 0);function d(e){let{children:t,open:a,onOpenChange:n}=e,[i,d]=s.useState(!1);return(0,r.jsx)(o.Provider,{value:{innerOpen:i,setInnerOpen:d},children:(0,r.jsx)(l.bL,{open:a,onOpenChange:n,children:t})})}let c=l.l9,u=l.ZL,m=l.bm,h=s.forwardRef((e,t)=>{let{className:a,zIndex:s,...n}=e;return(0,r.jsx)(l.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-[100] bg-black/60 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),style:{zIndex:s},...n})});h.displayName=l.hJ.displayName;let p=s.forwardRef((e,t)=>{let{className:a,children:d,zIndex:c,...p}=e,g=s.useContext(o);if(!g)throw Error("DialogContent must be used within a Dialog");return(0,r.jsxs)(u,{children:[(()=>{let e="number"==typeof c?c:120;return(0,r.jsx)(h,{zIndex:e-10})})(),(0,r.jsxs)(l.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] rounded-lg border border-border/40 bg-background p-6 shadow-xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg","modal-safe-positioning dialog-content-safe",g.innerOpen&&"translate-y-[-55%] scale-[0.97]",a),style:{zIndex:"number"==typeof c?c:120},...p,children:[d,(0,r.jsxs)(m,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-popover transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[(0,r.jsx)(n.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});function g(e){let{children:t,open:a,onOpenChange:n}=e,i=s.useContext(o);if(!i)throw Error("InnerDialog must be used within a Dialog");s.useEffect(()=>{void 0!==a&&a!==i.innerOpen&&i.setInnerOpen(a)},[a]);let d=s.useCallback(e=>{e||(i.setInnerOpen(!1),null==n||n(!1))},[i,n]);return(0,r.jsx)(l.bL,{open:i.innerOpen,onOpenChange:d,children:t})}p.displayName=l.UC.displayName;let x=l.l9,f=l.bm,v=s.forwardRef((e,t)=>{let{className:a,children:d,position:c="default",zIndex:u,...m}=e;if(!s.useContext(o))throw Error("InnerDialogContent must be used within a Dialog");let h=s.useCallback(e=>{e.stopPropagation()},[]);return(0,r.jsxs)(l.UC,{ref:t,onClick:h,className:(0,i.cn)("fixed left-[50%] top-[50%] grid w-full max-w-lg translate-x-[-50%] translate-y-[-45%] gap-4 rounded-lg border border-border/40 bg-background p-6 shadow-xl duration-200","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","default"===c&&"data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]",a),style:{zIndex:"number"==typeof u?u:130},...m,children:[d,(0,r.jsxs)(f,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-popover transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[(0,r.jsx)(n.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})});v.displayName="InnerDialogContent";let b=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};b.displayName="InnerDialogHeader";let y=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:space-x-2",t),...a})};y.displayName="InnerDialogFooter";let w=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});w.displayName="InnerDialogTitle";let j=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})});j.displayName="InnerDialogDescription";let N=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};N.displayName="DialogHeader";let C=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:space-x-2 modal-safe-footer",t),...a})};C.displayName="DialogFooter";let k=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});k.displayName=l.hE.displayName;let R=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})});R.displayName=l.VY.displayName}}]);