(()=>{(()=>{var At={3156:function(C,T,w){(function(j,P){C.exports=T=P()})(this,function(){var j=j||function(P,H){var R;if(typeof window!="undefined"&&window.crypto&&(R=window.crypto),typeof self!="undefined"&&self.crypto&&(R=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(R=globalThis.crypto),!R&&typeof window!="undefined"&&window.msCrypto&&(R=window.msCrypto),!R&&typeof w.g!="undefined"&&w.g.crypto&&(R=w.g.crypto),!R)try{R=w(477)}catch(i){}var M=function(){if(R){if(typeof R.getRandomValues=="function")try{return R.getRandomValues(new Uint32Array(1))[0]}catch(i){}if(typeof R.randomBytes=="function")try{return R.randomBytes(4).readInt32LE()}catch(i){}}throw new Error("Native crypto module could not be used to get secure random number.")},q=Object.create||function(){function i(){}return function(h){var v;return i.prototype=h,v=new i,i.prototype=null,v}}(),Q={},W=Q.lib={},X=W.Base=function(){return{extend:function(i){var h=q(this);return i&&h.mixIn(i),(!h.hasOwnProperty("init")||this.init===h.init)&&(h.init=function(){h.$super.init.apply(this,arguments)}),h.init.prototype=h,h.$super=this,h},create:function(){var i=this.extend();return i.init.apply(i,arguments),i},init:function(){},mixIn:function(i){for(var h in i)i.hasOwnProperty(h)&&(this[h]=i[h]);i.hasOwnProperty("toString")&&(this.toString=i.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),U=W.WordArray=X.extend({init:function(i,h){i=this.words=i||[],h!=H?this.sigBytes=h:this.sigBytes=i.length*4},toString:function(i){return(i||x).stringify(this)},concat:function(i){var h=this.words,v=i.words,_=this.sigBytes,I=i.sigBytes;if(this.clamp(),_%4)for(var m=0;m<I;m++){var z=v[m>>>2]>>>24-m%4*8&255;h[_+m>>>2]|=z<<24-(_+m)%4*8}else for(var N=0;N<I;N+=4)h[_+N>>>2]=v[N>>>2];return this.sigBytes+=I,this},clamp:function(){var i=this.words,h=this.sigBytes;i[h>>>2]&=4294967295<<32-h%4*8,i.length=P.ceil(h/4)},clone:function(){var i=X.clone.call(this);return i.words=this.words.slice(0),i},random:function(i){for(var h=[],v=0;v<i;v+=4)h.push(M());return new U.init(h,i)}}),J=Q.enc={},x=J.Hex={stringify:function(i){for(var h=i.words,v=i.sigBytes,_=[],I=0;I<v;I++){var m=h[I>>>2]>>>24-I%4*8&255;_.push((m>>>4).toString(16)),_.push((m&15).toString(16))}return _.join("")},parse:function(i){for(var h=i.length,v=[],_=0;_<h;_+=2)v[_>>>3]|=parseInt(i.substr(_,2),16)<<24-_%8*4;return new U.init(v,h/2)}},G=J.Latin1={stringify:function(i){for(var h=i.words,v=i.sigBytes,_=[],I=0;I<v;I++){var m=h[I>>>2]>>>24-I%4*8&255;_.push(String.fromCharCode(m))}return _.join("")},parse:function(i){for(var h=i.length,v=[],_=0;_<h;_++)v[_>>>2]|=(i.charCodeAt(_)&255)<<24-_%4*8;return new U.init(v,h)}},p=J.Utf8={stringify:function(i){try{return decodeURIComponent(escape(G.stringify(i)))}catch(h){throw new Error("Malformed UTF-8 data")}},parse:function(i){return G.parse(unescape(encodeURIComponent(i)))}},E=W.BufferedBlockAlgorithm=X.extend({reset:function(){this._data=new U.init,this._nDataBytes=0},_append:function(i){typeof i=="string"&&(i=p.parse(i)),this._data.concat(i),this._nDataBytes+=i.sigBytes},_process:function(i){var h,v=this._data,_=v.words,I=v.sigBytes,m=this.blockSize,z=m*4,N=I/z;i?N=P.ceil(N):N=P.max((N|0)-this._minBufferSize,0);var B=N*m,Z=P.min(B*4,I);if(B){for(var Y=0;Y<B;Y+=m)this._doProcessBlock(_,Y);h=_.splice(0,B),v.sigBytes-=Z}return new U.init(h,Z)},clone:function(){var i=X.clone.call(this);return i._data=this._data.clone(),i},_minBufferSize:0}),k=W.Hasher=E.extend({cfg:X.extend(),init:function(i){this.cfg=this.cfg.extend(i),this.reset()},reset:function(){E.reset.call(this),this._doReset()},update:function(i){return this._append(i),this._process(),this},finalize:function(i){i&&this._append(i);var h=this._doFinalize();return h},blockSize:512/32,_createHelper:function(i){return function(h,v){return new i.init(v).finalize(h)}},_createHmacHelper:function(i){return function(h,v){return new F.HMAC.init(i,v).finalize(h)}}}),F=Q.algo={};return Q}(Math);return j})},2316:function(C,T,w){(function(j,P){C.exports=T=P(w(3156))})(this,function(j){return function(P){var H=j,R=H.lib,M=R.WordArray,q=R.Hasher,Q=H.algo,W=[],X=[];(function(){function x(k){for(var F=P.sqrt(k),i=2;i<=F;i++)if(!(k%i))return!1;return!0}function G(k){return(k-(k|0))*4294967296|0}for(var p=2,E=0;E<64;)x(p)&&(E<8&&(W[E]=G(P.pow(p,.5))),X[E]=G(P.pow(p,.3333333333333333)),E++),p++})();var U=[],J=Q.SHA256=q.extend({_doReset:function(){this._hash=new M.init(W.slice(0))},_doProcessBlock:function(x,G){for(var p=this._hash.words,E=p[0],k=p[1],F=p[2],i=p[3],h=p[4],v=p[5],_=p[6],I=p[7],m=0;m<64;m++){if(m<16)U[m]=x[G+m]|0;else{var z=U[m-15],N=(z<<25|z>>>7)^(z<<14|z>>>18)^z>>>3,B=U[m-2],Z=(B<<15|B>>>17)^(B<<13|B>>>19)^B>>>10;U[m]=N+U[m-7]+Z+U[m-16]}var Y=h&v^~h&_,at=E&k^E&F^k&F,et=(E<<30|E>>>2)^(E<<19|E>>>13)^(E<<10|E>>>22),rt=(h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25),nt=I+rt+Y+X[m]+U[m],it=et+at;I=_,_=v,v=h,h=i+nt|0,i=F,F=k,k=E,E=nt+it|0}p[0]=p[0]+E|0,p[1]=p[1]+k|0,p[2]=p[2]+F|0,p[3]=p[3]+i|0,p[4]=p[4]+h|0,p[5]=p[5]+v|0,p[6]=p[6]+_|0,p[7]=p[7]+I|0},_doFinalize:function(){var x=this._data,G=x.words,p=this._nDataBytes*8,E=x.sigBytes*8;return G[E>>>5]|=128<<24-E%32,G[(E+64>>>9<<4)+14]=P.floor(p/4294967296),G[(E+64>>>9<<4)+15]=p,x.sigBytes=G.length*4,this._process(),this._hash},clone:function(){var x=q.clone.call(this);return x._hash=this._hash.clone(),x}});H.SHA256=q._createHelper(J),H.HmacSHA256=q._createHmacHelper(J)}(Math),j.SHA256})},116:()=>{(function(C,T){"use strict";C=C||"docReady",T=T||window;var w=[],j=!1,P=!1;function H(){if(!j){j=!0;for(var M=0;M<w.length;M++)w[M].fn.call(window,w[M].ctx);w=[]}}function R(){document.readyState==="complete"&&H()}T[C]=function(M,q){if(typeof M!="function")throw new TypeError("callback for docReady(fn) must be a function");if(j){setTimeout(function(){M(q)},1);return}else w.push({fn:M,ctx:q});document.readyState==="complete"||!document.attachEvent&&document.readyState==="interactive"?setTimeout(H,1):P||(document.addEventListener?(document.addEventListener("DOMContentLoaded",H,!1),window.addEventListener("load",H,!1)):(document.attachEvent("onreadystatechange",R),window.attachEvent("onload",H)),P=!0)}})("docReady",window)},477:()=>{}},dt={};function V(C){var T=dt[C];if(T!==void 0)return T.exports;var w=dt[C]={exports:{}};return At[C].call(w.exports,w,w.exports,V),w.exports}V.n=C=>{var T=C&&C.__esModule?()=>C.default:()=>C;return V.d(T,{a:T}),T},V.d=(C,T)=>{for(var w in T)V.o(T,w)&&!V.o(C,w)&&Object.defineProperty(C,w,{enumerable:!0,get:T[w]})},V.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(C){if(typeof window=="object")return window}}(),V.o=(C,T)=>Object.prototype.hasOwnProperty.call(C,T);var xt={};(()=>{"use strict";var C=V(2316),T=V.n(C);const w=document,j=null,P=()=>{const r=w.createElement("a");return r.href=j.location,r},H=(r,t)=>{const e=w.createElement("img");return e.height=1,e.width=1,e.style.display="none",e.src=r,e.onload=t,e.alt="",w.body.appendChild(e)},R=r=>{const t=w.createElement("iframe");return t.width=1,t.height=1,t.style.display="none",t.src=r,w.body.appendChild(t)},M=(r,t=!0)=>{const e=w.createElement("script");return e.type="text/javascript",e.src=r,e.async=t,w.body.appendChild(e)},q={img:H,script:M,iframe:R},Q=(r,t)=>{t||(t=window.location.href),r=r.replace(/[\[\]]/g,"\\$&");let e=new RegExp("[?&]"+r+"(=([^&#]*)|&|#|$)"),n=e.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},W=r=>{let t="_au_"+r+"=",n=decodeURIComponent(document.cookie).split(";");for(let s=0;s<n.length;s++){let l=n[s];for(;l.charAt(0)==" ";)l=l.substring(1);if(l.indexOf(t)==0)return l.substring(t.length,l.length)}return null},X=(r,t,e)=>(parseInt(W(r))||0)+t<e,U=r=>{const t=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i;let n=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,s=r.split("."),l=s[s.length-1];(l.length>4||l==="com"||l==="org"||l==="net")&&(n=t);let f=r.match(n);return f?f[0]:r},J=(r,t)=>{document.cookie="_au_"+r+"="+t+"; domain="+U(document.location.hostname)+"; path=/; max-age=31536000"};function x(r){let t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");r||(r=Math.floor(Math.random()*t.length));let e="";for(let n=0;n<r;n++)e+=t[Math.floor(Math.random()*t.length)];return e}function G(){const r=Math.round(Date.now()/1e3);return"AU1S-0100-"+String(r).padStart(12,"0")+"-"+x(8)+"-"+x(4)}function p(r){function t(y,g){var S,A,O,L,b;return O=y&2147483648,L=g&2147483648,S=y&1073741824,A=g&1073741824,b=(y&1073741823)+(g&1073741823),S&A?b^2147483648^O^L:S|A?b&1073741824?b^3221225472^O^L:b^1073741824^O^L:b^O^L}function e(y,g,S,A,O,L,b){return y=t(y,t(t(g&S|~g&A,O),b)),t(y<<L|y>>>32-L,g)}function n(y,g,S,A,O,L,b){return y=t(y,t(t(g&A|S&~A,O),b)),t(y<<L|y>>>32-L,g)}function s(y,g,S,A,O,L,b){return y=t(y,t(t(g^S^A,O),b)),t(y<<L|y>>>32-L,g)}function l(y,g,S,A,O,L,b){return y=t(y,t(t(S^(g|~A),O),b)),t(y<<L|y>>>32-L,g)}function f(y){var g="",S="",A;for(A=0;3>=A;A++)S=y>>>8*A&255,S="0"+S.toString(16),g+=S.substr(S.length-2,2);return g}var a=[],$,K,wt,Et,o,u,c,d;for(r=function(y){y=y.replace(/\r\n/g,`
`);for(var g="",S=0;S<y.length;S++){var A=y.charCodeAt(S);128>A?g+=String.fromCharCode(A):(127<A&&2048>A?g+=String.fromCharCode(A>>6|192):(g+=String.fromCharCode(A>>12|224),g+=String.fromCharCode(A>>6&63|128)),g+=String.fromCharCode(A&63|128))}return g}(r),a=function(y){var g,S=y.length;g=S+8;for(var A=16*((g-g%64)/64+1),O=Array(A-1),L=0,b=0;b<S;)g=(b-b%4)/4,L=b%4*8,O[g]|=y.charCodeAt(b)<<L,b++;return g=(b-b%4)/4,O[g]|=128<<b%4*8,O[A-2]=S<<3,O[A-1]=S>>>29,O}(r),o=1732584193,u=4023233417,c=2562383102,d=271733878,r=0;r<a.length;r+=16)$=o,K=u,wt=c,Et=d,o=e(o,u,c,d,a[r+0],7,3614090360),d=e(d,o,u,c,a[r+1],12,3905402710),c=e(c,d,o,u,a[r+2],17,606105819),u=e(u,c,d,o,a[r+3],22,3250441966),o=e(o,u,c,d,a[r+4],7,4118548399),d=e(d,o,u,c,a[r+5],12,1200080426),c=e(c,d,o,u,a[r+6],17,2821735955),u=e(u,c,d,o,a[r+7],22,4249261313),o=e(o,u,c,d,a[r+8],7,1770035416),d=e(d,o,u,c,a[r+9],12,2336552879),c=e(c,d,o,u,a[r+10],17,4294925233),u=e(u,c,d,o,a[r+11],22,2304563134),o=e(o,u,c,d,a[r+12],7,1804603682),d=e(d,o,u,c,a[r+13],12,4254626195),c=e(c,d,o,u,a[r+14],17,2792965006),u=e(u,c,d,o,a[r+15],22,1236535329),o=n(o,u,c,d,a[r+1],5,4129170786),d=n(d,o,u,c,a[r+6],9,3225465664),c=n(c,d,o,u,a[r+11],14,643717713),u=n(u,c,d,o,a[r+0],20,3921069994),o=n(o,u,c,d,a[r+5],5,3593408605),d=n(d,o,u,c,a[r+10],9,38016083),c=n(c,d,o,u,a[r+15],14,3634488961),u=n(u,c,d,o,a[r+4],20,3889429448),o=n(o,u,c,d,a[r+9],5,568446438),d=n(d,o,u,c,a[r+14],9,3275163606),c=n(c,d,o,u,a[r+3],14,4107603335),u=n(u,c,d,o,a[r+8],20,1163531501),o=n(o,u,c,d,a[r+13],5,2850285829),d=n(d,o,u,c,a[r+2],9,4243563512),c=n(c,d,o,u,a[r+7],14,1735328473),u=n(u,c,d,o,a[r+12],20,2368359562),o=s(o,u,c,d,a[r+5],4,4294588738),d=s(d,o,u,c,a[r+8],11,2272392833),c=s(c,d,o,u,a[r+11],16,1839030562),u=s(u,c,d,o,a[r+14],23,4259657740),o=s(o,u,c,d,a[r+1],4,2763975236),d=s(d,o,u,c,a[r+4],11,1272893353),c=s(c,d,o,u,a[r+7],16,4139469664),u=s(u,c,d,o,a[r+10],23,3200236656),o=s(o,u,c,d,a[r+13],4,681279174),d=s(d,o,u,c,a[r+0],11,3936430074),c=s(c,d,o,u,a[r+3],16,3572445317),u=s(u,c,d,o,a[r+6],23,76029189),o=s(o,u,c,d,a[r+9],4,3654602809),d=s(d,o,u,c,a[r+12],11,3873151461),c=s(c,d,o,u,a[r+15],16,530742520),u=s(u,c,d,o,a[r+2],23,3299628645),o=l(o,u,c,d,a[r+0],6,4096336452),d=l(d,o,u,c,a[r+7],10,1126891415),c=l(c,d,o,u,a[r+14],15,2878612391),u=l(u,c,d,o,a[r+5],21,4237533241),o=l(o,u,c,d,a[r+12],6,1700485571),d=l(d,o,u,c,a[r+3],10,2399980690),c=l(c,d,o,u,a[r+10],15,4293915773),u=l(u,c,d,o,a[r+1],21,2240044497),o=l(o,u,c,d,a[r+8],6,1873313359),d=l(d,o,u,c,a[r+15],10,4264355552),c=l(c,d,o,u,a[r+6],15,2734768916),u=l(u,c,d,o,a[r+13],21,1309151649),o=l(o,u,c,d,a[r+4],6,4149444226),d=l(d,o,u,c,a[r+11],10,3174756917),c=l(c,d,o,u,a[r+2],15,718787259),u=l(u,c,d,o,a[r+9],21,3951481745),o=t(o,$),u=t(u,K),c=t(c,wt),d=t(d,Et);return(f(o)+f(u)+f(c)+f(d)).toLowerCase()}const E=60*1e3,k=60*E,F=24*k;function i(r){var t="au/test";try{return r.localStorage.setItem(t,t),r.localStorage.removeItem(t),!0}catch(e){return!1}}class h{constructor(t){this.w=t,this.now=1*new Date,this.useCookie=!i(this.w)}getCookie(t){return W(t)}get(t,e=!1){if(this.useCookie||e)return this.getCookie(t);let n=this.w.localStorage.getItem("au/"+t);if(n){if(n=JSON.parse(n),n.e>this.now)return n.v;this.w.localStorage.removeItem("au/"+t)}return null}setCookie(t,e,n=E){J(t,e)}set(t,e,n=E,s=!1){this.useCookie||s?this.setCookie(t,e,n):this.w.localStorage.setItem("au/"+t,JSON.stringify({v:e,e:this.now+n}))}}const v=h,_=null,I=null,m="G-FVWZ0RM4DH",z=null,N="https://a.ad.gt",B="https://p.ad.gt",Z="https://pixels.ad.gt",Y="https://seg.ad.gt",at="https://ids.ad.gt",et="https://proton.ad.gt";var rt=r=>{throw TypeError(r)},nt=(r,t,e)=>t.has(r)||rt("Cannot "+e),it=(r,t,e)=>t.has(r)?rt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),st=(r,t,e)=>(nt(r,t,"access private method"),e),tt,lt,ot,ht;function St(r,t){let e=[];try{if(typeof t.featurePolicy=="undefined")return e;"browsingTopics"in t&&t.featurePolicy.allowsFeature("browsing-topics")&&e.push("BT"),"joinAdInterestGroup"in r.navigator&&t.featurePolicy.allowsFeature("join-ad-interest-group")&&e.push("JI"),"runAdAuction"in r.navigator&&t.featurePolicy.allowsFeature("run-ad-auction")&&e.push("RA"),t.featurePolicy.allowsFeature("attribution-reporting")&&e.push("AR")}catch(n){console.error(n)}return e}class kt{constructor(t,e,n){it(this,tt),this.w=t,this.d=e,this.auvars=n,this.iframe=null,this.iframeQueue=[],this.iframeReady=!1}run(){let t=new XMLHttpRequest;const e=new URL(`${__SEGMENT_SERVICE_URL__}/api/v2/match`);let n={hostname:this.w.location.hostname,partner_id:this.auvars.p,audigent_id:this.auvars.a};this.auvars.t!=null&&(n.tagger_id=this.auvars.t);let s=extractDomain(this.w.location.hostname),l=this;return t.onload=function(){var f;if(t.readyState==XMLHttpRequest.DONE&&t.status==200){const a=JSON.parse(t.response);Array.isArray(a)&&a.length>0&&(st(f=l,tt,lt).call(f),a.forEach($=>{var K;$.domain=s,st(K=l,tt,ot).call(K,$)}))}},t.open("POST",e,!0),t.setRequestHeader("Content-type","application/json"),t.send(JSON.stringify(n)),!0}}tt=new WeakSet,lt=function(){this.iframe=this.d.createElement("iframe"),this.iframe.style.display="none",this.iframe.src=`${et}/join-ad-interest-groups.html`,this.iframe.allow="join-ad-interest-group; attribution-reporting",this.iframe.sandbox="allow-scripts allow-same-origin",this.d.body.appendChild(this.iframe);let r=this;this.iframe.onload=()=>{r.iframeReady=!0,r.iframeQueue.forEach(t=>{var e;st(e=r,tt,ot).call(e,t)})}},ot=function(r){r.channel="AUPA",r.evid=x(8),this.iframeReady==!1?this.iframeQueue.push(r):(this.iframe.contentWindow.postMessage(r,et),st(this,tt,ht).call(this,r))},ht=function(r){const t=r.evid;switch(r.consumer){case"AUDIGENT":{const e=r.igs.map(n=>n.name);this.w.au.push({partnerId:this.p,category:"sendEvent",event:{type:"join_ad_interest_group",interest_groups:e,event_id:t}})}break;case"YAHOO":case"NEXTROLL":{const e=r.segs;this.w.au.push({partnerId:this.p,category:"sendEvent",event:{type:"external_audience",audiences:e,event_id:t,consumer:r.consumer}});break}default:break}};function ft(r,t,e,n){r.au_seg=e,(n||[]).forEach(l=>l(r,t,e.segments));const s=new CustomEvent("auSegReady",{detail:e});t.dispatchEvent(s)}function Bt(r,t,e){const n=r.apntag;if(typeof n!="undefined"&&typeof n.setPageOpts=="function"){let s={};typeof n.requests!="undefined"&&typeof n.requests.keywords!="undefined"&&(s=n.requests.keywords),s.AUDIGENT=(s.AUDIGENT||[]).concat(e),n.setPageOpts({keywords:s})}}function Mt(r,t,e){r.DTEvent.getEventPromise("dt-connatix-api-ready").then(function([n,s]){n.setMacros({AU_SEG:e})})}function pt(r,t,e){r.googletag=r.googletag||{},r.googletag.cmd=r.googletag.cmd||[],r.googletag.cmd.push(function(){r.googletag.pubads().setTargeting("AU_SEG",e)})}function Ut(r,t,e){try{if(r.self!==r.top){pt(r.top,t,e);return}}catch(n){}pt(r,t,e)}function Nt(r,t,e){t.cookie="au_seg="+e.join("|")+"; domain="+extractDomain(r.location.hostname)+"; path=/; max-age=86400; samesite=None; secure"}function Gt(r,t,e){typeof r.setTargeting=="function"?r.setTargeting("AU_SEG",e):r.console.log("[Audigent] cannot find window.setTargeting function")}var Ct=Object.defineProperty,bt=Object.defineProperties,Tt=Object.getOwnPropertyDescriptors,gt=Object.getOwnPropertySymbols,Rt=Object.prototype.hasOwnProperty,It=Object.prototype.propertyIsEnumerable,vt=(r,t,e)=>t in r?Ct(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,D=(r,t)=>{for(var e in t||(t={}))Rt.call(t,e)&&vt(r,e,t[e]);if(gt)for(var e of gt(t))It.call(t,e)&&vt(r,e,t[e]);return r},ut=(r,t)=>bt(r,Tt(t));const ct=window,mt=document,yt={"og:title":"title","og:description":"description","og:image":"image","og:url":"url","og:type":"type","og:name":"name","og:locale":"locale"},_t={description:"description",keywords:"keywords"},Lt="meta[name='audigent:tags']";class Ot{constructor(t){const{auvars:e,decoratorTarget:n,taggerStrategy:s}=t||{};this.w=ct,this.u=mt.location||ct.location,this.d=mt,this.auvars=e,this.dataStore=new v(ct),this.customOptions={},this.isIndexPage=this.u.pathname==="/",this.customTags=[],this.customAttributes={},this.userDefinedTags=[],this.userDefinedAttributes={},this.internalLinks=[],this.GlobalHandlers={},this.randNum=Math.random(),this.decoratorTarget=n||(this.isIndexPage?.95:.97),this.u.hostname.toLowerCase().endsWith("lnk.to")?this.taggerStrategy="FULL_PATH":this.taggerStrategy=s||this.auvars.tgs||"NONE",this.psf=St(this.w,this.d),this.setupSessionId(),this.setupHadron(),this.setupGA4()}docReady(){this.customOptions.autoPageView!==!1&&this.sendPageView(),this.ListenerIterator("a",this.clickHandler),this.w.addEventListener("hashchange",()=>{this.sendOffsiteClick({url:this.u.href}),this.sendPageView(),this.pixels()})}clearOptions(){this.customOptions={}}setOptions(t){const{options:e}=t||{};return typeof e=="object"?(this.customOptions=D(D({},this.customOptions),e),!0):!1}observeDom(t,e,n={childList:!0}){const s=window.MutationObserver||window.WebKitMutationObserver;if(!(!t||t.nodeType!==1))if(s){const l=new s(e);return l.observe(t,n),l}else window.addEventListener&&(t.addEventListener("DOMNodeInserted",e,!1),t.addEventListener("DOMNodeRemoved",e,!1))}push(t,e,n){if(typeof t=="string")return e&&e!==this.auvars.p?(console.warn("[Audigent] skip .push("+t+"), p is not a match"),!1):(console.warn('[Audigent] deprecated use of "push": please use .push( object )'),(this[t]||(()=>!1)).call(this,n),!0);if(t&&typeof t=="object"){const{fn:s,category:l,partnerId:f}=t,a=s||l;if(f&&f!==this.auvars.p)return console.warn("[Audigent] skip .push("+a+"), partnerId is not a match"),!1;if(s){const $=t.args;return Array.isArray($)?($.map(K=>(this[a]||(()=>!1)).call(this,K)),!0):((this[a]||(()=>!1)).call(this,$),!0)}return(this[a]||(()=>!1)).call(this,t),!0}return console.warn("[Audigent] could not execute the required command: please check your syntax"),!1}setupHadron(){var t;const e=(t=this.w.hadron)==null?void 0:t.id;this.auvars.h=e||null}getAudigentId(t){if(t instanceof Function)return t(this.auvars.a),this.auvars.a;const{callback:e}=t||{};return e instanceof Function&&e(this.auvars.a),this.auvars.a}setupSessionId(){let t=this.dataStore.get("sid");t==null&&(t=G()),this.auvars.s=t,this.dataStore.set("sid",t,30*E)}getTaggerComponents(){return null}setupTaggerId(){const t=this.u.hostname.toLowerCase(),e=this.getTags();let n=this.getTaggerComponents();Array.isArray(n)&&n.length>0||(this.taggerStrategy=="FULL_PATH"?n=[t,this.u.pathname,this.auvars.p]:Array.isArray(e)&&e.length>0?n=[t,"["+e.join(",").toLowerCase()+"]",this.auvars.p]:n=[t,"/",this.auvars.p]);const s=p(n.join("")).toLowerCase();return this.auvars.t=s,this.dataStore.set("tid",s,k),s}getMetaAttributes(){const t=this.d.querySelectorAll("meta");let e={url:this.u.href,title:this.d.title};for(const n of t){let s;const l=n.getAttribute("property");if(l!==void 0)l in yt&&(s=yt[l]);else{const f=n.getAttribute("name");f in _t&&(s=_t[f])}if(s!==void 0){const f=n.getAttribute("content");f!==void 0&&typeof f=="string"&&(s==="keywords"?e[s]=f.split(",").map(a=>a.trim()).filter(a=>a.length>0):(!(s in e)||e[s].length<f.length)&&(e[s]=f))}}return e}getCustomAttributes(){return{}}getAttributes(){return D(D(D(D({},this.customAttributes),this.userDefinedAttributes),this.getCustomAttributes()),this.getMetaAttributes())}clearAttributes(){this.userDefinedAttributes={}}setAttributes(t){const{attributes:e}=t||{};return typeof e=="object"?(this.userDefinedAttributes=e,!0):!1}addAttributes(t){const{attributes:e}=t||{};return typeof e=="object"?(this.userDefinedAttributes=D(D({},this.userDefinedAttributes),e),!0):!1}getMetaTags(){const t=document.head.querySelectorAll(Lt)[0];return t?t.content.split("|").map(e=>e.trim()).filter(e=>e.length>0).map(e=>(this.u.hostname+" > "+e).toUpperCase()):[]}getCustomTags(){return[]}getTags(){return[...this.customTags,...this.userDefinedTags,...this.getCustomTags(),...this.getMetaTags()].filter(e=>typeof e=="string"||e instanceof String).map(e=>e.replace(/,/g,"")).map(e=>e.trim()).filter(e=>e.length>0).map(e=>e.toUpperCase())}clearTags(){this.userDefinedTags=[]}setTags(t){const{tags:e}=t||{};return Array.isArray(e)?(this.userDefinedTags=e,!0):typeof e=="string"?(this.userDefinedTags=[e],!0):!1}addTags(t){const{tags:e}=t||{};return Array.isArray(e)?(this.userDefinedTags=[...e,...this.userDefinedTags],!0):typeof e=="string"?(this.userDefinedTags=[e,...this.userDefinedTags],!0):!1}writeDecoratorRecord(t){const{tags:e,decor_dict:n,attributes:s}=t;this.customTags=[...this.customTags,...e||[]],this.customAttributes=D(D(D({},this.customAttributes),n||{}),s||{})}sendDecoratorRecord(){if(!(this.randNum>=this.decoratorTarget))return null;const e=this.getAttributes(),n=this.getTags(),s=ut(D({},e),{tags:n.join(),tagger_id:this.auvars.t,partner_id:this.auvars.p});let l=new XMLHttpRequest,f=`${B}/api/v1/dec`;return l.open("POST",f,!0),l.setRequestHeader("Content-type","application/json"),l.send(JSON.stringify(s)),l}setupGA4(){if(this.auvars.ga4===!0)try{let t=document.createElement("script");t.src="https://www.googletagmanager.com/gtag/js?id="+m+"&l=audDataLayer",t.async=!0,document.head.appendChild(t);const e=this.w;typeof this.w.audGtag!="function"&&(this.w.audDataLayer=this.w.audDataLayer||[],this.w.audGtag=function(){e.audDataLayer.push(arguments)}),audGtag("js",new Date),audGtag("config",m,{user_id:this.auvars.a,dimension3:this.auvars.p,dimension4:this.u.hostname,dimension5:this.u.pathname,groups:"audigent",send_page_view:!1})}catch(t){console.error(t)}}ListenerIterator(t,e){Array.prototype.forEach.call(this.d.querySelectorAll(t),n=>{this.ListenerAttacher({input:n,method:e})})}ListenerAttacher(t){const{input:e,method:n}=t;e!=null&&(e.addEventListener?e.addEventListener("mousedown",n.bind(this),!1):e.attachEvent&&e.attachEvent("mousedown",n))}GlobalListenerHandler(t){this.GlobalHandlers[t.type].forEach(e=>{if(t.target.matches(e.selector))e.method(t);else{let n=t.target,s=!1;for(;n.parentElement&&!s;)n=n.parentElement,s=n.matches(e.selector),s&&e.method(ut(D({},t),{target:n}))}})}GlobalListenerAttacher(t,e,n){typeof t=="string"&&(t=[t]),t.forEach(s=>{this.GlobalHandlers[s]=this.GlobalHandlers[s]||[],this.GlobalHandlers[s].push({selector:e,method:n}),document.addEventListener?(document.removeEventListener(s,window.au.l),document.addEventListener(s,window.au.l)):document.attachEvent&&(document.detachEvent(s,window.au.l),document.attachEvent(s,window.au.l))})}sendOffsiteClick(t){const{url:e}=t;H(`${N}/api/v1/off-site-click/${this.auvars.p}?tagger_id=${this.auvars.t}&url=${e}`)}clickHandler(t){let e=t.currentTarget.getAttribute("href");e!==null&&this.internalLinks.includes(this.u.hostname)&&(this.sendOffsiteClick({url:e}),this.sendPageView())}sendUserBehaviour(t){const{action:e}=t,n={click_url:e,tagger_id:this.auvars.t,audigent_id:this.auvars.a,partner_id:this.auvars.p},s=new Blob([JSON.stringify(n)],{type:"application/json"});this.w.navigator.sendBeacon(`${B}/api/v1/ubh`,s)}behavior(t){const e=encodeURIComponent(`${this.u.protocol}//${this.u.hostname}${this.u.pathname}__audigent-behavior-${t.action}${this.u.search}${this.u.hash}`);this.sendOffsiteClick({url:e}),this.sendGAEvent({eventCategory:"audigent-behavior",eventAction:t.action,eventLabel:this.auvars.t})}sendEvent(t){let{event:e,events:n,type:s}=t;if(e=e||n,!e){if(!s)return null;e=D({},t),delete e.category,delete e.partnerId}const l={tagger_id:this.auvars.t,partner_id:this.auvars.p,audigent_id:this.auvars.a,events:Array.isArray(e)?e:[e]};let f=new XMLHttpRequest,a=`${B}/api/v1/event`;return f.open("POST",a,!0),f.setRequestHeader("Content-type","application/json"),f.send(JSON.stringify(l)),""}sendGAEvent(t){const{eventCategory:e,eventAction:n,eventLabel:s,skipSQS:l}=t;this.auvars.ga4===!0&&audGtag("event",e,{eventAction:n,eventLabel:s}),l||this.sendEvent({event:{type:e,eventAction:n,eventLabel:s}})}sendConsent(t){const{consented:e,consentType:n,consentString:s}=t,l="consent_"+n.toLowerCase(),f=this.dataStore.get("consent_"+t.consentType.toLowerCase());if(f&&s==f)return;const a={audigent_id:this.auvars.a,tagger_id:this.auvars.t,partner_id:this.auvars.p,consented:e,consent_type:n,consent_string:s},$=new Blob([JSON.stringify(a)],{type:"application/json"});return this.w.navigator.sendBeacon(`${B}/api/v1/con`,$)&&this.dataStore.set(l,s||"n/a",F),""}pixels(){const t=`${Z}/api/v1/getpixels?tagger_id=${this.auvars.t}&url=${encodeURIComponent(this.u.href)}&code='none'`;M(t,!0)}tags(t){return!1}conversion(t){return!1}sendPageView(t){this.randNum=Math.random();const e=this.setupTaggerId(),n=1*new Date,s={event_timestamp:n,url:this.u.href,referrer:this.d.referrer,partner_id:this.auvars.p,tagger_id:this.auvars.t,audigent_id:this.auvars.a,session_id:this.auvars.s,p_s_f:this.psf};this.auvars.h&&(s.hadron_id=this.auvars.h);const l=(t==null?void 0:t.data)||{},f={category:"pageView",version:"v2",created_at:n,properties:D(D({},s),l)};let a=new XMLHttpRequest,$=`${N}/api/v1/collect`;a.open("POST",$,!0),a.withCredentials=!0,a.setRequestHeader("Content-type","text/plain"),a.send(this.w.btoa(JSON.stringify(f))),this.pixels(),this.sendDecoratorRecord(),this.auvars.ga4===!0&&(audGtag("set",{dimension7:e,send_to:m}),(this.randNum>=.95||["158"].includes(this.auvars.p.toString())&&this.randNum>=.8||["220"].includes(this.auvars.p.toString())&&this.randNum>=.5)&&audGtag("event","page_view",{dimension7:e,send_to:m}))}beopEvent(t){const e=t.partnerId||this.auvars.p;this.sendEvent({event:ut(D({},t.data||{}),{partner_id:e,type:"beop"})})}trackEvent(t){return!1}DispatchEvent(t){const{eventName:e}=t,s=(l=>{if(typeof window.CustomEvent=="function")return new CustomEvent(l);const f={bubbles:!1,cancelable:!1,detail:void 0},a=document.createEvent("CustomEvent");return a.initCustomEvent(l,f.bubbles,f.cancelable,f.detail),a})(e);window.dispatchEvent(s)}optout(){H(`${at}/api/v1/optout?au_id=${this.auvars.a}`)}segCapture(t,e){const n=(t==null?void 0:t.segments)||[];if(n.length>0&&this.randNum>=.9){const s={tagger_id:this.auvars.t,partner_id:this.auvars.p,audigent_id:this.auvars.a,segment_ids:n.join("|"),is_cached:e},l=new Blob([JSON.stringify(s)],{type:"application/json"});return this.w.navigator.sendBeacon(`${B}/api/v1/segs`,l),!0}return!1}setupInPageTaxonomy(t){const e=this,n=this.dataStore.get("seg");if(n!=null){ft(e.w,e.d,n,t),this.segCapture(n,!0);return}let s=new URL(`${Y}/api/v2/segments`);if(s.searchParams.set("url",encodeURIComponent(this.u.href)),s.searchParams.set("partner_id",this.auvars.p),this.auvars.t!==void 0)s.searchParams.set("tagger_id",this.auvars.t);else{const f=this.setupTaggerId();s.searchParams.set("tagger_id",f)}s.searchParams.set("au_id",this.auvars.a);let l=new XMLHttpRequest;l.timeout=1e4,l.onload=function(){if(l.readyState==XMLHttpRequest.DONE&&l.status==200){const f=JSON.parse(l.response);ft(e.w,e.d,f,t),e.dataStore.set("seg",f,k*6),e.segCapture(f,!1)}},l.ontimeout=function(){console.log("[Audigent] Taxonomy Service > Timeout")},l.onerror=function(){console.log("[Audigent] Taxonomy Service > Invalid Response")},l.open("GET",s,!0),l.send()}addUserIdentity(t){if(!t)return!1;const{identityType:e,identityValue:n}=t;if(e===void 0||n===void 0)return!1;if(e==="email"){const s=window.btoa(n);return this.sendEvent({event:{type:"e",value:s}})}else return this.sendEvent({event:{type:"u",[e]:n,identityType:e,identityValue:n}})}addUserEmailAddress(t){if(!t)return!1;const{identityValue:e}=t;if(e===void 0)return!1;let n=e.toLowerCase().trim();if(n.endsWith("@gmail.com")){let l=n.split("@")[0];l=l.split("+")[0],l=l.replace(/\./g,""),n=l+"@gmail.com"}const s=T()(n).toString();return this.addUserIdentity({identityType:"hem_sha256",identityValue:s})}addUserProperty(t){if(!t)return!1;const{propertyName:e,propertyValue:n}=t;return e===void 0||n===void 0?!1:e==="email"?this.addUserIdentity({identityType:"email",identityValue:n}):this.sendEvent({event:{type:"user.property",propertyName:e,propertyValue:n}})}}const Pt=Ot;var jt=V(116);function Dt(r,t){const e="403";let n=r.au&&Array.isArray(r.au)?[...r.au]:[];r.auvars.autag_objs=[...(r.auvars.autag_objs||[]).filter(s=>s!=="autag"),"autag"],r.au={push:(...s)=>{r.auvars.autag_objs.forEach(l=>Object.values(r[l]||{}).forEach(f=>f.push(...s)))},l:s=>{r.auvars.autag_objs.forEach(l=>Object.values(r[l]||{}).forEach(f=>f.GlobalListenerHandler(s)))},init:()=>{r.auvars[e].hist=r.auvars[e].hist||[];const s=r.auvars[e].hist.slice(-1)[0];r.autag=r.autag||{},(!r.autag[e]||s!==r.location.href)&&(r.auvars[e].hist.push(r.location.href),r.autag[e]=t({auvars:r.auvars[e]}))}},r.au.init(),n.forEach(s=>r.au.push(s))}docReady(()=>window.au.push({category:"docReady"}));class Ht extends Pt{}(function(r){Dt(r,function(t){return new Ht(t)})})(window)})()})();})();