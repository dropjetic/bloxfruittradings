"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6394,9480],{12827:(e,t,r)=>{r.d(t,{W:()=>n});var i=r(53115);function n(){let[e,t]=(0,i.useState)(!1),[r,n]=(0,i.useState)(!0),[a,s]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=setTimeout(()=>{t(!0);try{let e=window.matchMedia("(prefers-reduced-motion: reduce)"),t=e.matches;s(t),n(!t);let r=e=>{let t=e.matches;s(t),n(!t)};return e.addEventListener("change",r),()=>{e.removeEventListener("change",r)}}catch(e){console.warn("Animation preferences detection failed:",e),n(!0),s(!1)}},50);return()=>clearTimeout(e)},[]),{enableAnimations:r,respectReducedMotion:a,isClient:e}}},13001:(e,t,r)=>{let i;r.d(t,{WSTRPCReactProvider:()=>v,n:()=>h});var n=r(18059),a=r(55306),s=r(20251),o=r(92857),d=r(73819),l=r(53115),c=r(54681),u=r(48373),m=r(14575);let h=(0,d.pY)(),f=()=>{let e=new URL(u.baseUrl);return"https://".concat(e.host,"/api/ws")};function v(e){let t=null!=i?i:i=(0,m.U)(),[r]=(0,l.useState)(()=>h.createClient({links:[(0,o.$H)({enabled:e=>"down"===e.direction&&e.result instanceof Error}),(0,o.hf)({condition:e=>"subscription"===e.type,true:(0,o.MX)({url:f(),transformer:c.Ay,eventSourceOptions:()=>({withCredentials:!0,timeout:3e4})}),false:(0,o.N9)({transformer:c.Ay,url:f(),headers:()=>{let e=new Headers;return e.set("x-trpc-source","Bloxfruits"),e}})})]}));return(0,n.jsxs)(a.QueryClientProvider,{client:t,children:[(0,n.jsx)(h.Provider,{client:r,queryClient:t,children:e.children}),(0,n.jsx)(s.E,{initialIsOpen:!1})]})}},14575:(e,t,r)=>{r.d(t,{U:()=>s});var i=r(41198),n=r(79085),a=r(54681);let s=()=>new i.E({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,staleTime:3e5,gcTime:6e5,retry:2},dehydrate:{serializeData:a.Ay.serialize,shouldDehydrateQuery:e=>(0,n.XS)(e)||"pending"===e.state.status},hydrate:{deserializeData:a.Ay.deserialize}}})},18468:(e,t,r)=>{r.d(t,{k:()=>o});var i=r(18059),n=r(53115),a=r(69593),s=r(47614);let o=n.forwardRef((e,t)=>{let{className:r,value:n,...o}=e;return(0,i.jsx)(a.bL,{ref:t,className:(0,s.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",r),...o,children:(0,i.jsx)(a.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})})});o.displayName=a.bL.displayName},23692:(e,t,r)=>{r.d(t,{ClientAuthProvider:()=>c,e:()=>l});var i=r(23504),n=r(42822),a=r(34096),s=r(53115),o=r(54584),d=r.n(o);let l=(0,i.eU)(null);function c(e){let{initialSession:t}=e;(0,n.RH)([[l,t]]);let r=a.F.user.updateLastOnline.useMutation(),i=(0,s.useRef)(!0),o=(0,s.useCallback)(d()(()=>{t&&r.mutate()},3e4),[t,r]);return(0,s.useEffect)(()=>{if(!t)return;let e=["mousedown","keydown","touchstart","scroll","mousemove"];i.current&&(r.mutate(),i.current=!1);let n=setInterval(()=>{r.mutate()},6e4),a=()=>{o()};return e.forEach(e=>{window.addEventListener(e,a)}),()=>{o.cancel(),clearInterval(n),e.forEach(e=>{window.removeEventListener(e,a)})}},[t,o,r]),null}},34096:(e,t,r)=>{let i;r.d(t,{F:()=>h,TRPCReactProvider:()=>v});var n=r(18059),a=r(55306),s=r(20251),o=r(92857),d=r(73819),l=r(53115),c=r(54681),u=r(14575),m=r(48373);let h=(0,d.pY)(),f=()=>{let e=new URL(m.baseUrl);return"https://".concat(e.host,"/api/trpc")};function v(e){let t=null!=i?i:i=(0,u.U)(),[r]=(0,l.useState)(()=>h.createClient({links:[(0,o.$H)({enabled:e=>"down"===e.direction&&e.result instanceof Error}),(0,o.hf)({condition:e=>"subscription"===e.type,true:(0,o.MX)({url:f(),transformer:c.Ay,eventSourceOptions:()=>({withCredentials:!0,timeout:3e4})}),false:(0,o.N9)({transformer:c.Ay,url:f(),headers:()=>{let e=new Headers;return e.set("x-trpc-source","Bloxfruits"),e}})})]}));return(0,n.jsxs)(a.QueryClientProvider,{client:t,children:[(0,n.jsx)(h.Provider,{client:r,queryClient:t,children:e.children}),(0,n.jsx)(s.E,{initialIsOpen:!1})]})}},56292:(e,t,r)=>{r.d(t,{$:()=>I,MiddlemanProvider:()=>U});var i=r(18059),n=r(389),a=r(53115),s=r(34096),o=r(58097),d=r(18468),l=r(59352),c=r(63604),u=r(60765),m=r(28427),h=r(39462),f=r(20085),v=r(57102),p=r(80268),g=r(63678),b=r(2030),x=r(25470),w=r(13001),y=r(47614);function N(e){var t,r,s,N;let{notificationData:j,onClose:q}=e,[k,C]=(0,a.useState)(j.timeout),[I,E]=(0,a.useState)(null),[A,R]=(0,a.useState)(!1),O=w.n.useUtils(),S=(0,n.useRouter)(),U=w.n.middleman.acceptRequest.useMutation({onSuccess:e=>{R(!0),O.middleman.getRequest.invalidate(),O.middleman.getPendingRequests.invalidate(),q(),e.redirectUrl&&S.push(e.redirectUrl)},onError:e=>{e.message.includes("already been accepted")||e.message.includes("duplicate key")?l.o.info("Request no longer available",{description:e.message.includes("duplicate key")?"You already have an active middleman request. Please complete or cancel it before accepting a new one.":"Another middleman has already accepted this request."}):l.o.error("Failed to accept request",{description:e.message}),R(!0),q()}}),P=w.n.middleman.declineRequest.useMutation({onSuccess:()=>{R(!0),O.middleman.getRequest.invalidate(),O.middleman.getPendingRequests.invalidate(),q()},onError:e=>{l.o.error("Failed to decline request",{description:e.message}),q()}}),T=(0,a.useCallback)(()=>{C(0),R(!0),j.requestId&&P.mutate({requestId:j.requestId}),q()},[P,j.requestId,q]);(0,a.useEffect)(()=>{j.isOpen&&(C(j.timeout),R(!1))},[j.timeout,j.isOpen]),(0,a.useEffect)(()=>{if(!j.isOpen||A)return;let e=setInterval(()=>{C(t=>t<=1?(clearInterval(e),T(),0):t-1)},1e3);return()=>clearInterval(e)},[j.isOpen,A,T]);let{data:B}=w.n.middleman.getRequest.useQuery(j.requestId?{requestId:j.requestId}:x.hT,{enabled:j.isOpen&&null!==j.requestId&&!A,refetchInterval:!1,staleTime:1/0});if(!B||A||!j.isOpen)return null;let K=k/j.timeout*100;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v.N,{children:j.isOpen&&!A&&(0,i.jsxs)(p.P.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:20,stiffness:300},className:(0,y.cn)("fixed right-0 top-4 z-50 max-h-[calc(100vh-2rem)] w-[300px] overflow-y-auto rounded-lg border bg-background shadow-lg","lg:right-[400px]"),children:[(0,i.jsxs)("div",{className:"border-b bg-card/40 p-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(c.A,{className:"h-4 w-4 text-primary"}),(0,i.jsx)("h2",{className:"text-base font-semibold",children:"New Middleman Request"})]}),(0,i.jsxs)("div",{className:"mt-2 flex items-center gap-1.5 text-xs text-muted-foreground",children:[(0,i.jsx)(u.A,{className:"h-3.5 w-3.5"}),(0,i.jsxs)("span",{children:["Time remaining: ",(0,i.jsxs)("span",{className:"font-medium text-foreground",children:[k,"s"]})]})]}),(0,i.jsx)(d.k,{value:K,className:"mt-2 h-1"})]}),(0,i.jsx)("div",{className:"flex flex-col gap-3 p-3",children:(0,i.jsxs)("div",{className:"rounded-lg border bg-card/40 p-3",children:[(0,i.jsx)("div",{className:"mb-2 flex items-center justify-between",children:(0,i.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,i.jsx)(m.A,{className:"h-3.5 w-3.5 text-primary"}),(0,i.jsx)("p",{className:"text-sm font-medium",children:"Trade Participants"})]})}),(0,i.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between rounded-md bg-background/50 p-1.5",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(g.Avatar,{className:"h-8 w-8 border",children:[(0,i.jsx)(g.AvatarImage,{src:null!=(s=B.initiator.image)?s:""}),(0,i.jsx)(g.AvatarFallback,{children:null==(t=B.initiator.name)?void 0:t.substring(0,2)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-sm font-medium",children:B.initiator.name}),(0,i.jsx)("span",{className:"block text-xs text-muted-foreground",children:"Initiator"})]})]}),(0,i.jsx)(o.$,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:()=>{var e;return E(null!=(e=B.initiator.name)?e:"")},children:(0,i.jsx)(h.A,{className:"h-3.5 w-3.5"})})]}),B.confirmer&&(0,i.jsxs)("div",{className:"flex items-center justify-between rounded-md bg-background/50 p-1.5",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(g.Avatar,{className:"h-8 w-8 border",children:[(0,i.jsx)(g.AvatarImage,{src:null!=(N=B.confirmer.image)?N:""}),(0,i.jsx)(g.AvatarFallback,{children:null==(r=B.confirmer.name)?void 0:r.substring(0,2)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-sm font-medium",children:B.confirmer.name}),(0,i.jsx)("span",{className:"block text-xs text-muted-foreground",children:"Confirmer"})]})]}),(0,i.jsx)(o.$,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:()=>{var e,t;return E(null!=(t=null==(e=B.confirmer)?void 0:e.name)?t:"")},children:(0,i.jsx)(h.A,{className:"h-3.5 w-3.5"})})]})]})]})}),(0,i.jsx)("div",{className:"border-t bg-card/30 p-3",children:(0,i.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,i.jsx)(o.$,{variant:"outline",onClick:T,className:"min-w-[70px] bg-red-500/80 text-sm",children:"Decline"}),(0,i.jsxs)(o.$,{onClick:()=>{j.requestId&&U.mutate({requestId:j.requestId})},disabled:U.isPending||!j.requestId,className:"min-w-[100px] bg-green-500/80 text-sm",children:[U.isPending?(0,i.jsx)(f.A,{className:"mr-2 h-3.5 w-3.5 animate-spin"}):null,"Accept"]})]})})]})}),I&&(0,i.jsx)(b.F,{username:I,isOpen:!0,onClose:()=>E(null)})]})}var j=r(91597),q=r(23504),k=r(824),C=r(3918);let I=(0,a.createContext)({notificationData:{requestId:null,timeout:30,isOpen:!1},queueState:null,queuedRequests:null,setNotificationData:()=>console.warn("MiddlemanContext not initialized"),handleRequestComplete:()=>console.warn("handleRequestComplete not initialized")}),E=(0,C.tG)("middleman-handled-reqs",[]),A=(0,C.tG)("middleman-shown-notifications",[]),R=(0,C.tG)("middleman-notification-debounce",{}),O=(0,C.tG)("middleman-last-toast",0),S=(0,q.eU)({requestId:null,timeout:30,isOpen:!1});function U(e){let{children:t}=e,r=(0,n.useRouter)(),o=(0,n.usePathname)(),d=(0,j.J)();s.F.useUtils();let c=w.n.useUtils(),[u,m]=(0,a.useState)(null),[h,f]=(0,k.fp)(E),[v,p]=(0,k.fp)(A),[g,b]=(0,k.fp)(R),[x,y]=(0,k.fp)(O),[q,C]=(0,k.fp)(S),[U,P]=(0,a.useState)(null),{data:T}=w.n.channel.list.useQuery(void 0,{enabled:!!(null==d?void 0:d.id)}),B=(0,a.useCallback)(e=>{f(t=>[...t,e]),C(e=>({...e,isOpen:!1,requestId:null})),p([])},[f,C,p]),{data:K}=w.n.middleman.getPendingRequests.useQuery(void 0,{enabled:(null==d?void 0:d.role)==="middleman",refetchInterval:3e4});(0,a.useEffect)(()=>{K&&P(K)},[K]),w.n.middleman.onMiddlemanUpdates.useSubscription(void 0,{enabled:(null==d?void 0:d.role)==="middleman"||null!==u,onData(e){switch(e.type){case"redirect":"string"==typeof e.data&&r.push(e.data);break;case"tradeComplete":e.data.redirectUrl&&(r.push(e.data.redirectUrl),l.o.success("Trade session completed",{description:"View the trade details",action:{label:"View",onClick:()=>r.push(e.data.redirectUrl)}}));break;case"notification":e.data&&"object"==typeof e.data&&"timeout"in e.data&&"request"in e.data&&z({request:e.data.request,timeout:e.data.timeout,action:e.data.action});break;case"queueUpdate":var t;if(null==(t=e.data)?void 0:t.queueStatus){let t=e.data.queueStatus,r=t.queueLength;m({position:r,estimatedWait:t.estimatedWaitTime,lastUpdate:new Date}),P(i=>i?i.map(i=>e.data.request&&i.id===e.data.request.id?{...i,queueInfo:{position:r,estimatedWait:t.estimatedWaitTime,availableMiddlemen:t.availableMiddlemen}}:i):i),(null==u?void 0:u.position)!==r&&l.o.info("Queue position updated: ".concat(r),{description:"Estimated wait: ".concat(t.estimatedWaitTime," minutes")})}break;case"requestUpdate":e.data.request&&P(t=>{if(!t)return t;let r=t.some(t=>{var r;return t.id===(null==(r=e.data.request)?void 0:r.id)}),i=e.data.request;return r?t.map(e=>e.id===i.id?{...e,...i}:e).filter(e=>["pending","searching","assigned"].includes(e.status)):["pending","searching","assigned"].includes(i.status)?[...t,i]:t})}}}),(0,a.useEffect)(()=>{if(!(null==d?void 0:d.id)||!T||(null==d?void 0:d.role)!=="middleman")return;let e=new Set;for(let t of T)e.has(t.id)||c.middleman.getActiveTradeForChannel.fetch({channelId:t.id}).then(i=>{if((null==i?void 0:i.middlemanId)===d.id){e.add(t.id);let i="/messages/".concat(t.id);o!==i&&(r.push(i),l.o.info("You have an active trade session",{description:"Click to view details",action:{label:"View",onClick:()=>r.push(i)}}))}}).catch(e=>{console.error("Error checking active trades:",e)})},[null==d?void 0:d.id,T,r,c.middleman.getActiveTradeForChannel,null==d?void 0:d.role,o]);let{data:L}=w.n.middleman.getPendingRequests.useQuery(void 0,{enabled:(null==d?void 0:d.role)==="middleman"});(0,a.useEffect)(()=>{if(!(null==L?void 0:L.length))return;let e=Date.now(),t=L.find(t=>"searching"===t.status&&!h.includes(t.id)&&!v.includes(t.id)&&(!g[t.id]||e-g[t.id]>=5e3));t&&(!q.isOpen||q.requestId!==t.id)&&(p([...v,t.id]),b(r=>({...r,[t.id]:e})),C({requestId:t.id,timeout:30,isOpen:!0}))},[L,h,v,q,g,b,p,x,y,C]),(0,a.useEffect)(()=>{null===q.requestId&&p([])},[q.requestId,p]),(0,a.useEffect)(()=>{let e=Date.now(),t={...g},r=!1;Object.entries(t).forEach(i=>{let[n,a]=i;e-a>36e5&&(delete t[n],r=!0)}),r&&b(t)},[g,b]);let z=e=>{var t;if((null==d?void 0:d.role)!=="middleman"||!(null==e||null==(t=e.request)?void 0:t.id)||!Array.isArray(h)||h.includes(e.request.id)||q.isOpen)return;let r=Date.now(),i=e.request.id;r-(g[i]||0)>5e3&&(b(e=>({...e,[i]:r})),C({requestId:i,timeout:e.timeout,isOpen:!0}),r-x>2e3&&(y(r),l.o.info("NEW_REQUEST"===e.action?"New trade request available!":"Middleman action required",{description:"Opening request details...",duration:3e3})))};return(0,i.jsxs)(I.Provider,{value:{notificationData:q,queueState:u,queuedRequests:U,setNotificationData:C,handleRequestComplete:B},children:[t,(0,i.jsx)(N,{notificationData:q,onClose:()=>{B(q.requestId)}})]})}},58097:(e,t,r)=>{r.d(t,{$:()=>l,r:()=>d});var i=r(18059),n=r(53115),a=r(37255),s=r(41304),o=r(47614);let d=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 relative overflow-hidden",{variants:{variant:{default:"bg-gradient-to-br from-primary via-primary/95 to-primary/85 text-primary-foreground hover:from-primary/90 hover:via-primary/85 hover:to-primary/80 hover:shadow-lg hover:shadow-primary/25 active:scale-[0.97] border border-primary/20 ring-1 ring-white/10",destructive:"bg-gradient-to-br from-destructive via-destructive/95 to-destructive/85 text-destructive-foreground hover:from-destructive/90 hover:via-destructive/85 hover:to-destructive/80 hover:shadow-lg hover:shadow-destructive/25 active:scale-[0.97] border border-destructive/20 ring-1 ring-white/10",outline:"border-2 border-border/60 bg-background/70 backdrop-blur-md hover:bg-accent/80 hover:text-accent-foreground hover:shadow-md hover:border-border/80 active:scale-[0.97] ring-1 ring-white/5",secondary:"bg-gradient-to-br from-secondary via-secondary/95 to-secondary/90 text-secondary-foreground hover:from-secondary/85 hover:via-secondary/80 hover:to-secondary/85 hover:shadow-md active:scale-[0.97] border border-secondary/20",ghost:"hover:bg-accent/40 hover:text-accent-foreground active:scale-[0.97] hover:shadow-sm",link:"text-primary underline-offset-4 hover:underline hover:text-primary/80",brand:"bg-gradient-to-br from-[#7c3aed] via-[#8b5cf6] to-[#a855f7] text-white hover:from-[#6d28d9] hover:via-[#7c3aed] hover:to-[#9333ea] hover:shadow-xl hover:shadow-purple-500/30 active:scale-[0.97] border border-purple-500/20 ring-1 ring-white/15",premium:"bg-gradient-to-br from-violet-600 via-purple-600 to-indigo-600 text-white hover:from-violet-500 hover:via-purple-500 hover:to-indigo-500 hover:shadow-xl hover:shadow-violet-500/30 active:scale-[0.97] border border-violet-500/20 ring-1 ring-white/15"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,t)=>{let{className:r,variant:n,size:s,asChild:l=!1,children:c,...u}=e,m=l?a.DX:"button";return(0,i.jsxs)(m,{className:(0,o.cn)(d({variant:n,size:s,className:r})),ref:t,...u,children:[c,!l&&("default"===n||"brand"===n||"premium"===n)&&(0,i.jsx)("div",{className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity duration-500",children:(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -skew-x-12 animate-shimmer"})})]})});l.displayName="Button"},59352:(e,t,r)=>{r.d(t,{o:()=>n});var i=r(99846);let n={success:(e,t)=>i.BK.success(e,null==t?void 0:t.description,null==t?void 0:t.duration),error:(e,t)=>i.BK.error(e,null==t?void 0:t.description,null==t?void 0:t.duration),warning:(e,t)=>i.BK.warning(e,null==t?void 0:t.description,null==t?void 0:t.duration),info:(e,t)=>i.BK.info(e,null==t?void 0:t.description,null==t?void 0:t.duration),loading:(e,t)=>((null==t?void 0:t.id)&&i.BK.removeNotification(t.id),i.BK.info(e,null==t?void 0:t.description,0)),promise:(e,t)=>{let r=i.BK.info(t.loading,t.description,0);return e.then(e=>{i.BK.removeNotification(r);let n="function"==typeof t.success?t.success(e):t.success;i.BK.success(n,t.description)}).catch(e=>{i.BK.removeNotification(r);let n="function"==typeof t.error?t.error(e):t.error;i.BK.error(n,t.description)}),r},message:(e,t)=>i.BK.info(e,null==t?void 0:t.description,null==t?void 0:t.duration),dismiss:e=>{e?i.BK.removeNotification(e):i.BK.clearAll()},custom:(e,t)=>"function"==typeof e?i.BK.success("Action completed successfully",null==t?void 0:t.description,null==t?void 0:t.duration):i.BK.info(e,null==t?void 0:t.description,null==t?void 0:t.duration)}},70834:(e,t,r)=>{r.d(t,{Tooltip:()=>d,TooltipContent:()=>c,TooltipProvider:()=>o,TooltipTrigger:()=>l});var i=r(18059),n=r(53115),a=r(91439),s=r(47614);let o=a.Kq,d=a.bL,l=a.l9,c=n.forwardRef((e,t)=>{let{className:r,sideOffset:n=4,...o}=e;return(0,i.jsx)(a.ZL,{children:(0,i.jsx)(a.UC,{ref:t,sideOffset:n,className:(0,s.cn)("z-50 overflow-hidden rounded-md border border-primary/20 bg-background/80 px-3 py-1.5 text-xs text-foreground shadow-sm shadow-primary/10 backdrop-blur-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...o})})});c.displayName=a.UC.displayName},91338:(e,t,r)=>{r.d(t,{E:()=>o});var i=r(18059);r(53115);var n=r(41304),a=r(47614);let s=(0,n.F)("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-1 ring-inset",{variants:{variant:{default:"border-transparent bg-gradient-to-br from-primary/95 to-primary/85 text-primary-foreground shadow-md shadow-primary/25 hover:shadow-lg hover:shadow-primary/30 ring-white/10",secondary:"border-transparent bg-gradient-to-br from-secondary/95 to-secondary/85 text-secondary-foreground shadow-md hover:shadow-lg ring-white/5",destructive:"border-transparent bg-gradient-to-br from-destructive/95 to-destructive/85 text-destructive-foreground shadow-md shadow-destructive/25 hover:shadow-lg hover:shadow-destructive/30 ring-white/10",outline:"border-2 border-primary/40 bg-background/80 text-foreground hover:border-primary/60 hover:bg-primary/10 backdrop-blur-md ring-white/5",success:"border-transparent bg-gradient-to-br from-green-500/95 to-green-600/90 text-white shadow-md shadow-green-500/25 hover:shadow-lg hover:shadow-green-500/30 ring-white/15",premium:"border-transparent bg-gradient-to-br from-purple-600 via-indigo-600 to-purple-700 text-white shadow-md shadow-purple-600/25 hover:shadow-lg hover:shadow-purple-600/35 ring-white/15",ghost:"border-transparent bg-background/90 text-foreground backdrop-blur-md hover:bg-muted/70 ring-white/5",warning:"border-transparent bg-gradient-to-br from-amber-500/95 to-orange-500/90 text-white shadow-md shadow-amber-500/25 hover:shadow-lg hover:shadow-amber-500/30 ring-white/15",info:"border-transparent bg-gradient-to-br from-blue-500/95 to-cyan-500/90 text-white shadow-md shadow-blue-500/25 hover:shadow-lg hover:shadow-blue-500/30 ring-white/15"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...n}=e;return(0,i.jsx)("div",{className:(0,a.cn)(s({variant:r}),t),...n})}},91597:(e,t,r)=>{r.d(t,{J:()=>a});var i=r(824),n=r(23692);let a=()=>{let[e]=(0,i.fp)(n.e),{user:t}=null!=e?e:{user:null};return t}},99846:(e,t,r)=>{r.d(t,{BK:()=>o,QQ:()=>d});var i=r(53115);let n=0,a=[];class s{subscribe(e){return this.listeners.push(e),()=>{let t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}}emit(){let e=[...this.notifications];this.listeners.forEach(t=>t(e)),this.changeListeners.size>0&&queueMicrotask(()=>{this.changeListeners.forEach(e=>e())})}addNotification(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3,a={id:"unified-toast-".concat(++n,"-").concat(Date.now()),title:e,message:t,type:r,duration:i,timestamp:Date.now()};return this.notifications=[a,...this.notifications],this.emit(),a.id}removeNotification(e){this.notifications=this.notifications.filter(t=>t.id!==e),this.emit()}success(e,t,r){return this.addNotification(e,t,"success",r)}error(e,t,r){return this.addNotification(e,t,"error",r)}warning(e,t,r){return this.addNotification(e,t,"warning",r)}info(e,t,r){return this.addNotification(e,t,"info",r)}clearAll(){this.notifications=[],this.emit()}getNotifications(){return this.notifications}constructor(){this.listeners=[],this.notifications=[],this.changeListeners=new Set,this.subscribeChange=e=>(this.changeListeners.add(e),()=>{this.changeListeners.delete(e)})}}let o=new s;function d(){return{notifications:(0,i.useSyncExternalStore)(o.subscribeChange,()=>o.getNotifications(),()=>a),removeNotification:o.removeNotification.bind(o),clearAll:o.clearAll.bind(o)}}}}]);