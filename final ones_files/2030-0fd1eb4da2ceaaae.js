"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2030],{2030:(e,s,a)=>{a.d(s,{F:()=>eo});var t=a(18059),r=a(79634),l=a.n(r),i=a(96897),n=a(63678),d=a(92265),o=a(61711),c=a(58097),m=a(80268),x=a(57102),u=a(99364),p=a(34096),h=a(91338),g=a(26252),f=a(59352),b=a(53115),v=a(32122),j=a(89515),N=a(20085),y=a(80390),w=a(3159),k=a(19197),C=a(21307),A=a(58857),S=a(41928),E=a(54638),T=a(1847),R=a(89973),P=a(77784),z=a.n(P),U=a(48373),F=a(38203),D=a(24153),I=a(47614);let M=b.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(F.bL,{className:(0,I.cn)("grid gap-2",a),...r,ref:s})});M.displayName=F.bL.displayName;let L=b.forwardRef((e,s)=>{let{className:a,label:r,...l}=e;return(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(F.q7,{ref:s,className:(0,I.cn)("aspect-square h-5 w-5 rounded-full border-2 border-primary text-primary shadow transition-colors hover:border-primary/80 hover:bg-primary/5 focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...l,children:(0,t.jsx)(F.C1,{className:"flex items-center justify-center",children:(0,t.jsx)(D.A,{className:"h-3 w-3 fill-primary animate-in zoom-in-75"})})}),r&&(0,t.jsx)("label",{className:(0,I.cn)("text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",l.disabled?"cursor-not-allowed opacity-70":"cursor-pointer hover:text-foreground/80"),children:r})]})});L.displayName=F.q7.displayName;var V=a(70834),B=a(60813),O=a(2759),$=a(40400),_=a(31265),Z=a(14867),J=a(28509),W=a(91597);function H(e){var s,a,r,l;let{isOpen:d,onClose:o,username:m,userId:x}=e,f=(0,W.J)(),N=(null==f?void 0:f.id)===x,[y,w]=(0,b.useState)("all"),[C,A]=(0,b.useState)("date"),[S,E]=(0,b.useState)("desc"),{data:T}=p.F.user.getVouchStats.useQuery({userId:x},{refetchOnWindowFocus:!1,staleTime:3e4}),{data:P,isLoading:z}=p.F.user.getUserVouches.useQuery({userId:x},{refetchOnWindowFocus:!1,staleTime:3e4});b.useMemo(()=>{let e=new Set;if(!P)return e;for(let e of P);return e},[P]);let U=b.useMemo(()=>P?P.filter(e=>"all"===y||e.type===y).sort((e,s)=>"date"===C?"desc"===S?new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime():new Date(e.createdAt).getTime()-new Date(s.createdAt).getTime():"desc"===S?s.rating-e.rating:e.rating-s.rating):[],[P,y,C,S]),F=b.useMemo(()=>{if(!(null==T?void 0:T.avgRating))return"N/A";let e=Number(T.avgRating);return isNaN(e)?"N/A":e.toFixed(1)},[null==T?void 0:T.avgRating]);return(0,t.jsx)(i.lG,{open:d,onOpenChange:e=>!e&&o(),children:(0,t.jsx)(i.Cf,{className:"z-[90] h-[100vh] w-[100vw] sm:h-[90vh] sm:w-[90vw] sm:max-w-6xl gap-0 bg-background/95 backdrop-blur-xl p-0 sm:rounded-lg",zIndex:90,children:(0,t.jsxs)("div",{className:"h-full flex flex-col",children:[(0,t.jsxs)("div",{className:"flex-shrink-0 p-4 sm:p-6 border-b",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)(i.L3,{className:"text-lg sm:text-xl font-bold",children:N?"Your Ratings":"".concat(m,"'s Ratings")}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[null!=(s=null==T?void 0:T.total)?s:0," total ratings received"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-2 sm:gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"rounded-lg border bg-card p-2 sm:p-3 text-center",children:[(0,t.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-primary",children:null!=(a=null==T?void 0:T.total)?a:0}),(0,t.jsx)("div",{className:"text-xs sm:text-sm font-medium",children:"Total"})]}),(0,t.jsxs)("div",{className:"rounded-lg border bg-card p-2 sm:p-3 text-center",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,t.jsx)("span",{className:"text-lg sm:text-2xl font-bold text-yellow-500",children:F}),(0,t.jsx)(R.A,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-400"})]}),(0,t.jsx)("div",{className:"text-xs sm:text-sm font-medium",children:"Avg"})]}),(0,t.jsxs)("div",{className:"rounded-lg border bg-card p-2 sm:p-3 text-center",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,t.jsx)("span",{className:"text-lg sm:text-2xl font-bold text-green-500",children:null!=(r=null==T?void 0:T.positive)?r:0}),(0,t.jsx)(v.A,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-500"})]}),(0,t.jsx)("div",{className:"text-xs sm:text-sm font-medium",children:"Positive"})]}),(0,t.jsxs)("div",{className:"rounded-lg border bg-card p-2 sm:p-3 text-center",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,t.jsx)("span",{className:"text-lg sm:text-2xl font-bold text-red-500",children:null!=(l=null==T?void 0:T.negative)?l:0}),(0,t.jsx)(j.A,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-500"})]}),(0,t.jsx)("div",{className:"text-xs sm:text-sm font-medium",children:"Negative"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)(J.l6,{value:y,onValueChange:e=>w(e),children:[(0,t.jsx)(J.bq,{className:"w-full h-9",children:(0,t.jsx)(J.yv,{placeholder:"All Ratings"})}),(0,t.jsxs)(J.gC,{className:"z-[100]",children:[(0,t.jsx)(J.eb,{value:"all",children:"All Ratings"}),(0,t.jsx)(J.eb,{value:"positive",children:"Positive Only"}),(0,t.jsx)(J.eb,{value:"negative",children:"Negative Only"})]})]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(c.$,{variant:"date"===C?"default":"outline",size:"sm",onClick:()=>{"date"===C?E("asc"===S?"desc":"asc"):(A("date"),E("desc"))},className:"flex-1 h-9",children:[(0,t.jsx)(Z.A,{className:"mr-1 h-3 w-3"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Date"}),"date"===C&&("asc"===S?"↑":"↓")]}),(0,t.jsxs)(c.$,{variant:"rating"===C?"default":"outline",size:"sm",onClick:()=>{"rating"===C?E("asc"===S?"desc":"asc"):(A("rating"),E("desc"))},className:"flex-1 h-9",children:[(0,t.jsx)(R.A,{className:"mr-1 h-3 w-3"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Rating"}),"rating"===C&&("asc"===S?"↑":"↓")]})]})]}),(0,t.jsx)(c.$,{variant:"ghost",size:"sm",onClick:o,className:"absolute top-4 right-4 h-8 w-8 p-0",children:(0,t.jsx)("span",{className:"text-lg",children:"\xd7"})})]}),(0,t.jsx)("div",{className:"flex-1 min-h-0",children:(0,t.jsx)("div",{className:"h-full overflow-y-auto",children:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("div",{className:"mb-4 flex items-center gap-2",children:(0,t.jsxs)("h2",{className:"flex items-center gap-2 text-sm font-semibold",children:["positive"===y?(0,t.jsx)(v.A,{className:"h-4 w-4 text-green-500"}):"negative"===y?(0,t.jsx)(j.A,{className:"h-4 w-4 text-red-500"}):(0,t.jsx)(R.A,{className:"h-4 w-4 text-yellow-400"}),U.length," ","all"===y?"Ratings":y]})}),z?(0,t.jsx)("div",{className:"space-y-3",children:Array.from({length:4}).map((e,s)=>(0,t.jsxs)("div",{className:"space-y-3 rounded-lg border p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.E,{className:"h-8 w-8 rounded-full"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(u.E,{className:"h-3 w-24"}),(0,t.jsx)(u.E,{className:"h-2 w-16"})]})]}),(0,t.jsx)(u.E,{className:"h-12 w-full"})]},s))}):0===U.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[(0,t.jsx)("div",{className:"rounded-full bg-muted p-3",children:(0,t.jsx)(R.A,{className:"h-6 w-6 text-muted-foreground"})}),(0,t.jsx)("h3",{className:"mt-3 font-semibold",children:"No Ratings Found"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"all"===y?"No ratings have been received yet.":"No ".concat(y," ratings found with the current filters.")})]}):(0,t.jsx)("div",{className:"space-y-3 pb-4",children:U.map(e=>{var s,a;return(0,t.jsxs)("div",{className:(0,I.cn)("rounded-lg border p-3 transition-all hover:shadow-sm","negative"===e.type?"border-destructive/20 bg-destructive/5":"bg-card/50"),children:[(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsxs)(n.Avatar,{className:"h-8 w-8 flex-shrink-0",children:[(0,t.jsx)(n.AvatarImage,{src:null!=(a=e.fromUser.image)?a:void 0}),(0,t.jsx)(n.AvatarFallback,{className:"text-xs",children:null==(s=e.fromUser.name)?void 0:s[0]})]}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 min-w-0",children:[(0,t.jsx)("span",{className:"font-medium text-sm truncate",children:e.fromUser.name}),e.fromUser.admin&&(0,t.jsx)(h.E,{variant:"secondary",className:"h-4 px-1",children:(0,t.jsx)(k.A,{className:"h-2 w-2"})}),e.fromUser.banned&&(0,t.jsx)(h.E,{variant:"destructive",className:"h-4 px-1",children:"Banned"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[(0,t.jsx)(_.Z,{rating:e.rating,size:12}),(0,t.jsx)(h.E,{variant:"negative"===e.type?"destructive":"secondary",className:"h-5 px-1 text-[10px]",children:"negative"===e.type?(0,t.jsx)(j.A,{className:"h-2 w-2"}):(0,t.jsx)(v.A,{className:"h-2 w-2"})})]})]}),(0,t.jsxs)("div",{className:"text-[10px] text-muted-foreground mt-0.5",children:[(0,g.m)(new Date(e.createdAt))," ago"]})]})]}),e.note&&(0,t.jsx)("p",{className:"mt-2 border-t pt-2 text-sm text-muted-foreground line-clamp-2",children:e.note})]},e.id)})})]})})})]})})})}var q=a(389),G=a(8808),Y=a(41780),Q=a(31547),K=a(25771);let X=Q.bL,ee=b.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(Q.q7,{ref:s,className:(0,I.cn)("border-b",a),...r})});ee.displayName="AccordionItem";let es=b.forwardRef((e,s)=>{let{className:a,children:r,...l}=e;return(0,t.jsx)(Q.Y9,{className:"flex",children:(0,t.jsxs)(Q.l9,{ref:s,className:(0,I.cn)("flex flex-1 items-center justify-between py-4 text-left text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...l,children:[r,(0,t.jsx)(K.A,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})})});es.displayName=Q.l9.displayName;let ea=b.forwardRef((e,s)=>{let{className:a,children:r,...l}=e;return(0,t.jsx)(Q.UC,{ref:s,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...l,children:(0,t.jsx)("div",{className:(0,I.cn)("pb-4 pt-0",a),children:r})})});ea.displayName=Q.UC.displayName;var et=a(13001),er=a(92313),el=a(66581);function ei(){return(0,t.jsxs)(m.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-8 p-6",children:[(0,t.jsxs)("div",{className:"flex items-start gap-6",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute -inset-1 animate-pulse rounded-full bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20 opacity-75 blur-lg"}),(0,t.jsx)(u.E,{className:"relative size-24 rounded-full"})]}),(0,t.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(u.E,{className:"h-8 w-48"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.E,{className:"h-2 w-2 rounded-full"}),(0,t.jsx)(u.E,{className:"h-4 w-32"})]}),(0,t.jsx)(u.E,{className:"h-6 w-20 rounded-full"}),(0,t.jsx)(u.E,{className:"h-6 w-24 rounded-full"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 rounded-lg border bg-card/50 p-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.E,{className:"h-4 w-20"}),(0,t.jsx)(u.E,{className:"h-6 w-32"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.E,{className:"h-4 w-24"}),(0,t.jsx)(u.E,{className:"h-6 w-28"})]})]})]})]}),(0,t.jsx)("div",{className:"rounded-lg border bg-card/50 p-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.E,{className:"h-4 w-full"}),(0,t.jsx)(u.E,{className:"h-4 w-3/4"})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(u.E,{className:"h-10 w-32 rounded-md"}),(0,t.jsx)(u.E,{className:"h-10 w-40 rounded-md"}),(0,t.jsx)(u.E,{className:"h-10 w-28 rounded-md"})]}),(0,t.jsxs)("div",{className:"space-y-6 rounded-xl border-2 bg-card/50 p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between pb-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(u.E,{className:"h-6 w-6 rounded"}),(0,t.jsx)(u.E,{className:"h-6 w-32"})]})}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-6 md:grid-cols-4",children:Array.from({length:4}).map((e,s)=>(0,t.jsxs)("div",{className:"space-y-2 text-center",children:[(0,t.jsx)(u.E,{className:"mx-auto h-10 w-10 rounded-lg"}),(0,t.jsx)(u.E,{className:"mx-auto h-6 w-16"}),(0,t.jsx)(u.E,{className:"mx-auto h-3 w-20"})]},s))})]}),(0,t.jsxs)("div",{className:"space-y-6 rounded-xl border-2 bg-card/50 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between pb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(u.E,{className:"h-6 w-6 rounded"}),(0,t.jsx)(u.E,{className:"h-6 w-36"})]}),(0,t.jsx)(u.E,{className:"h-6 w-24 rounded-full"})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-6 md:grid-cols-4",children:Array.from({length:4}).map((e,s)=>(0,t.jsxs)("div",{className:"space-y-2 text-center",children:[(0,t.jsx)(u.E,{className:"mx-auto h-10 w-10 rounded-lg"}),(0,t.jsx)(u.E,{className:"mx-auto h-6 w-16"}),(0,t.jsx)(u.E,{className:"mx-auto h-3 w-20"})]},s))}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)(u.E,{className:"h-3 w-24"}),(0,t.jsx)(u.E,{className:"h-3 w-20"})]}),(0,t.jsx)("div",{className:"h-2 w-full rounded-full bg-muted",children:(0,t.jsx)(u.E,{className:"h-2 w-1/3 rounded-full"})})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsxs)("div",{className:"flex gap-2 rounded-2xl bg-card/50 p-1",children:[(0,t.jsx)(u.E,{className:"h-12 w-40 rounded-xl"}),(0,t.jsx)(u.E,{className:"h-12 w-36 rounded-xl"})]})}),(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:Array.from({length:2}).map((e,s)=>(0,t.jsx)("div",{className:"rounded-lg border-2 bg-card/50 p-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(u.E,{className:"h-4 w-32"}),(0,t.jsx)(u.E,{className:"h-20 w-full"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(u.E,{className:"h-6 w-16 rounded-full"}),(0,t.jsx)(u.E,{className:"h-6 w-20 rounded-full"})]})]})},s))})]})]})]})}function en(e){let{children:s}=e;return(0,t.jsx)("div",{className:"relative z-[60]",children:s})}function ed(e){var s,a,r;let{isOpen:n,onClose:d,username:o,image:x,userId:u,initialVouch:g=null,onImageUpload:y,onChatRequired:w}=e,[k,C]=b.useState(null!=(s=null==g?void 0:g.type)?s:"positive"),[A,S]=b.useState(null!=(a=null==g?void 0:g.rating)?a:0),[E,T]=b.useState(null!=(r=null==g?void 0:g.note)?r:""),[R,P]=b.useState(""),[F,D]=b.useState(!1),M=(0,b.useRef)(null),L=p.F.useUtils(),V=(0,W.J)(),Z=p.F.user.vouchUser.useMutation({onSuccess:()=>{f.o.success("Successfully vouched for user"),L.user.getUserVouches.invalidate({userId:u}),L.user.hasVouched.invalidate({userId:u}),d()},onError:e=>{e.message.startsWith("CHAT_REQUIRED:")?(null==w||w(),d()):f.o.error(e.message)}}),J=p.F.user.editVouch.useMutation({onSuccess:()=>{f.o.success("Successfully updated vouch"),L.user.getUserVouches.invalidate({userId:u}),d()},onError:e=>{f.o.error(e.message)}}),H=e=>0===e?"\uD83D\uDC4B":e<=2?"\uD83D\uDE22":e<=3?"\uD83D\uDE0A":e<=4?"\uD83D\uDE04":"\uD83C\uDF1F",q=async()=>{if(!M.current)throw Error("Vouch card reference not found");try{let e=document.createElement("div");e.style.position="fixed",e.style.top="-9999px",e.style.left="0",e.style.width="1200px",e.style.height="630px",e.style.backgroundColor="#111827",e.style.overflow="hidden",e.style.zIndex="-9999",document.body.appendChild(e),e.appendChild(M.current.cloneNode(!0));let s=document.querySelectorAll("style"),a=[];s.forEach(e=>{let s=e.cloneNode(!0);a.push(s),document.head.appendChild(s)}),await new Promise(e=>setTimeout(e,100));let t=await z()(e,{useCORS:!0,allowTaint:!0,backgroundColor:"#111827",scale:2,logging:!1,ignoreElements:e=>"LINK"===e.tagName&&"expect"===e.getAttribute("rel"),onclone:e=>{let s=document.getElementsByTagName("style");Array.from(s).forEach(s=>{e.head.appendChild(s.cloneNode(!0))});let a=e.createElement("style");a.textContent='\n            * { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }\n          ',e.head.appendChild(a)}});return new Promise((s,r)=>{try{t.toBlob(e=>{e?s(new File([e],"vouch-card.png",{type:"image/png"})):r(Error("Failed to create image blob"))},"image/png",.95)}catch(e){console.error("Canvas to blob error:",e),r(Error("Failed to create image blob"))}finally{document.body.contains(e)&&document.body.removeChild(e),a.forEach(e=>{document.head.contains(e)&&document.head.removeChild(e)})}})}catch(e){throw console.error("Html2canvas error:",e),e}},Y=async()=>{let e;if(!F){if(D(!0),"negative"===k&&A>2){f.o.error("Negative experiences cannot have ratings above 2 stars"),D(!1);return}if(A>5){f.o.error("Ratings cannot be above 5 stars"),D(!1);return}if("positive"===k&&(1===A||2===A)){f.o.error("Positive vouches cannot be 1-2 stars"),D(!1);return}if(0===A){f.o.error("Please provide a rating"),D(!1);return}if("negative"===k&&!E){P("Please tell us what happened"),D(!1);return}try{let s=await q();e=await y(s)}catch(e){console.error("Error generating/uploading image:",e)}(null==g?void 0:g.id)?J.mutate({vouchId:g.id,type:k,rating:A,note:E||void 0},{onSettled:()=>D(!1)}):Z.mutate({userId:u,type:k,rating:A,note:E||void 0,gameType:U.gameType,imageUrl:e},{onSettled:()=>D(!1)})}};return(0,t.jsx)(i.lG,{open:n,onOpenChange:e=>!e&&d(),children:(0,t.jsxs)(i.Cf,{className:"z-[70] max-w-[95vw] sm:max-w-xl bg-gradient-to-br from-background/95 to-background/90 backdrop-blur-xl",children:[(0,t.jsx)("div",{className:"jsx-7300f6ed94a3b196 absolute inset-0 -z-10 bg-gradient-to-br from-blue-500/10 via-purple-500/10 to-pink-500/10 opacity-50"}),(0,t.jsxs)(i.c7,{className:"space-y-4 pb-8",children:[(0,t.jsx)(i.L3,{className:"bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-center text-3xl font-bold text-transparent",children:g?"Update Your Rating":"Rate ".concat(o)}),(0,t.jsx)(i.rr,{className:"text-center text-muted-foreground",children:"Your rating helps build trust in our community. Be honest and detailed in your feedback."})]}),(0,t.jsx)("section",{className:"jsx-7300f6ed94a3b196 hidden",children:(0,t.jsxs)("div",{ref:M,style:{width:"1200px",height:"630px",position:"relative",background:"#111827",borderRadius:"16px",overflow:"hidden",padding:"40px",boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"space-between"},className:"jsx-7300f6ed94a3b196",children:[(0,t.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"positive"===k?"rgba(34,197,94,0.05)":"rgba(239,68,68,0.05)",zIndex:-1},className:"jsx-7300f6ed94a3b196"}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"30px",flex:1},className:"jsx-7300f6ed94a3b196",children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},className:"jsx-7300f6ed94a3b196",children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"15px"},className:"jsx-7300f6ed94a3b196",children:[(0,t.jsx)("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"positive"===k?"rgba(34,197,94,0.2)":"rgba(239,68,68,0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"40px",boxShadow:"0 0 20px rgba(0,0,0,0.1)",paddingBottom:"30px"},className:"jsx-7300f6ed94a3b196",children:H(A)}),(0,t.jsxs)("div",{className:"jsx-7300f6ed94a3b196",children:[(0,t.jsx)("h2",{style:{fontSize:"36px",fontWeight:"bold",margin:0,color:"positive"===k?"rgb(34,197,94)":"rgb(239,68,68)",marginBottom:"5px"},className:"jsx-7300f6ed94a3b196",children:"positive"===k?"Positive Rating":"Negative Rating"}),(0,t.jsxs)("p",{style:{margin:0,fontSize:"18px",color:"rgba(255,255,255,0.7)"},className:"jsx-7300f6ed94a3b196",children:[(0,er.lZ)().name," • ",new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})]})]}),(0,t.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"5px",background:"positive"===k?"rgba(34,197,94,0.2)":"rgba(239,68,68,0.2)",padding:"12px 20px",borderRadius:"12px",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},className:"jsx-7300f6ed94a3b196",children:Array.from({length:5}).map((e,s)=>(0,t.jsx)("div",{style:{color:s<A?"positive"===k?"rgb(34,197,94)":"rgb(239,68,68)":"rgba(255,255,255,0.2)",fontSize:"32px",paddingBottom:"25px"},className:"jsx-7300f6ed94a3b196",children:"★"},s))})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"30px",padding:"30px",borderRadius:"16px",background:"rgba(30,41,59,0.6)",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 8px 16px rgba(0,0,0,0.1)"},className:"jsx-7300f6ed94a3b196",children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"20px",flex:1},className:"jsx-7300f6ed94a3b196",children:[(0,t.jsx)("div",{style:{width:"120px",height:"120px",borderRadius:"50%",overflow:"hidden",border:"2px solid rgba(255,255,255,0.2)",boxShadow:"0 0 20px rgba(0,0,0,0.2)",position:"relative"},className:"jsx-7300f6ed94a3b196",children:(null==V?void 0:V.image)&&(0,t.jsx)(G.default,{src:V.image,alt:"From User",fill:!0,sizes:"120px",style:{objectFit:"cover"}})}),(0,t.jsxs)("div",{className:"jsx-7300f6ed94a3b196",children:[(0,t.jsx)("p",{style:{margin:0,fontSize:"18px",color:"rgba(255,255,255,0.6)"},className:"jsx-7300f6ed94a3b196",children:"From"}),(0,t.jsx)("h3",{style:{margin:"5px 0 0",fontSize:"28px",fontWeight:"bold",color:"white"},className:"jsx-7300f6ed94a3b196",children:(null==V?void 0:V.name)||"Anonymous"})]})]}),(0,t.jsx)("div",{style:{width:"2px",background:"rgba(255,255,255,0.1)"},className:"jsx-7300f6ed94a3b196"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"20px",flex:1},className:"jsx-7300f6ed94a3b196",children:[(0,t.jsx)("div",{style:{width:"120px",height:"120px",borderRadius:"50%",overflow:"hidden",border:"2px solid rgba(255,255,255,0.2)",boxShadow:"0 0 20px rgba(0,0,0,0.2)",position:"relative"},className:"jsx-7300f6ed94a3b196",children:x&&(0,t.jsx)(G.default,{src:x,alt:"To User",fill:!0,sizes:"120px",style:{objectFit:"cover"}})}),(0,t.jsxs)("div",{className:"jsx-7300f6ed94a3b196",children:[(0,t.jsx)("p",{style:{margin:0,fontSize:"18px",color:"rgba(255,255,255,0.6)"},className:"jsx-7300f6ed94a3b196",children:"For"}),(0,t.jsx)("h3",{style:{margin:"5px 0 0",fontSize:"28px",fontWeight:"bold",color:"rgb(59,130,246)"},className:"jsx-7300f6ed94a3b196",children:o})]})]})]}),E?(0,t.jsx)("div",{style:{background:"rgba(30,41,59,0.4)",borderRadius:"16px",padding:"25px 30px",border:"1px solid rgba(255,255,255,0.05)",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",flex:1,display:"flex",flexDirection:"column",justifyContent:"center"},className:"jsx-7300f6ed94a3b196",children:(0,t.jsxs)("p",{style:{margin:0,fontSize:"20px",lineHeight:1.6,color:"rgba(255,255,255,0.8)",position:"relative",paddingLeft:"24px"},className:"jsx-7300f6ed94a3b196",children:[(0,t.jsx)("span",{style:{position:"absolute",left:"0",top:"0",fontSize:"36px",lineHeight:"20px",color:"positive"===k?"rgba(34,197,94,0.4)":"rgba(239,68,68,0.4)"},className:"jsx-7300f6ed94a3b196",children:'"'}),E,(0,t.jsx)("span",{style:{marginLeft:"4px",fontSize:"36px",lineHeight:"20px",verticalAlign:"bottom",display:"inline-block",color:"positive"===k?"rgba(34,197,94,0.4)":"rgba(239,68,68,0.4)"},className:"jsx-7300f6ed94a3b196",children:'"'})]})}):(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flex:1},className:"jsx-7300f6ed94a3b196",children:(0,t.jsxs)("div",{style:{padding:"30px",borderRadius:"16px",background:"positive"===k?"rgba(34,197,94,0.1)":"rgba(239,68,68,0.1)",textAlign:"center",maxWidth:"80%",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},className:"jsx-7300f6ed94a3b196",children:[(0,t.jsx)("div",{style:{fontSize:"72px",marginBottom:"20px"},className:"jsx-7300f6ed94a3b196",children:H(A)}),(0,t.jsx)("p",{style:{margin:0,fontSize:"24px",fontWeight:"bold",color:"rgba(255,255,255,0.8)"},className:"jsx-7300f6ed94a3b196",children:"positive"===k?"".concat(null==V?void 0:V.name," had a good experience trading with ").concat(o):"".concat(null==V?void 0:V.name," had an issue trading with ").concat(o)})]})})]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px"},className:"jsx-7300f6ed94a3b196",children:[(0,t.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",borderRadius:"8px",background:"rgba(0,0,0,0.2)"},className:"jsx-7300f6ed94a3b196",children:(0,t.jsxs)("span",{style:{fontSize:"14px",color:"rgba(255,255,255,0.6)",paddingBottom:"12px"},className:"jsx-7300f6ed94a3b196",children:["Posted on ",new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px 16px",borderRadius:"8px",background:"rgba(0,0,0,0.2)"},className:"jsx-7300f6ed94a3b196",children:[(0,t.jsx)("span",{style:{fontSize:"16px",fontWeight:"bold",paddingBottom:"12px",color:"rgb(59,130,246)"},className:"jsx-7300f6ed94a3b196",children:U.baseUrl}),(0,t.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px",borderRadius:"50%",background:"rgb(59,130,246)",fontSize:"12px",color:"white",fontWeight:"bold",paddingBottom:"12px"},className:"jsx-7300f6ed94a3b196",children:"✓"})]})]})]})}),(0,t.jsxs)("div",{className:"jsx-7300f6ed94a3b196 space-y-8",children:[(0,t.jsxs)("div",{className:"jsx-7300f6ed94a3b196 space-y-4",children:[(0,t.jsx)(m.P.div,{className:"text-center text-4xl",initial:{scale:0},animate:{scale:1},children:H(A)},A),(0,t.jsxs)("div",{className:"jsx-7300f6ed94a3b196 flex flex-col items-center gap-4",children:[(0,t.jsxs)("div",{className:"jsx-7300f6ed94a3b196 relative",children:[(0,t.jsx)("div",{className:"jsx-7300f6ed94a3b196 absolute -inset-4 bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20 opacity-0 blur-xl transition-opacity duration-500 group-hover:opacity-100"}),(0,t.jsx)(_.Z,{rating:A,onChange:S,interactive:!0,size:36,variant:A<=2?"destructive":A<=3?"yellow":"green",className:"relative animate-pulse"})]}),(0,t.jsxs)(m.P.div,{className:"text-center text-sm font-medium",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[0===A&&"How was your experience?",1===A&&"We're sorry to hear that \uD83D\uDE22",2===A&&"Not the best experience \uD83D\uDE15",3===A&&"It was okay! \uD83D\uDE0A",4===A&&"Great experience! \uD83D\uDE04",5===A&&"Absolutely amazing! \uD83C\uDF1F"]},A)]}),(0,t.jsxs)("div",{className:"jsx-7300f6ed94a3b196 mt-8 flex items-center justify-center gap-4",children:[(0,t.jsxs)(c.$,{type:"button",variant:"positive"===k?"default":"outline",className:(0,I.cn)("group relative h-12 max-w-40 flex-1 overflow-hidden rounded-xl transition-all duration-300","positive"===k&&"bg-gradient-to-r from-green-500 to-emerald-500 text-white hover:from-green-600 hover:to-emerald-600"),onClick:()=>{C("positive"),A<=2&&S(0)},children:[(0,t.jsx)("div",{className:"jsx-7300f6ed94a3b196 absolute inset-0 -z-10 bg-gradient-to-r from-green-500/20 to-emerald-500/20 opacity-0 blur-xl transition-opacity duration-500 group-hover:opacity-100"}),(0,t.jsx)(v.A,{className:"mr-2 h-5 w-5"}),"Positive"]}),(0,t.jsxs)(c.$,{type:"button",variant:"negative"===k?"destructive":"outline",className:(0,I.cn)("group relative h-12 max-w-40 flex-1 overflow-hidden rounded-xl transition-all duration-300","negative"===k&&"bg-gradient-to-r from-red-500 to-pink-500 text-white hover:from-red-600 hover:to-pink-600"),onClick:()=>{C("negative"),A>2&&(S(0),f.o.warning("Please rate between 1-2 stars for negative experiences",{icon:"⚠️"}))},children:[(0,t.jsx)("div",{className:"jsx-7300f6ed94a3b196 absolute inset-0 -z-10 bg-gradient-to-r from-red-500/20 to-pink-500/20 opacity-0 blur-xl transition-opacity duration-500 group-hover:opacity-100"}),(0,t.jsx)(j.A,{className:"mr-2 h-5 w-5"}),"Negative"]})]})]}),(0,t.jsxs)("div",{className:"jsx-7300f6ed94a3b196 space-y-3",children:[(0,t.jsxs)("div",{className:"jsx-7300f6ed94a3b196 flex items-center justify-between",children:[(0,t.jsx)(B.J,{htmlFor:"note",className:"text-lg font-semibold",children:"Share your experience"}),"negative"===k&&(0,t.jsx)(h.E,{variant:"destructive",className:"rounded-full px-3 py-1 text-sm font-medium",children:"Required for negative vouches"})]}),(0,t.jsxs)("div",{className:"jsx-7300f6ed94a3b196 group relative",children:[(0,t.jsx)("div",{className:"jsx-7300f6ed94a3b196 absolute -inset-1 rounded-xl bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20 opacity-0 transition-opacity duration-300 group-focus-within:opacity-100"}),(0,t.jsx)(O.T,{id:"note",placeholder:"negative"===k?"Please tell us what happened...":"Tell others about your experience!",autoFocus:!0,value:E,onChange:e=>{let s=$.MM.validateMessage(e.target.value,{skipSpamCheck:!0});s.isValid?(T(e.target.value),P("")):P(s.message)},className:"min-h-[120px] relative z-20 resize-none rounded-lg border-2 bg-background/50 p-4 text-base transition-all duration-300 placeholder:text-muted-foreground/50 focus:bg-background/80"})]}),R&&(0,t.jsx)(m.P.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm font-medium text-destructive",children:R}),(0,t.jsx)("p",{className:"jsx-7300f6ed94a3b196 text-sm text-muted-foreground",children:"Your feedback helps others make informed decisions. Keep it constructive!"})]})]}),(0,t.jsxs)(i.Es,{className:"mt-8",children:[(0,t.jsx)(c.$,{variant:"outline",size:"lg",onClick:d,disabled:Z.isPending||J.isPending,className:"rounded-xl",children:"Cancel"}),(0,t.jsx)(c.$,{onClick:()=>void Y(),size:"lg",disabled:Z.isPending||J.isPending||0===A||"negative"===k&&!E||"negative"===k&&A>2,variant:"negative"===k?"destructive":"default",className:(0,I.cn)("relative overflow-hidden rounded-xl","negative"===k?"bg-gradient-to-r from-red-500 to-pink-500 text-white hover:from-red-600 hover:to-pink-600":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:from-blue-600 hover:to-purple-600"),children:Z.isPending||J.isPending?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.A,{className:"mr-2 h-5 w-5 animate-spin"}),"Saving..."]}):g?"Save Changes":"Post Rating"})]}),(0,t.jsx)(l(),{id:"7300f6ed94a3b196",children:".image-generation-mode{display:block!important;position:fixed;top:0;left:0;z-index:-9999}"})]})})}function eo(e){var s,a,r,l,u,j,P,z,U,F,D,$,Z,J,G,Q,K;let{username:er,isOpen:eo,onClose:ec}=e,em=(0,W.J)(),{user:ex,discord:eu,isLoading:ep}=(e=>{let{data:s,isLoading:a}=p.F.user.getByName.useQuery({name:e},{enabled:!!e,staleTime:3e5});return{user:null==s?void 0:s.user,discord:null==s?void 0:s.discord,isLoading:a}})(er),eh=(null==em?void 0:em.id)===(null==ex?void 0:ex.id),eg=(0,q.useRouter)(),[ef,eb]=b.useState(!1),[ev,ej]=b.useState(!1),[eN,ey]=b.useState("harassment"),[ew,ek]=b.useState(""),[eC,eA]=b.useState(!1),eS=p.F.useUtils(),eE=et.n.useUtils(),[eT,eR]=b.useState(!1),[eP,ez]=b.useState(!1),{data:eU}=p.F.user.hasVouched.useQuery({userId:null!=(P=null==ex?void 0:ex.id)?P:""},{enabled:!!(null==ex?void 0:ex.id)}),{data:eF}=p.F.user.getUserVouches.useQuery({userId:null!=(z=null==ex?void 0:ex.id)?z:""},{enabled:!!(null==ex?void 0:ex.id)}),[eD,eI]=b.useState(!1),[eM,eL]=b.useState({communication:0,trustworthiness:0,friendliness:0,tradingSpeed:0,overallExperience:0}),[eV,eB]=b.useState("positive"),[eO,e$]=b.useState(null),[e_,eZ]=(0,b.useState)(!1),eJ=b.useCallback(()=>{document.body.style.pointerEvents="";let e=document.body.querySelector('canvas[style*="pointer-events: none"]');e&&e.remove(),setTimeout(()=>{document.body.style.pointerEvents=""},100)},[]);b.useEffect(()=>()=>{eJ()},[eJ]),b.useEffect(()=>{eo||(eb(!1),ej(!1),ey("harassment"),ek(""),eA(!1))},[eo]);let eW=p.F.user.blockUser.useMutation({onMutate:()=>{eA(!0)},onSuccess:()=>{f.o.success("User blocked successfully"),eE.post.infinite.invalidate(),eE.channel.getUnreadAndPreviews.invalidate(),eS.user.isUserBlocked.invalidate(),eS.user.getBlockedUsers.invalidate(),eb(!1),setTimeout(()=>{ec(),eA(!1)},500)},onError:e=>{f.o.error(e.message),eA(!1)}}),eH=p.F.user.unblockUser.useMutation({onMutate:()=>{var e;eA(!0),eS.user.isUserBlocked.setData({userId:null!=(e=null==ex?void 0:ex.id)?e:""},!1)},onSuccess:()=>{f.o.success("User unblocked successfully"),eE.post.infinite.invalidate(),eE.channel.getUnreadAndPreviews.invalidate(),eS.user.isUserBlocked.invalidate(),eS.user.getBlockedUsers.invalidate(),setTimeout(()=>{setTimeout(()=>{ec(),eA(!1)},100)},500)},onError:e=>{var s;f.o.error(e.message),eS.user.isUserBlocked.setData({userId:null!=(s=null==ex?void 0:ex.id)?s:""},!0),eA(!1)}}),{data:eq}=p.F.user.isUserBlocked.useQuery({userId:null!=(U=null==ex?void 0:ex.id)?U:""},{enabled:!!(null==ex?void 0:ex.id)}),eG=b.useCallback(()=>{(null==ex?void 0:ex.id)&&!eC&&eW.mutate({userId:ex.id})},[null==ex?void 0:ex.id,eC,eW]),eY=b.useCallback(()=>{(null==ex?void 0:ex.id)&&!eC&&eH.mutate({userId:ex.id})},[null==ex?void 0:ex.id,eC,eH]),eQ=b.useCallback(()=>{eC||(eA(!0),setTimeout(()=>{f.o.success("Report submitted successfully"),eA(!1),ej(!1),ey("harassment"),ek("")},1e3))},[eC]),eK=b.useCallback(e=>{eC||e||setTimeout(()=>{ec(),eb(!1),ej(!1),ey("harassment"),ek("")},100)},[eC,ec]),eX=p.F.user.vouchUser.useMutation({onSuccess:()=>{var e,s;f.o.success("Successfully vouched for user"),eS.user.getUserVouches.invalidate({userId:null!=(e=null==ex?void 0:ex.id)?e:""}),eS.user.hasVouched.invalidate({userId:null!=(s=null==ex?void 0:ex.id)?s:""}),eR(!1),eL({communication:0,trustworthiness:0,friendliness:0,tradingSpeed:0,overallExperience:0})},onError:e=>{f.o.error(e.message)}});(0,b.useEffect)(()=>{let e=e=>{"Escape"===e.key&&(eT&&!eX.isPending?eR(!1):ev&&!eC?ej(!1):ef&&!eC?eb(!1):eP&&ez(!1))};return eo&&window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[eo,ef,ev,eT,eP,eC,eX.isPending]);let e0=b.useCallback(e=>{e.preventDefault(),e.stopPropagation(),eb(!0),eI(!0)},[]);b.useCallback(e=>{e.preventDefault(),e.stopPropagation(),ej(!0),eI(!0)},[]);let e1=et.n.channel.createDM.useMutation({onSuccess:e=>{eg.push("/messages/".concat(e)),ec()},onError:e=>{f.o.error(e.message)}}),{data:e2}=et.n.channel.findExistingDM.useQuery({targetUserId:null!=(F=null==ex?void 0:ex.id)?F:""},{enabled:!!(null==ex?void 0:ex.id)&&!!(null==em?void 0:em.id)}),e5=b.useCallback(async()=>{if(null==ex?void 0:ex.id){if(e2){eg.push("/messages/".concat(e2.id)),ec();return}e1.mutate({userId:ex.id,initialMessage:{text:"Hi! I saw your profile and wanted to chat."}})}},[null==ex?void 0:ex.id,e2,eg,ec,e1]),e3=b.useMemo(()=>{if(!(null==eF?void 0:eF.length))return{total:0,positive:0,negative:0,avgRating:0};let e=eF.filter(e=>"positive"===e.type),s=e.reduce((e,s)=>e+s.rating,0),a=e.length?s/e.length:0;return{total:eF.length,positive:e.length,negative:eF.length-e.length,avgRating:a}},[eF]);return"System"===er?(0,t.jsx)(i.lG,{open:eo,onOpenChange:e=>!e&&ec(),children:(0,t.jsxs)(i.Cf,{className:"z-[60] max-w-[95vw] sm:max-w-4xl bg-background/80 backdrop-blur-md",children:[(0,t.jsx)(i.c7,{className:"pb-6",children:(0,t.jsx)(i.L3,{className:"text-2xl font-semibold",children:"System Bot"})}),(0,t.jsxs)("div",{className:"flex items-start gap-6 py-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute -inset-1 animate-pulse rounded-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 opacity-75 blur-sm"}),(0,t.jsxs)(n.Avatar,{className:"relative h-24 w-24 border-2 border-background shadow-xl",children:[(0,t.jsx)(n.AvatarImage,{src:"/assets/avatars/system.webp",className:"bg-gradient-to-br from-blue-100 to-purple-100 p-4"}),(0,t.jsx)(n.AvatarFallback,{className:"bg-gradient-to-br from-blue-500 to-purple-500",children:"SYS"})]})]}),(0,t.jsx)("div",{className:"flex-1 space-y-4",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h3",{className:"bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-2xl font-bold text-transparent",children:"CVSystem"}),(0,t.jsx)(V.TooltipProvider,{children:(0,t.jsxs)(V.Tooltip,{children:[(0,t.jsx)(V.TooltipTrigger,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-full border border-blue-500/20 bg-gradient-to-r from-blue-500/10 to-purple-500/10 px-3 py-1.5",children:[(0,t.jsx)(y.A,{className:"h-4 w-4 text-blue-500"}),(0,t.jsx)("span",{className:"bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-xs font-bold text-transparent",children:"CVSystem BOT"})]})}),(0,t.jsxs)(V.TooltipContent,{className:"z-[70] border border-blue-500/20 bg-gradient-to-br from-background/80 to-background/60 backdrop-blur-md",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-blue-400",children:"System Bot"}),(0,t.jsx)("p",{className:"text-xs text-foreground/80",children:"Automated system messages and notifications"})]})]})})]}),(0,t.jsx)("p",{className:"mt-4 leading-relaxed text-muted-foreground",children:"I am the system bot, your automated assistant. I manage notifications, track trades, and deliver important system announcements. While I can't engage in direct conversations, I ensure smooth operation of the trading platform 24/7."})]})})]})]})}):(0,t.jsx)(en,{children:(0,t.jsx)(i.lG,{open:eo,onOpenChange:eK,children:(0,t.jsxs)(i.ZJ,{children:[(0,t.jsx)(i.LC,{className:"z-[60]"}),(0,t.jsxs)(i.Cf,{className:"z-[60] max-w-[95vw] sm:max-w-4xl bg-background/80 max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)(i.c7,{className:"pb-6",children:(0,t.jsx)(i.L3,{className:"text-2xl font-semibold",children:eh?"Your Profile":"".concat(er,"'s Profile")})}),(0,t.jsx)(x.N,{mode:"wait",children:ep?(0,t.jsx)(ei,{}):ex?ex.banned?(0,t.jsx)(m.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-8 sm:py-12",children:(0,t.jsxs)("div",{className:"text-center space-y-6",children:[(0,t.jsxs)("div",{className:"relative mx-auto w-fit p-3",children:[(0,t.jsx)("div",{className:"absolute -inset-2 rounded-full bg-gradient-to-r from-destructive/20 via-destructive/10 to-destructive/20 opacity-75 blur-lg"}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(d.J,{userId:ex.id,image:ex.image,name:ex.name,size:128,className:"h-24 w-24 sm:h-32 sm:w-32 grayscale border-4 border-destructive/20 shadow-xl rounded-full"})})]}),(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsx)("h3",{className:"text-3xl sm:text-4xl font-bold text-foreground",children:ex.name})}),(0,t.jsxs)("div",{className:"mx-auto max-w-md rounded-xl border-2 border-destructive/20 bg-gradient-to-br from-destructive/5 to-destructive/10 p-6 shadow-lg",children:[(0,t.jsx)("div",{className:"flex items-center justify-center gap-3 mb-4",children:(0,t.jsx)("div",{className:"rounded-full bg-destructive/20 p-3",children:(0,t.jsx)(w.A,{className:"h-8 w-8 text-destructive"})})}),(0,t.jsxs)("div",{className:"space-y-3 text-center",children:[(0,t.jsx)("h4",{className:"text-xl font-bold text-destructive",children:"Account Suspended"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"This user's account has been suspended and is not available for trading or interaction."}),ex.banReason&&(0,t.jsxs)("div",{className:"mt-4 rounded-lg bg-background/50 p-3",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Reason:"}),(0,t.jsx)("p",{className:"text-sm text-foreground",children:ex.banReason})]}),ex.banExpires&&new Date(ex.banExpires)>new Date&&(0,t.jsxs)("div",{className:"mt-3 rounded-lg bg-background/50 p-3",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Suspension ends:"}),(0,t.jsx)("p",{className:"text-sm text-foreground",children:(0,o.GP)(new Date(ex.banExpires),"PPP")})]})]})]})]})}):(0,t.jsxs)(m.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4 sm:space-y-8 py-4 sm:py-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start gap-4 sm:gap-8",children:[(0,t.jsxs)("div",{className:"relative mx-auto sm:mx-0 p-2",children:[(0,t.jsx)("div",{className:"absolute -inset-1 rounded-full bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20 opacity-75 blur-lg"}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(d.J,{userId:ex.id,image:ex.image,name:ex.name,size:96,className:"h-20 w-20 sm:h-24 sm:w-24 border-2 border-background shadow-xl ring-2 ring-blue-500/20 rounded-full"})})]}),(0,t.jsxs)("div",{className:"flex-1 space-y-3 sm:space-y-4 w-full",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-3 sm:gap-0",children:[(0,t.jsxs)("div",{className:"text-center sm:text-left w-full sm:w-auto",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:items-center gap-2 sm:gap-3",children:[(0,t.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold",children:ex.name}),"owner"===ex.role&&(0,t.jsx)(V.TooltipProvider,{children:(0,t.jsxs)(V.Tooltip,{children:[(0,t.jsx)(V.TooltipTrigger,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-full bg-gradient-to-br from-purple-600/20 via-purple-700/15 to-purple-900/10 border border-purple-500/30 px-3 py-1.5 shadow-lg",children:[(0,t.jsx)(k.A,{className:"h-4 w-4 text-purple-400"}),(0,t.jsx)("span",{className:"text-xs font-bold text-purple-300",children:"Owner"})]})}),(0,t.jsxs)(V.TooltipContent,{className:"bg-gradient-to-br from-background/80 to-background/60 backdrop-blur-md z-50",children:[(0,t.jsx)("p",{className:"text-xs font-medium",children:"System Owner"}),(0,t.jsx)("p",{className:"text-xs text-foreground/80",children:"Certified platform owner"})]})]})}),"admin"===ex.role&&(0,t.jsx)(V.TooltipProvider,{children:(0,t.jsxs)(V.Tooltip,{children:[(0,t.jsx)(V.TooltipTrigger,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-full bg-primary/10 px-3 py-1.5",children:[(0,t.jsx)(k.A,{className:"h-4 w-4 text-primary"}),(0,t.jsx)("span",{className:"text-xs font-bold text-primary",children:"Admin"})]})}),(0,t.jsxs)(V.TooltipContent,{className:"bg-gradient-to-br from-background/80 to-background/60 backdrop-blur-md z-50",children:[(0,t.jsx)("p",{className:"text-xs font-medium",children:"System Administrator"}),(0,t.jsx)("p",{className:"text-xs text-foreground/80",children:"Certified platform administrator"})]})]})}),"middleman"===ex.role&&(0,t.jsx)(V.TooltipProvider,{children:(0,t.jsxs)(V.Tooltip,{children:[(0,t.jsx)(V.TooltipTrigger,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-full bg-purple-500/10 px-3 py-1.5",children:[(0,t.jsx)(C.A,{className:"h-4 w-4 text-purple-500"}),(0,t.jsx)("span",{className:"text-xs font-bold text-purple-500",children:"Middleman"})]})}),(0,t.jsxs)(V.TooltipContent,{className:"bg-gradient-to-br from-background/80 to-background/60 backdrop-blur-md z-50",children:[(0,t.jsx)("p",{className:"text-xs font-medium",children:"Certified Middleman"}),(0,t.jsx)("p",{className:"text-xs text-foreground/80",children:"Trusted trade mediator"})]})]})}),ex.banned&&(0,t.jsx)(V.TooltipProvider,{children:(0,t.jsxs)(V.Tooltip,{children:[(0,t.jsx)(V.TooltipTrigger,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-full bg-destructive/10 px-3 py-1.5",children:[(0,t.jsx)(w.A,{className:"h-4 w-4 text-destructive"}),(0,t.jsx)("span",{className:"text-xs font-bold text-destructive",children:"Banned"})]})}),(0,t.jsxs)(V.TooltipContent,{className:"bg-gradient-to-br from-background/80 to-background/60 backdrop-blur-md z-50",children:[(0,t.jsx)("p",{className:"text-xs font-medium",children:"User is banned"}),ex.banReason&&(0,t.jsxs)("p",{className:"text-xs text-foreground/80",children:["Reason: ",ex.banReason]}),ex.banExpires&&new Date(ex.banExpires)>new Date&&(0,t.jsxs)("p",{className:"text-xs text-foreground/80",children:["Expires: ",(0,o.GP)(new Date(ex.banExpires),"MMM dd, yyyy")]})]})]})})]}),ex.lastOnline&&(0,t.jsxs)("div",{className:"mt-2 flex justify-center sm:justify-start items-center gap-2",children:[(0,t.jsx)("div",{className:(0,I.cn)("size-2 rounded-full ring-2 ring-background",new Date().getTime()-new Date(ex.lastOnline).getTime()<3e5?"animate-pulse bg-green-500":"bg-muted-foreground/20")}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date().getTime()-new Date(ex.lastOnline).getTime()<3e5?"Online":"Last seen ".concat((0,g.m)(new Date(ex.lastOnline))," ago")})]})]}),!eh&&(0,t.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-3 w-full sm:w-auto",children:[(0,t.jsxs)(c.$,{variant:"outline",size:"lg",onClick:()=>window.open("/profile/".concat(ex.id),"_blank"),className:"group relative flex items-center justify-center gap-2 rounded-xl border-2 border-blue-500/30 bg-blue-500/5 px-6 py-3 text-sm font-medium text-blue-600 transition-all hover:border-blue-500/50 hover:bg-blue-500/10 hover:scale-[1.02] min-h-[48px] shadow-sm hover:shadow-md",children:[(0,t.jsx)(A.A,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"hidden sm:inline",children:"View"})," Profile"]})]}),(0,t.jsxs)(c.$,{variant:"default",size:"lg",onClick:e5,disabled:e1.isPending||eq,"data-testid":"start-chat-button",className:(0,I.cn)("group relative flex items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-3 text-sm font-medium text-white shadow-lg transition-all hover:shadow-xl hover:scale-[1.02] min-h-[48px]",eq?"opacity-50":"",e1.isPending&&"cursor-not-allowed opacity-80"),children:[e1.isPending?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.A,{className:"h-4 w-4 animate-spin"}),(0,t.jsx)("span",{children:"Starting chat..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S.A,{className:"h-4 w-4 transition-transform group-hover:scale-110"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"hidden sm:inline",children:"Start "}),"Chat"]})]}),eq&&(0,t.jsx)(V.TooltipProvider,{children:(0,t.jsxs)(V.Tooltip,{children:[(0,t.jsx)(V.TooltipTrigger,{className:"absolute inset-0"}),(0,t.jsx)(V.TooltipContent,{children:(0,t.jsx)("p",{className:"text-xs",children:"Unblock this user to send messages"})})]})})]})]})]}),ex.points&&(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 rounded-xl border-2 bg-gradient-to-br from-card/80 to-card/40 p-4 sm:p-6",children:[(0,t.jsxs)("div",{className:"text-center sm:text-left",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Experience"}),(0,t.jsxs)("p",{className:"bg-gradient-to-br from-blue-500 to-purple-500 bg-clip-text text-xl sm:text-2xl font-bold text-transparent",children:[ex.points.total_xp.toLocaleString()," XP"]})]}),(0,t.jsxs)("div",{className:"text-center sm:text-left",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Member Since"}),(0,t.jsx)("p",{className:"text-xl sm:text-2xl font-bold",children:(0,o.GP)(new Date(null!=(D=ex.createdAt)?D:new Date),"MMM yyyy")})]})]}),eu&&(0,t.jsx)("div",{className:"mt-3 sm:mt-4 rounded-xl border-2 border-[#5865F2]/20 bg-gradient-to-br from-[#5865F2]/10 to-[#5865F2]/5 p-3 sm:p-4",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:items-center gap-3 sm:gap-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute -inset-1 rounded-full bg-gradient-to-r from-[#5865F2]/20 via-[#7289DA]/20 to-[#5865F2]/20 opacity-75 blur-lg"}),(0,t.jsxs)(n.Avatar,{className:"relative h-12 w-12 border-2 border-background shadow-xl",children:[(0,t.jsx)(n.AvatarImage,{src:null!=($=eu.image_url)?$:void 0,className:"object-cover"}),(0,t.jsx)(n.AvatarFallback,{className:"bg-gradient-to-br from-[#5865F2] to-[#7289DA] text-white",children:null!=(Z=null==(a=eu.global_name)||null==(s=a[0])?void 0:s.toUpperCase())?Z:"D"})]})]}),(0,t.jsxs)("div",{className:"flex-1 text-center sm:text-left",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"h-4 w-4 text-[#5865F2]",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 127.14 96.36",fill:"currentColor",children:(0,t.jsx)("path",{d:"M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.89,105.89,0,0,0,19.39,8.09C2.79,32.65-1.71,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.7,77.7,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1A105.25,105.25,0,0,0,126.6,80.22h0C129.24,52.84,122.09,29.11,107.7,8.07ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.89,53,48.84,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5-12.74,11.44-12.74S96.23,46,96.12,53,91.08,65.69,84.69,65.69Z"})}),(0,t.jsx)("span",{className:"font-medium text-[#5865F2]",children:eu.global_name})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-center sm:justify-start gap-1 sm:gap-2",children:[eu.verified&&(0,t.jsxs)(h.E,{variant:"outline",className:"gap-1 rounded-full border-blue-500 bg-blue-500/10 px-2 py-0.5 text-[10px] text-blue-500",children:[(0,t.jsx)(k.A,{className:"h-2.5 w-2.5"}),"Verified"]}),eu.premium_type>0&&(0,t.jsxs)(h.E,{variant:"outline",className:"gap-1 rounded-full border-[#FF73FA] bg-[#FF73FA]/10 px-2 py-0.5 text-[10px] text-[#FF73FA]",children:[(0,t.jsx)(E.A,{className:"h-2.5 w-2.5"}),2===eu.premium_type?"Nitro":"Basic"]})]})]}),(0,t.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"Discord Account"})]}),(0,t.jsx)(V.TooltipProvider,{children:(0,t.jsxs)(V.Tooltip,{children:[(0,t.jsx)(V.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)(c.$,{variant:"outline",size:"sm",className:"h-8 gap-1.5 bg-[#5865F2]/10 text-[#5865F2] hover:bg-[#5865F2] hover:text-white border-[#5865F2]/30",onClick:()=>window.open("https://discord.com/users/".concat(eu.id),"_blank"),children:[(0,t.jsx)(A.A,{className:"h-3.5 w-3.5"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"View"})]})}),(0,t.jsx)(V.TooltipContent,{side:"top",children:"View Discord Profile"})]})})]})})]})]}),(null==em?void 0:em.id)!==(null==ex?void 0:ex.id)&&(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[eq?(0,t.jsxs)(c.$,{variant:"outline",onClick:eY,className:"group relative flex items-center justify-center gap-2 rounded-xl border-2 border-green-500/30 bg-green-500/5 px-6 py-3 text-sm font-medium text-green-600 transition-all hover:border-green-500/50 hover:bg-green-500/10 hover:scale-[1.02] min-h-[48px] shadow-sm hover:shadow-md",disabled:eC,children:[eC?(0,t.jsx)(N.A,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(C.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:eC?"Unblocking...":"Unblock User"})]}):(0,t.jsx)(i.KO,{asChild:!0,onClick:e0,children:(0,t.jsxs)(c.$,{variant:"outline",className:"group relative flex items-center justify-center gap-2 rounded-xl border-2 border-red-500/30 bg-red-500/5 px-6 py-3 text-sm font-medium text-red-600 transition-all hover:border-red-500/50 hover:bg-red-500/10 hover:scale-[1.02] min-h-[48px] shadow-sm hover:shadow-md",disabled:eC,children:[(0,t.jsx)(T.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Block User"})]})}),eU?(0,t.jsx)(V.TooltipProvider,{children:(0,t.jsxs)(V.Tooltip,{children:[(0,t.jsx)(V.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)(c.$,{variant:"outline",onClick:()=>{var e;if(!(null==ex||null==(e=ex.flags)?void 0:e.includes("DISABLE_VOUCH"))){let e=null==eF?void 0:eF.find(e=>e.fromUser.id===(null==em?void 0:em.id));e&&(e$(e),eR(!0))}},disabled:eX.isPending||(null==ex||null==(r=ex.flags)?void 0:r.includes("DISABLE_VOUCH")),className:"group relative flex items-center justify-center gap-2 rounded-xl border-2 border-blue-500/30 bg-blue-500/5 px-6 py-3 text-sm font-medium text-blue-600 transition-all hover:border-blue-500/50 hover:bg-blue-500/10 hover:scale-[1.02] min-h-[48px] shadow-sm hover:shadow-md",children:[eX.isPending?(0,t.jsx)(N.A,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(v.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:eX.isPending?"Loading...":"Edit Your Rating"})]})}),(null==ex||null==(l=ex.flags)?void 0:l.includes("DISABLE_VOUCH"))&&(0,t.jsx)(V.TooltipContent,{className:"bg-gradient-to-br from-background/80 to-background/60 backdrop-blur-md",children:(0,t.jsx)("p",{className:"text-sm",children:"This user has been restricted from receiving ratings"})})]})}):(0,t.jsx)(V.TooltipProvider,{children:(0,t.jsxs)(V.Tooltip,{children:[(0,t.jsx)(V.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)(c.$,{variant:"outline",onClick:()=>{var e;(null==ex||null==(e=ex.flags)?void 0:e.includes("DISABLE_VOUCH"))||(e$(null),eR(!0))},disabled:eX.isPending||(null==ex||null==(u=ex.flags)?void 0:u.includes("DISABLE_VOUCH")),className:"group relative flex items-center justify-center sm:justify-start gap-2 overflow-hidden rounded-xl border-2 px-4 sm:px-6 py-3 sm:py-2 min-h-[44px] transition-all hover:border-blue-500/20 hover:bg-blue-500/10",children:[eX.isPending?(0,t.jsx)(N.A,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(v.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:eX.isPending?"Loading...":"Rate ".concat(er)})]})}),(null==ex||null==(j=ex.flags)?void 0:j.includes("DISABLE_VOUCH"))&&(0,t.jsx)(V.TooltipContent,{className:"bg-gradient-to-br from-background/80 to-background/60 backdrop-blur-md",children:(0,t.jsx)("p",{className:"text-sm",children:"This user has been restricted from receiving ratings"})})]})})]}),ex&&(null==em?void 0:em.id)!==ex.id&&(0,t.jsx)("div",{className:"space-y-4",children:eF&&eF.length>0&&(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-xl border-2 bg-gradient-to-br from-card/80 to-card/40 p-4 sm:p-6 lg:p-8",children:[(0,t.jsx)("div",{className:"absolute inset-0 -z-10 bg-gradient-to-br from-blue-500/5 to-purple-500/5"}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0 pb-4 sm:pb-6",children:[(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsx)("h3",{className:"bg-gradient-to-br from-blue-500 to-purple-500 bg-clip-text text-xl sm:text-2xl font-bold text-transparent",children:"Reputation"})}),(0,t.jsxs)(c.$,{variant:"outline",size:"sm",onClick:()=>eZ(!0),className:"group relative flex items-center justify-center gap-2 rounded-xl border-2 border-blue-500/30 bg-blue-500/5 px-4 py-2 text-sm font-medium text-blue-600 transition-all hover:border-blue-500/50 hover:bg-blue-500/10 hover:scale-[1.02] shadow-sm hover:shadow-md",children:[(0,t.jsx)(R.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"View All Ratings"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 sm:gap-6 lg:gap-8 text-center lg:grid-cols-4",children:[(0,t.jsxs)("div",{className:"group space-y-2 sm:space-y-3 rounded-xl bg-gradient-to-br from-background/40 to-background/20 p-3 sm:p-4 lg:p-6 transition-all hover:from-background/60 hover:to-background/40",children:[(0,t.jsx)("div",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold transition-all group-hover:scale-110",children:e3.total}),(0,t.jsx)("div",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Total Ratings"})]}),(0,t.jsxs)("div",{className:"group space-y-2 sm:space-y-3 rounded-xl bg-gradient-to-br from-background/40 to-background/20 p-3 sm:p-4 lg:p-6 transition-all hover:from-background/60 hover:to-background/40",children:[(0,t.jsx)("div",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-green-500 transition-all group-hover:scale-110",children:e3.positive}),(0,t.jsx)("div",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Positive"})]}),(0,t.jsxs)("div",{className:"group space-y-2 sm:space-y-3 rounded-xl bg-gradient-to-br from-background/40 to-background/20 p-3 sm:p-4 lg:p-6 transition-all hover:from-background/60 hover:to-background/40",children:[(0,t.jsx)("div",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-red-500 transition-all group-hover:scale-110",children:e3.negative}),(0,t.jsx)("div",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Negative"})]}),(0,t.jsxs)("div",{className:"group space-y-2 sm:space-y-3 rounded-xl bg-gradient-to-br from-background/40 to-background/20 p-3 sm:p-4 lg:p-6 transition-all hover:from-background/60 hover:to-background/40",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2 transition-all group-hover:scale-110",children:[(0,t.jsx)("span",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold",children:e3.avgRating.toFixed(1)}),(0,t.jsx)(R.A,{className:"h-6 w-6 sm:h-7 sm:w-7 lg:h-8 lg:w-8 text-yellow-400"})]}),(0,t.jsx)("div",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Average Rating"})]})]}),(0,t.jsx)(X,{type:"single",collapsible:!0,children:(0,t.jsxs)(ee,{value:"recent-vouches",className:"border-none",children:[(0,t.jsx)(es,{className:"rounded-lg bg-gradient-to-r from-background/40 to-background/20 px-4 py-2 hover:from-background/60 hover:to-background/40 [&[data-state=open]>div]:text-blue-500",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-lg font-semibold transition-colors",children:[(0,t.jsx)(R.A,{className:"h-5 w-5"}),"Recent Ratings"]})}),(0,t.jsx)(ea,{className:"px-1",children:eF.length>0?(0,t.jsx)(Y.ScrollArea,{className:"h-[200px] sm:h-[250px] w-full",children:(0,t.jsx)("div",{className:"space-y-3 pr-3",children:eF.map(e=>(0,t.jsxs)("div",{className:(0,I.cn)("group relative overflow-hidden rounded-lg border p-3 transition-all hover:border-blue-500/30","negative"===e.type?"border-red-500/20 bg-red-500/5 hover:bg-red-500/10":"border-blue-500/20 bg-blue-500/5 hover:bg-blue-500/10"),children:[(0,t.jsx)("div",{className:"absolute inset-0 -z-10 bg-gradient-to-r opacity-0 blur-xl transition-all duration-500 group-hover:opacity-100",style:{background:"negative"===e.type?"linear-gradient(to right, rgba(239, 68, 68, 0.1), rgba(236, 72, 153, 0.1))":"linear-gradient(to right, rgba(59, 130, 246, 0.1), rgba(147, 51, 234, 0.1))"}}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"border-2 border-background rounded-full",children:(0,t.jsx)(d.J,{userId:e.fromUser.id,image:e.fromUser.image,name:e.fromUser.name,size:40,className:"h-10 w-10"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-semibold",children:e.fromUser.name}),e.fromUser.admin&&(0,t.jsxs)("div",{className:"flex items-center gap-1 rounded-full bg-primary/10 px-2 py-0.5",children:[(0,t.jsx)(k.A,{className:"h-3 w-3 text-primary"}),(0,t.jsx)("span",{className:"text-[10px] font-bold text-primary",children:"Admin"})]})]}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,g.m)(new Date(e.createdAt))," ago"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(_.Z,{rating:e.rating,size:16,variant:"negative"===e.type?"destructive":"yellow"}),(0,t.jsx)(h.E,{variant:"negative"===e.type?"destructive":"outline",className:"rounded-full px-2 py-0.5 text-xs font-medium",children:"negative"===e.type?"Negative":"Positive"})]})]}),e.note&&(0,t.jsx)("p",{className:"mt-3 line-clamp-2 text-sm text-muted-foreground",children:e.note})]},e.id))})}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 py-8",children:[(0,t.jsx)(R.A,{className:"h-12 w-12 text-muted-foreground/20"}),(0,t.jsx)("p",{className:"text-center text-sm text-muted-foreground",children:"No recent vouches available"})]})})]})})]})})]}):(0,t.jsxs)(m.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center gap-2 py-8 text-center",children:[(0,t.jsx)(T.A,{className:"h-12 w-12 text-muted-foreground/50"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"User not found"})]})}),ex&&(0,t.jsx)(H,{isOpen:e_,onClose:()=>eZ(!1),username:null!=(J=ex.name)?J:"User",userId:ex.id}),(0,t.jsxs)(i.re,{open:eD,onOpenChange:eI,children:[ef&&(0,t.jsxs)(i.ZJ,{children:[(0,t.jsx)(i.LC,{className:"z-[70]"}),(0,t.jsxs)(i.QR,{children:[(0,t.jsxs)(i.EC,{children:[(0,t.jsxs)(i.tP,{className:"flex items-center gap-2 text-destructive",children:[(0,t.jsx)(T.A,{className:"h-5 w-5"}),"Block ",er,"?"]}),(0,t.jsx)(i.t7,{asChild:!0,children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("span",{className:"block",children:"When you block someone:"}),(0,t.jsxs)("ul",{className:"list-inside list-disc space-y-2 text-sm",children:[(0,t.jsx)("li",{children:"Their messages will be hidden from all your chats"}),(0,t.jsx)("li",{children:"They won't be able to message you directly"}),(0,t.jsx)("li",{children:"They won't know they've been blocked"}),(0,t.jsx)("li",{children:"You can unblock them at any time"})]}),(0,t.jsxs)("div",{className:"rounded-md bg-destructive/10 p-3",children:[(0,t.jsx)("span",{className:"block text-sm font-medium text-destructive",children:"Note"}),(0,t.jsx)("span",{className:"mt-1 block text-sm text-destructive/90",children:"If you're experiencing harassment or abuse, please report it to our moderation team."})]})]})})]}),(0,t.jsxs)(i.wd,{children:[(0,t.jsx)(c.$,{variant:"outline",disabled:eC,onClick:e=>{e.preventDefault(),e.stopPropagation(),eb(!1),eI(!1)},children:"Cancel"}),(0,t.jsx)(c.$,{variant:"destructive",disabled:eC,onClick:eG,children:eC?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Blocking..."]}):"Block User"})]})]})]}),ev&&(0,t.jsxs)(i.ZJ,{children:[(0,t.jsx)(i.LC,{className:"z-[70]"}),(0,t.jsxs)(i.QR,{children:[(0,t.jsxs)(i.EC,{children:[(0,t.jsxs)(i.tP,{className:"flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"h-5 w-5"}),"Report ",er]}),(0,t.jsx)(i.t7,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("span",{className:"block",children:"Select a reason for reporting this user:"}),(0,t.jsxs)(M,{value:eN,onValueChange:ey,className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(L,{value:"harassment",id:"harassment"}),(0,t.jsx)(B.J,{htmlFor:"harassment",children:"Harassment or Bullying"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(L,{value:"spam",id:"spam"}),(0,t.jsx)(B.J,{htmlFor:"spam",children:"Spam or Scam"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(L,{value:"inappropriate",id:"inappropriate"}),(0,t.jsx)(B.J,{htmlFor:"inappropriate",children:"Inappropriate Content"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(L,{value:"other",id:"other"}),(0,t.jsx)(B.J,{htmlFor:"other",children:"Other"})]})]}),(0,t.jsx)(O.T,{placeholder:"Provide additional details about your report...",className:"mt-2",value:ew,onChange:e=>ek(e.target.value),disabled:eC})]})})]}),(0,t.jsxs)(i.wd,{children:[(0,t.jsx)(c.$,{variant:"outline",disabled:eC,onClick:e=>{e.preventDefault(),e.stopPropagation(),ej(!1),eI(!1)},children:"Cancel"}),(0,t.jsx)(c.$,{onClick:e=>{e.stopPropagation(),eQ()},disabled:eC,children:eC?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Report"})]})]})]}),eP&&(0,t.jsxs)(i.ZJ,{children:[(0,t.jsx)(i.LC,{className:"z-[70]"}),(0,t.jsxs)(i.QR,{children:[(0,t.jsxs)(i.EC,{children:[(0,t.jsxs)(i.tP,{className:"flex items-center gap-2",children:[(0,t.jsx)(S.A,{className:"h-5 w-5"}),"Chat Required to Rate"]}),(0,t.jsx)(i.t7,{asChild:!0,children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("span",{className:"block",children:"You can only rate users you have chatted with before."}),(0,t.jsx)("div",{className:"rounded-md bg-blue-50 p-4 dark:bg-blue-950/50",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(S.A,{className:"h-5 w-5 text-blue-500 mt-0.5"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("span",{className:"block text-sm font-medium text-blue-900 dark:text-blue-100",children:"Why do we require this?"}),(0,t.jsx)("span",{className:"block text-sm text-blue-800 dark:text-blue-200",children:"Rating someone you've never interacted with doesn't provide meaningful feedback. Start a conversation first to build trust and understanding, then share your experience."})]})]})}),(0,t.jsxs)("div",{className:"rounded-md border bg-muted/50 p-3",children:[(0,t.jsx)("span",{className:"block text-sm font-medium",children:"How to get started:"}),(0,t.jsxs)("ol",{className:"mt-2 list-inside list-decimal space-y-1 text-sm text-muted-foreground",children:[(0,t.jsx)("li",{children:'Click the "Start Chat" button to begin a conversation'}),(0,t.jsx)("li",{children:"Have a meaningful interaction about trading or gaming"}),(0,t.jsx)("li",{children:"Return here to rate your experience"})]})]})]})})]}),(0,t.jsxs)(i.wd,{children:[(0,t.jsx)(c.$,{variant:"outline",onClick:e=>{e.preventDefault(),e.stopPropagation(),ez(!1),eI(!1)},children:"Close"}),(0,t.jsxs)(c.$,{onClick:e=>{e.preventDefault(),e.stopPropagation(),ez(!1),eI(!1);let s=document.querySelector('[data-testid="start-chat-button"]');s&&s.click()},children:[(0,t.jsx)(S.A,{className:"mr-2 h-4 w-4"}),"Start Chat"]})]})]})]}),eT&&(0,t.jsx)(ed,{isOpen:eT,onClose:()=>{eR(!1),e$(null)},username:null!=(G=null==ex?void 0:ex.name)?G:"",userId:null!=(Q=null==ex?void 0:ex.id)?Q:"",initialVouch:eO,image:null!=(K=null==ex?void 0:ex.image)?K:"",onChatRequired:()=>{ez(!0),eI(!0)},onImageUpload:async e=>{try{let{url:s}=await (0,el.t)();if(!(await fetch(s,{method:"PUT",body:e,headers:{"Content-Type":e.type},credentials:"include"})).ok)throw Error("Failed to upload image");let a=s.split("?")[0];if(!a)throw Error("Invalid upload URL");return a}catch(e){throw console.error("Error uploading image:",e),Error("Failed to upload image")}}})]})]})]})})})}},2759:(e,s,a)=>{a.d(s,{T:()=>i});var t=a(18059),r=a(53115),l=a(47614);let i=r.forwardRef((e,s)=>{let{className:a,error:r,...i}=e;return(0,t.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm transition-colors placeholder:text-muted-foreground hover:border-primary/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r&&"border-destructive focus-visible:ring-destructive",a),ref:s,...i})});i.displayName="Textarea"},28509:(e,s,a)=>{a.d(s,{bq:()=>x,eb:()=>g,gC:()=>h,l6:()=>c,yv:()=>m});var t=a(18059),r=a(53115),l=a(91899),i=a(25771),n=a(39130),d=a(84591),o=a(47614);let c=l.bL;l.YJ;let m=l.WT,x=r.forwardRef((e,s)=>{let{className:a,children:r,...n}=e;return(0,t.jsxs)(l.l9,{ref:s,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[r,(0,t.jsx)(l.In,{asChild:!0,children:(0,t.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=l.l9.displayName;let u=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.PP,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})});u.displayName=l.PP.displayName;let p=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.wn,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})});p.displayName=l.wn.displayName;let h=r.forwardRef((e,s)=>{let{className:a,children:r,position:i="popper",...n}=e;return(0,t.jsx)(l.ZL,{children:(0,t.jsxs)(l.UC,{ref:s,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...n,children:[(0,t.jsx)(u,{}),(0,t.jsx)(l.LM,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(p,{})]})})});h.displayName=l.UC.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.JU,{ref:s,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",a),...r})}).displayName=l.JU.displayName;let g=r.forwardRef((e,s)=>{let{className:a,children:r,...i}=e;return(0,t.jsxs)(l.q7,{ref:s,className:(0,o.cn)("relative z-10 flex w-full cursor-pointer select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 hover:!bg-background focus:bg-accent focus:text-accent-foreground",a),...i,children:[(0,t.jsx)(l.p4,{children:r}),(0,t.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.VF,{children:(0,t.jsx)(d.A,{className:"h-4 w-4"})})})]})});g.displayName=l.q7.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.wv,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=l.wv.displayName},31265:(e,s,a)=>{a.d(s,{Z:()=>d});var t=a(18059),r=a(53115),l=a(89973),i=a(47614);let n={default:{star:"text-foreground",emptyStar:"text-muted-foreground"},destructive:{star:"text-red-500",emptyStar:"text-red-200"},yellow:{star:"text-yellow-500",emptyStar:"text-yellow-200"},green:{star:"text-green-500",emptyStar:"text-green-200"},red:{star:"text-red-500",emptyStar:"text-red-200"}},d=e=>{let{...s}=e,{rating:a,totalStars:d=5,size:c=20,fill:m=!0,Icon:x=l.A,variant:u="default",interactive:p=!1,onChange:h,readOnly:g=!1,className:f,...b}=s,[v,j]=r.useState(0),N=e=>{p&&!g&&j(e+1)},y=e=>{p&&!g&&h&&h(e+1)},w=v||a,k=Math.floor(w),C=w%1>0?(0,t.jsx)(o,{fillPercentage:w%1,size:c,className:(0,i.cn)(n[u].star),Icon:x}):null;return(0,t.jsxs)("div",{className:(0,i.cn)("flex items-center gap-2",p&&!g&&"cursor-pointer",f),onMouseLeave:()=>{p&&!g&&j(0)},...b,children:[[...Array(k)].map((e,s)=>(0,t.jsx)("div",{onMouseEnter:()=>N(s),onClick:()=>y(s),children:(0,t.jsx)(x,{size:c,className:(0,i.cn)(m?"fill-current":"fill-transparent",n[u].star,p&&!g&&"transition-transform hover:scale-110")})},s)),C&&(0,t.jsx)("div",{onMouseEnter:()=>N(k),onClick:()=>y(k),children:C}),[...Array(d-k-!!C)].map((e,s)=>(0,t.jsx)("div",{onMouseEnter:()=>N(s+k+ +!!C),onClick:()=>y(s+k+ +!!C),children:(0,t.jsx)(x,{size:c,className:(0,i.cn)(n[u].emptyStar,p&&!g&&"transition-transform hover:scale-110")})},s+k+1))]})},o=e=>{let{...s}=e,{fillPercentage:a,size:r,className:l,Icon:i}=s;return(0,t.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,t.jsx)(i,{size:r,className:l}),(0,t.jsx)("div",{style:{position:"absolute",top:0,overflow:"hidden",width:"".concat(100*a,"%")},children:(0,t.jsx)(i,{size:r,className:l,fill:"currentColor"})})]})}},40400:(e,s,a)=>{a.d(s,{GV:()=>k,MM:()=>C,Sc:()=>w,nA:()=>y});var t=a(18059),r=a(95465),l=a(76417),i=a(82241),n=a(53115),d=a(96897),o=a(58097),c=a(82234),m=a(60813),x=a(33062),u=a(50303),p=a(18456);let h=new l.mV({...l.zp.build(),...l.I0}),g=new l.ii,f=new i.d({placeHolder:"*",replaceRegex:/[A-Za-z0-9가-힣_]/g});f.addWords("robuxgen","freerobux","hackroblox","rbxfree","robuxfree","itemgen","limitedgen","tradescam","dupemethod","freepets","freepass","tixgen","rbxgen","limitedsniper","dupeglitch","dupeitems","itemduper","hackscript","cheatengine","rbxflip","rbxroll","rbxbet","a$$","b1tch","b!tch","sh1t","sh!t","f*ck","fvck","d1ck","d!ck","n1gga","n!gga","c0nd0","s3x","h0rny","r@pe","p0rn","kys","kms","suicide","selfharm");let b=[/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}\b/g,/(\+?\d{1,4}[\s-]?)?\(?\d{1,4}\)?[\s-]?\d{1,4}[\s-]?\d{1,9}/g,/\b\d{3}[-.]?\d{2}[-.]?\d{4}\b/g,/\b\d{4}[-.]?\d{4}[-.]?\d{4}[-.]?\d{4}\b/g,/\d+\s+([A-Za-z]+ ){1,3}(Street|St|Avenue|Ave|Road|Rd|Boulevard|Blvd|Lane|Ln|Drive|Dr|Way|Court|Ct|Circle|Cir|Trail|Trl|Highway|Hwy|Route|Rt)\.?(\s|$)/i,/\b[A-Z]\d[A-Z]\s?\d[A-Z]\d\b/i,/\b\d{5}(-\d{4})?\b/],v=[/free\s*robux/i,/robux\s*generator/i,/free\s*item/i,/free\s*limited/i,/free\s*pet/i,/free\s*adopt\s*me/i,/get\s*(?:free|easy)\s*(?:robux|bux|r\$)/i,/hack(?:s|ing|er|ed)?/i,/cheat(?:s|ing|er|ed)?/i,/exploit(?:s|ing|er|ed)?/i,/glitch(?:es|ing|ed)?/i,/dupl?(?:e|ing|er|ed)?/i,/auto\s*(?:farm|mine|collect|play)/i,/password/i,/account\s*info/i,/login\s*details/i,/verify\s*account/i,/change\s*password/i,/recover\s*account/i,/(?=.*roblox)(?=.*bio)/i],j=[/(.)\1{12,}/g,/\b(\w+)(\s+\1){7,}\b/gi,/[!?]{10,}/g,/[.]{12,}/g,/\s{8,}/g,RegExp("(\\p{Extended_Pictographic}){12,}","gu"),/\d{20,}/g,/[asdfghjkl]{12,}/gi,/[qwerty]{12,}/gi,/[zxcvbnm]{12,}/gi,/(\b\w+\b.{0,10}){20,}/g,/([-=_+*]{8,})/g,/[\u0300-\u036f]{5,}/g],N=r.z.object({text:r.z.string().min(0,"Message cannot be empty").max(500,"Message is too long (max 500 characters)").transform(e=>e.trim())});function y(e){let{open:s,onOpenChange:a}=e,[r,l]=(0,n.useState)(!1);return(0,t.jsx)(d.lG,{open:s,onOpenChange:a,children:(0,t.jsxs)(d.Cf,{className:"bg-popover/70 sm:max-w-lg",children:[(0,t.jsxs)(d.c7,{children:[(0,t.jsxs)(d.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDEE1️"}),"Chat Safety Guidelines"]}),(0,t.jsx)(d.rr,{children:"Welcome to the chat! Please read these important safety rules:"})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("ul",{className:"list-inside list-disc space-y-2 text-sm",children:[(0,t.jsx)("li",{children:"Never share personal information (name, age, location)"}),(0,t.jsx)("li",{children:"Don't click on any links or visit external websites"}),(0,t.jsx)("li",{children:"Keep conversations friendly and appropriate"}),(0,t.jsx)("li",{children:"Be careful with trades and free offers"}),(0,t.jsx)("li",{children:"Report any suspicious behavior"}),(0,t.jsx)("li",{children:"Protect your Roblox account information"})]}),(0,t.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-3 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:"\uD83D\uDEA8 Report System Available"}),(0,t.jsxs)("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:["If someone is scamming, sharing suspicious links, or bypassing filters, use the ",(0,t.jsx)("strong",{children:"Report"})," button in the chat header. Our moderators will investigate promptly."]})]}),(0,t.jsx)("p",{className:"text-sm font-medium text-destructive",children:"Remember: If something seems too good to be true, it probably is!"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(c.S,{id:"dontShow",checked:r,onCheckedChange:e=>l(e)}),(0,t.jsx)(m.J,{htmlFor:"dontShow",children:"Don't show this message again"})]})]}),(0,t.jsx)(d.Es,{children:(0,t.jsx)(o.$,{onClick:()=>{r&&u.A.set("hideRobloxChatSafety","true",{expires:30}),a(!1)},children:"I Understand"})})]})})}function w(e){let{open:s,onOpenChange:a,message:r,type:l,censoredText:i}=e;return(0,t.jsx)(d.lG,{open:s,onOpenChange:a,children:(0,t.jsxs)(d.Cf,{className:"bg-popover/70 sm:max-w-[425px]",children:[(0,t.jsx)(d.c7,{children:(0,t.jsxs)(d.L3,{className:"flex items-center gap-2 text-destructive",children:[(0,t.jsx)(x.A,{className:"h-5 w-5"}),"Message Not Allowed"]})}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:r}),i&&(0,t.jsxs)("div",{className:"rounded-md bg-muted p-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Your message would look like:"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:i})]}),"scam"===l&&(0,t.jsxs)("div",{className:"rounded-md bg-destructive/10 p-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-destructive",children:"Safety Tip"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-destructive/90",children:"Scammers often try to trick players with promises of free items or Robux. Always be cautious and never share your account information."})]}),"personal-info"===l&&(0,t.jsxs)("div",{className:"rounded-md bg-destructive/10 p-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-destructive",children:"Privacy Warning"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-destructive/90",children:"Sharing personal information can be dangerous. Keep yourself safe by keeping private details private."})]})]}),(0,t.jsx)(d.Es,{children:(0,t.jsx)(o.$,{variant:"outline",onClick:()=>a(!1),children:"I Understand"})})]})})}class k{static setViolationDialog(e){k.violationDialogState=e}static getViolationDialogState(){return k.violationDialogState}checkAndCensorProfanity(e){try{let s=h.getAllMatches(e);if(s.length>0){let a=g.applyTo(e,s);return{hasProfanity:!0,censoredText:a}}if(f.isProfane(e)){let s=f.clean(e);return{hasProfanity:!0,censoredText:s}}return{hasProfanity:!1}}catch(e){return console.error("Error in profanity check:",e),{hasProfanity:!1}}}matchesAnyPattern(e,s){return s.some(s=>s.test(e))}shouldShowDisclaimer(){return!u.A.get("hideRobloxChatSafety")}checkForLinks(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(let a of e.split(/\s+/))if(a.includes(".")&&/\.(com|net|org|io|gg|xyz|me|dev|app|game|web|site|online|shop|store|edu|gov|mil)$/i.test(a)&&(p.isUri(a)||p.isUri("http://".concat(a))||p.isUri("https://".concat(a)))&&!(s&&a.includes("roblox.com")))return!0;return!1}validateMessage(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{N.parse({text:e});let a=e.replace(/<@[a-zA-Z0-9-]+>/g,"");if(this.matchesAnyPattern(a,b))return{isValid:!1,message:"Please don't share personal information! This helps keep you safe.",type:"personal-info"};if(this.checkForLinks(a,s.isModerator))return{isValid:!1,message:"Links are not allowed in this chat for everyone's safety.",type:"link"};if(this.matchesAnyPattern(a,v))return{isValid:!1,message:"That looks like a scam! Remember: Never trust offers that seem too good to be true.",type:"scam"};if(!s.skipSpamCheck&&this.matchesAnyPattern(a,j))return{isValid:!1,message:"Please avoid spam and keep the chat readable for everyone!",type:"spam"};let t=this.checkAndCensorProfanity(a);if(t.hasProfanity)return{isValid:!1,message:"Let's keep the chat friendly!",type:"profanity",censoredText:t.censoredText};return{isValid:!0,message:"",type:"profanity"}}catch(e){if(e instanceof r.z.ZodError){var a;return{isValid:!1,message:(null==(a=e.errors[0])?void 0:a.message)||"Invalid message format",type:"spam"}}return{isValid:!1,message:"An error occurred while validating your message",type:"spam"}}}}k.hasShownDisclaimer=!1,k.violationDialogState={open:!1,message:"",type:"profanity"};let C=new k},41780:(e,s,a)=>{a.d(s,{ScrollArea:()=>n});var t=a(18059),r=a(53115),l=a(93655),i=a(47614);let n=r.forwardRef((e,s)=>{let{className:a,children:r,...n}=e;return(0,t.jsxs)(l.bL,{ref:s,className:(0,i.cn)("relative overflow-hidden",a),...n,children:[(0,t.jsx)(l.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,t.jsx)(d,{}),(0,t.jsx)(l.OK,{})]})});n.displayName=l.bL.displayName;let d=r.forwardRef((e,s)=>{let{className:a,orientation:r="vertical",...n}=e;return(0,t.jsx)(l.VM,{ref:s,orientation:r,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...n,children:(0,t.jsx)(l.lr,{className:"relative flex-1 rounded-full bg-border"})})});d.displayName=l.VM.displayName},60813:(e,s,a)=>{a.d(s,{J:()=>o});var t=a(18059),r=a(53115),l=a(83027),i=a(41304),n=a(47614);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.b,{ref:s,className:(0,n.cn)(d(),a),...r})});o.displayName=l.b.displayName},66581:(e,s,a)=>{a.d(s,{t:()=>r});var t=a(57319);let r=(0,t.createServerReference)("00f12c4724610106d3c7969a3537e9aff329ff9354",t.callServer,void 0,t.findSourceMapURL,"getUploadUrl")},82234:(e,s,a)=>{a.d(s,{S:()=>o});var t=a(18059),r=a(53115),l=a(39066),i=a(84591),n=a(47614);let d=r.forwardRef((e,s)=>{let{className:a,children:r,label:l,disabled:i,...d}=e;return(0,t.jsxs)("div",{ref:s,className:(0,n.cn)("flex items-center space-x-2",a),...d,children:[r,l&&(0,t.jsx)("label",{className:(0,n.cn)("text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",i?"cursor-not-allowed opacity-70":"!cursor-pointer hover:text-foreground/80"),children:l})]})});d.displayName="CheckboxWrapper";let o=r.forwardRef((e,s)=>{let{className:a,label:r,...o}=e;return(0,t.jsx)(d,{label:r,disabled:o.disabled,children:(0,t.jsx)(l.bL,{ref:s,className:(0,n.cn)("peer h-5 w-5 shrink-0 rounded-sm border border-primary shadow-sm ring-offset-background transition-colors data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground hover:bg-primary/5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...o,children:(0,t.jsx)(l.C1,{className:(0,n.cn)("flex items-center justify-center text-current transition-transform"),children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})})})});o.displayName=l.bL.displayName},92265:(e,s,a)=>{a.d(s,{J:()=>i});var t=a(18059);a(53115);var r=a(43087),l=a(45804);function i(e){let{userId:s,image:a,name:i,size:n=40,className:d}=e,{data:o}=(0,l.Z)(null!=s?s:void 0),c=(null==i?void 0:i.slice(0,1).toUpperCase())||"U";return(0,t.jsx)(r.T,{size:n,src:a||void 0,alt:i||"User",nameFallback:c,decoration:o||null,className:d})}},99364:(e,s,a)=>{a.d(s,{E:()=>l});var t=a(18059),r=a(47614);function l(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,r.cn)("relative overflow-hidden rounded-md bg-muted/30",s),...a,children:(0,t.jsx)("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-primary/10 to-transparent",style:{backgroundSize:"100% 100%"}})})}}}]);