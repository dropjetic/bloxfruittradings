<!-- calculator.html -->
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Blox Fruits Calculator</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="/fruits.js"></script>
<style>
@keyframes shimmer {
  0% { transform: translateX(-100%) skewX(-12deg); }
  100% { transform: translateX(100%) skewX(-12deg); }
}
.animate-shimmer {
  animation: shimmer 1.5s infinite;
}
</style>
</head>
<body class="relative bg-black text-white">
<div class="absolute inset-0">
<div class="absolute inset-0 bg-gradient-to-b from-black via-neutral-950 to-black"></div>
<div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(120,119,198,0.06),transparent_70%)]"></div>
<div class="absolute inset-0 bg-[linear-gradient(to_right,rgba(255,255,255,0.04)_1px,transparent_1px),linear-gradient(to_bottom,rgba(255,255,255,0.04)_1px,transparent_1px)] bg-[size:32px_32px]"></div>
<div class="absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-black via-black/95 to-transparent"></div>
</div>
<div class="relative mx-auto flex w-full justify-between px-4 py-3 transition duration-200 rounded-full bg-transparent">
<div class="flex w-full flex-row items-center justify-between">
<div class="flex w-[90px] flex-row items-center gap-2">
<a href="/">
<img alt="logo" loading="lazy" width="48" height="48" class="min-w-10 min-h-10 w-full h-full object-contain" src="https://cdn.discordapp.com/attachments/1409125833108357130/1426495042909900871/ezgif-7c0ed28951c6ba.gif?ex=68fb4089&is=68f9ef09&hm=faff9e0a99f88d00d6ddb271d14ab12add14911c932c00e5f5d24be29ecdbea6">
</a>
<div class="relative z-50">
<button class="group flex items-center gap-3 rounded-xl border border-border/60 bg-black/40 px-4 py-2.5 backdrop-blur-md transition-all hover:border-primary/50 hover:bg-black/60 hover:shadow-[0_0_15px_rgba(124,58,237,0.3)]">
<div class="flex flex-col items-start">
<span class="max-w-[150px] truncate text-base font-bold text-white">Blox Fruits</span>
<span class="text-xs text-neutral-400">Switch Game</span>
</div>
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="tabler-icon tabler-icon-chevron-down ml-1 h-4 w-4 text-neutral-400">
<path d="M6 9l6 6l6 -6"></path>
</svg>
</button>
</div>
</div>
<div class="flex flex-1 justify-center">
<nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="relative z-10 flex max-w-max flex-1 items-center justify-center">
<ul data-orientation="horizontal" class="group flex-1 list-none space-x-2 flex items-center justify-center" dir="ltr">
<li><a target="_self" class="flex flex-col items-center gap-2 rounded-lg px-3 py-1 text-sm transition-colors hover:bg-accent" href="/trading.html">
<div class="relative">
<span class="flex h-7 w-7 items-center justify-center">
<svg width="31" height="24" viewBox="0 0 31 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M30.0625 7.00016L23.3958 0.333496V5.3335H11.7292V8.66683H23.3958V13.6668M6.72917 10.3335L0.0625 17.0002L6.72917 23.6668V18.6668H18.3958V15.3335H6.72917V10.3335Z" fill="currentColor"></path>
</svg>
</span>
</div>
<span class="text-xs font-medium">Trade Ads</span>
</a></li>
<li><a target="_self" class="flex flex-col items-center gap-2 rounded-lg px-3 py-1 text-sm transition-colors hover:bg-accent" href="/values">
<div class="relative">
<span class="flex h-7 w-7 items-center justify-center">
<svg width="31" height="30" viewBox="0 0 31 30" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M20.6875 5.625H25.375V27.1875H4.75V5.625H9.4375V7.5H20.6875V5.625ZM8.5 15H21.625V13.125H8.5V15ZM8.5 22.5H21.625V20.625H8.5V22.5ZM11.3125 5.625V2.8125H18.8125V5.625H11.3125Z" fill="currentColor"></path>
</svg>
</span>
</div>
<span class="text-xs font-medium">Value List</span>
</a></li>
<li><button class="group inline-flex w-max items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition-colors hover:bg-foreground/5 hover:text-accent-foreground focus:bg-foreground/5 focus:text-accent-foreground focus:outline-none" data-radix-collection-item="">
<div class="flex flex-col items-center gap-2 py-1">
<div class="relative">
<span class="flex h-7 w-7 items-center justify-center">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calculator">
<rect width="16" height="20" x="4" y="2" rx="2"></rect>
<line x1="8" x2="16" y1="6" y2="6"></line>
<line x1="16" x2="16" y1="14" y2="18"></line>
<path d="M16 10h.01"></path>
<path d="M12 10h.01"></path>
<path d="M8 10h.01"></path>
<path d="M12 14h.01"></path>
<path d="M8 14h.01"></path>
<path d="M12 18h.01"></path>
<path d="M8 18h.01"></path>
</svg>
</span>
</div>
<span class="text-xs font-medium">Calculator</span>
</div>
</button></li>
<li><a target="_self" class="flex flex-col items-center gap-2 rounded-lg px-3 py-1 text-sm transition-colors hover:bg-accent" href="/rate">
<div class="relative">
<span class="flex h-7 w-7 items-center justify-center">
<img src="https://cdn.discordapp.com/attachments/1429567260246282280/1430685161447620719/istockphoto-1032803298-612x612-removebg-preview.png?ex=68fb55a3&is=68fa0423&hm=ae241b64a4624ac6abef2887cb368257be397fc3c4dd6ed176743ed60fbc0e9c&" alt="Community Logo" class="h-6 w-6 object-contain">
</span>
</div>
<span class="text-xs font-medium">Community</span>
</a></li>
<li><div class="flex cursor-pointer flex-col items-center gap-2 rounded-lg px-3 py-1 text-sm transition-colors hover:bg-accent">
<div class="relative">
<span class="flex h-7 w-7 items-center justify-center">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search h-5 w-5">
<circle cx="11" cy="11" r="8"></circle>
<path d="m21 21-4.3-4.3"></path>
</svg>
</span>
</div>
<span class="text-xs font-medium">Search</span>
</div></li>
<li><a target="_self" class="flex flex-col items-center gap-2 rounded-lg px-3 py-1 text-sm transition-colors hover:bg-accent" href="/giveaways">
<div class="relative">
<span class="flex h-7 w-7 items-center justify-center">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-gift h-6 w-6">
<rect x="3" y="8" width="18" height="4" rx="1"></rect>
<path d="M12 8v13"></path>
<path d="M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"></path>
<path d="M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"></path>
</svg>
</span>
</div>
<span class="text-xs font-medium">Giveaways</span>
</a></li>
</ul>
</nav>
</div>
<div class="flex items-center space-x-4">
<a target="_blank" class="flex items-center justify-center rounded-full p-1.5 transition-colors hover:bg-accent/50" href="https://discord.com/invite/bfhs">
<svg xmlns="http://www.w3.org/2000/svg" width="800" height="800" preserveAspectRatio="xMidYMid" viewBox="0 -28.5 256 256" class="h-6 w-6">
<path fill="#5865F2" d="M216.856 16.597A208.5 208.5 0 0 0 164.042 0c-2.275 4.113-4.933 9.645-6.766 14.046q-29.538-4.442-58.533 0c-1.832-4.4-4.55-9.933-6.846-14.046a207.8 207.8 0 0 0-52.855 16.638C5.618 67.147-3.443 116.4 1.087 164.956c22.169 16.555 43.653 26.612 64.775 33.193A161 161 0 0 0 79.735 175.3a136.4 136.4 0 0 1-21.846-10.632 109 109 0 0 0 5.356-4.237c42.122 19.702 87.89 19.702 129.51 0a132 132 0 0 0 5.355 4.237 136 136 0 0 1-21.886 10.653c4.006 8.02 8.638 15.67 13.873 22.848 21.142-6.58 42.646-16.637 64.815-33.213 5.316-56.288-9.08-105.09-38.056-148.36M85.474 135.095c-12.645 0-23.015-11.805-23.015-26.18s10.149-26.2 23.015-26.2 23.236 11.804 23.015 26.2c.02 14.375-10.148 26.18-23.015 26.18m85.051 0c-12.645 0-23.014-11.805-23.014-26.18s10.148-26.2 23.014-26.2c12.867 0 23.236 11.804 23.015 26.2 0 14.375-10.148 26.18-23.015 26.18"></path>
</svg>
</a>
<button class="group rounded-full hover:-translate-y-0.5 active:scale-[0.98] bg-primary relative z-10 hover:bg-primary/90 border border-primary text-primary-foreground md:text-sm transition font-medium duration-200 flex items-center justify-center shadow-[0px_-1px_0px_0px_rgba(255,255,255,0.4)_inset,_0px_1px_0px_0px_rgba(255,255,255,0.4)_inset] px-6 py-2.5 text-base" onclick="showPostTrade()">Post Trade</button>
<a href="/login.html">
<button class="group rounded-full hover:-translate-y-0.5 active:scale-[0.98] bg-primary relative z-10 hover:bg-primary/90 border border-primary text-primary-foreground md:text-sm transition font-medium duration-200 flex items-center justify-center shadow-[0px_-1px_0px_0px_rgba(255,255,255,0.4)_inset,_0px_1px_0px_0px_rgba(255,255,255,0.4)_inset] px-6 py-2.5 text-base">Login</button>
</a>
</div>
</div>
</div>
<main class="relative z-10 container mx-auto px-4 py-8 min-h-screen">
<div class="flex justify-between mb-4">
<button class="px-4 py-2 bg-primary text-primary-foreground rounded" id="offer-btn" onclick="switchMode('offer')">Your Offer</button>
<button class="px-4 py-2 bg-purple-500 text-white rounded" id="request-btn" onclick="switchMode('request')">Requesting</button>
</div>
<button class="w-full bg-primary p-2 rounded mb-4" onclick="showItemModal()">Add Item</button>
<div class="grid grid-cols-3 gap-2 mb-4" id="selected-fruits"></div>
<div class="flex justify-between items-center mb-4">
<span class="text-lg font-semibold">Total Value: <span id="total-value">0</span></span>
<span id="trade-result" class="text-lg font-semibold"></span>
</div>
<div role="dialog" id="item-modal" class="hidden fixed left-[50%] top-[50%] grid w-full translate-x-[-50%] translate-y-[-50%] rounded-lg border shadow-xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg max-h-[92vh] sm:max-h-[80vh] max-w-[95vw] gap-0 border-foreground/10 bg-background/95 p-0 sm:min-w-[500px] sm:max-w-[1000px]" tabindex="-1" style="z-index: 120; pointer-events: auto;">
<div class="flex flex-col space-y-1.5 text-center sm:text-left border-b border-foreground/5 p-4 pb-3">
<h2 class="font-semibold tracking-tight flex items-center gap-2 text-xl">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search h-5 w-5" aria-hidden="true">
<circle cx="11" cy="11" r="8"></circle>
<path d="m21 21-4.3-4.3"></path>
</svg>Search Items</h2>
<p class="text-sm text-muted-foreground">Search and select an item to add to your calculator</p>
</div>
<div class="overflow-hidden p-4">
<div class="space-y-4">
<div class="flex w-full items-center">
<div class="relative w-full">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground" aria-hidden="true">
<circle cx="11" cy="11" r="8"></circle>
<path d="m21 21-4.3-4.3"></path>
</svg>
<input id="fruit-search" class="flex h-10 rounded-md border border-input px-3 py-2 text-base ring-offset-background transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground hover:border-primary/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm w-full bg-background/50 pl-9 pr-9 focus-visible:ring-primary/30 placeholder:text-muted-foreground/50" placeholder="Search items..." maxlength="100" aria-label="Search items" value="">
</div>
</div>
<div class="overflow-hidden rounded-lg border border-foreground/10 bg-background/30">
<div class="flex items-center justify-between border-b border-foreground/10 bg-foreground/5 px-4 py-2">
<div class="flex items-center gap-2">
<span class="text-sm font-medium">Available Items</span>
<div class="inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ring-1 ring-inset border-transparent bg-gradient-to-br from-secondary/95 to-secondary/85 text-secondary-foreground shadow-md hover:shadow-lg ring-white/5 bg-foreground/10" id="item-count"></div>
</div>
</div>
<div class="h-[62vh] min-h-[300px] sm:h-[420px] sm:min-h-[360px] overflow-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/10 hover:scrollbar-thumb-white/20 scrollbar-thumb-rounded" id="fruit-list"></div>
</div>
</div>
</div>
<button type="button" class="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-popover transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none" onclick="closeItemModal()">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x h-4 w-4" aria-hidden="true">
<path d="M18 6 6 18"></path>
<path d="m6 6 12 12"></path>
</svg>
<span class="sr-only">Close</span>
</button>
</div>
</main>
<footer class="relative z-10 mt-auto py-12 bg-black/90 backdrop-blur-md border-t border-white/10">
<div class="max-w-7xl mx-auto px-6">
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12">
<div class="flex flex-col items-center sm:items-start space-y-4">
<p class="text-xl font-bold text-white">Pages</p>
<ul class="text-neutral-300 list-none space-y-3">
<li><a class="hover:text-primary transition-colors" href="/">Home</a></li>
<li><a class="hover:text-primary transition-colors" href="/trading.html">Trade</a></li>
<li><a class="hover:text-primary transition-colors" href="/values">Values</a></li>
<li><a class="hover:text-primary transition-colors" href="/donators">Top Donators</a></li>
</ul>
</div>
<div class="flex flex-col items-center sm:items-start space-y-4">
<p class="text-xl font-bold text-white">Socials</p>
<ul class="text-neutral-300 list-none space-y-3">
<li><a class="hover:text-primary transition-colors" target="_blank" href="https://discord.gg/bfhs">Discord</a></li>
<li><a class="hover:text-primary transition-colors" target="_blank" href="https://x.com/FlareTradings">X</a></li>
<li><a class="hover:text-primary transition-colors" target="_blank" href="https://youtube.com/@">YouTube</a></li>
</ul>
</div>
<div class="flex flex-col items-center sm:items-start space-y-4">
<p class="text-xl font-bold text-white">Legal</p>
<ul class="text-neutral-300 list-none space-y-3">
<li><a class="hover:text-primary transition-colors" href="/privacy-policy">Privacy Policy</a></li>
<li><a class="hover:text-primary transition-colors" href="/terms-of-service">Terms of Service</a></li>
</ul>
</div>
<div class="flex flex-col items-center sm:items-start space-y-4">
<p class="text-xl font-bold text-white">Support</p>
<ul class="text-neutral-300 list-none space-y-3">
<li><a class="hover:text-primary transition-colors" target="_blank" href="https://discord.com/oauth2/authorize?client_id=1409137207964598344&permissions=8935008880848&integration_type=0&scope=bot">Discord Bot</a></li>
<li><a class="hover:text-primary transition-colors" target="_blank" href="https://FlareTrading.gg/#faq">FAQ</a></li>
<li><a class="hover:text-primary transition-colors" target="_blank" href="https://FlareTrading.gg/#our-games">Our Games</a></li>
</ul>
</div>
</div>
<div class="mt-12 text-center text-neutral-400 text-sm">
<p>&copy; 2025 FlareTrading. All rights reserved.</p>
</div>
</div>
</footer>
<script>
const fruitImages = {
  'Blade': 'https://i.postimg.cc/sg2wZcs2/Blade.png',
  'Blizzard': 'https://i.postimg.cc/fTDBV72v/Blizzard.png',
  'Bomb': 'https://i.postimg.cc/VsV0X6vF/Bomb.png',
  'Buddha': 'https://i.postimg.cc/02nZD6h1/Buddha.png',
  'Control': 'https://i.postimg.cc/9QNpg6Wx/Control.png',
  'Creation': 'https://i.postimg.cc/HLctq6nT/Creation.png',
  'Dark': 'https://i.postimg.cc/76qXHM5r/Dark.png',
  'Diamond': 'https://i.postimg.cc/MG2ZqV5k/Diamond.png',
  'Dough': 'https://i.postimg.cc/wxckYyqR/Dough.png',
  'Eagle': 'https://i.postimg.cc/8c6xQNwk/Eagle.png',
  'East Dragon': 'https://i.postimg.cc/gkzHzzjS/East-Dragon.png',
  'Emerald': 'https://i.postimg.cc/7h0rKxYJ/Emerald.png',
  'Flame': 'https://i.postimg.cc/4dT2Y2Y0/Flame.png',
  'Gas': 'https://i.postimg.cc/nzKqxgJf/Gas.png',
  'Ghost': 'https://i.postimg.cc/4y2VqW2Y/Ghost.png',
  'Gravity': 'https://i.postimg.cc/D02Lw6vJ/Gravity.png',
  'Green Lightning': 'https://i.postimg.cc/4yqB0qC6/Green-Lightning.png',
  'Ice': 'https://i.postimg.cc/4N5Y6S2W/Ice.png',
  'Kitsune': 'https://i.postimg.cc/CLxbycr9/Kitsune.png',
  'Leopard': 'https://i.postimg.cc/rwdWsKkJ/Leopard.png',
  'Love': 'https://i.postimg.cc/8CjdL5T2/Love.png',
  'Magma': 'https://i.postimg.cc/8cL3gRN6/Magma.png',
  'Mammoth': 'https://i.postimg.cc/sXJGqWYV/Mammoth.png',
  'Pain': 'https://i.postimg.cc/mk21srj7/Pain.png',
  'Parrot': 'https://i.postimg.cc/8CD4kVZd/Parrot.png',
  'Permanent Dragon Token': 'https://i.postimg.cc/NM0N6t1D/Permanent-Dragon-Token.png',
  'Phoenix': 'https://i.postimg.cc/8CD4kVZd/Phoenix.png',
  'Portal': 'https://i.postimg.cc/DzkWz65v/Portal.png',
  'Purple Lightning': 'https://i.postimg.cc/7YqL2Y2k/Purple-Lightning.png',
  'Quake': 'https://i.postimg.cc/3wL3qW2k/Quake.png',
  'Rocket': 'https://i.postimg.cc/4yqB0qC6/Rocket.png',
  'Rose Quartz': 'https://i.postimg.cc/4yqB0qC6/Rose-Quartz.png',
  'Rubber': 'https://i.postimg.cc/4yqB0qC6/Rubber.png',
  'Ruby': 'https://i.postimg.cc/4yqB0qC6/Ruby.png',
  'Rumble': 'https://i.postimg.cc/MHTHLFZD/Rumble.png',
  'Sand': 'https://i.postimg.cc/4yqB0qC6/Sand.png',
  'Shadow': 'https://i.postimg.cc/kGpGPvBd/Shadow.png',
  'Smoke': 'https://i.postimg.cc/4yqB0qC6/Smoke.png',
  'Sound': 'https://i.postimg.cc/4yqB0qC6/Sound.png',
  'Spider': 'https://i.postimg.cc/4yqB0qC6/Spider.png',
  'Spike': 'https://i.postimg.cc/4yqB0qC6/Spike.png',
  'Spin': 'https://i.postimg.cc/4yqB0qC6/Spin.png',
  'Spirit': 'https://i.postimg.cc/wTpbhYvL/Spirit.png',
  'Spring': 'https://i.postimg.cc/4yqB0qC6/Spring.png',
  'T-Rex': 'https://i.postimg.cc/zGDtcwTf/T-Rex.png',
  'Topaz': 'https://i.postimg.cc/4yqB0qC6/Topaz.png',
  'Venom': 'https://i.postimg.cc/zGdtZLkF/Venom.png',
  'West Dragon': 'https://i.postimg.cc/7LfBxxs8/West-Dragon.png',
  'Yellow Lightning': 'https://i.postimg.cc/4yqB0qC6/Yellow-Lightning.png',
  'Yeti': 'https://i.postimg.cc/mrJmk0Jc/Yeti.png'
};
let selectedOffers = [];
let selectedRequests = [];
let mode = 'offer';
function showPostTrade() {
  selectedOffers = [];
  selectedRequests = [];
  mode = 'offer';
  updateSelectedFruits();
}
function showItemModal() {
  document.getElementById('item-modal').classList.remove('hidden');
  populateFruitList('');
}
function closeItemModal() {
  document.getElementById('item-modal').classList.add('hidden');
  document.getElementById('fruit-search').value = '';
}
function switchMode(newMode) {
  mode = newMode;
  document.getElementById('offer-btn').classList.toggle('bg-primary', mode === 'offer');
  document.getElementById('offer-btn').classList.toggle('text-primary-foreground', mode === 'offer');
  document.getElementById('offer-btn').classList.toggle('bg-gray-600', mode !== 'offer');
  document.getElementById('request-btn').classList.toggle('bg-purple-500', mode === 'request');
  document.getElementById('request-btn').classList.toggle('text-white', mode === 'request');
  document.getElementById('request-btn').classList.toggle('bg-gray-600', mode !== 'request');
  updateSelectedFruits();
}
function populateFruitList(search) {
  const fruitList = document.getElementById('fruit-list');
  const itemCount = document.getElementById('item-count');
  fruitList.innerHTML = '';
  const filteredFruits = Object.keys(fruitImages).filter(f => f.toLowerCase().includes(search.toLowerCase()));
  itemCount.textContent = filteredFruits.length;
  filteredFruits.forEach(fruit => {
    const button = document.createElement('button');
    button.classList.add('group', 'relative', 'flex', 'w-full', 'flex-col', 'items-center', 'overflow-hidden', 'rounded-lg', 'p-3', 'sm:p-2', 'text-left', 'transition-all', 'duration-200', 'ease-out', 'hover:scale-[1.02]', 'active:scale-[0.98]', 'bg-foreground/[0.02]', 'hover:bg-foreground/[0.06]', 'border', 'border-transparent', 'hover:border-foreground/10', 'outline-none', 'focus:ring-2', 'focus:ring-white/10');
    button.innerHTML = `
      <div class="relative mb-2 h-24 w-24 sm:h-20 sm:w-20">
        <img draggable="false" alt="${fruit}" loading="lazy" decoding="async" class="object-contain transition-transform duration-200 group-hover:scale-110" sizes="80px" src="${fruitImages[fruit]}" style="position: absolute; height: 100%; width: 100%; inset: 0px; color: transparent;">
        <div class="absolute inset-0 bg-gradient-to-t from-background/20 via-transparent to-transparent opacity-0 transition-opacity duration-200 group-hover:opacity-100"></div>
      </div>
      <div class="w-full space-y-0.5">
        <div class="flex items-center gap-1">
          <span class="truncate text-xs font-medium sm:text-sm">${fruit}</span>
        </div>
        <span class="block truncate text-xs text-muted-foreground">Fruits</span>
      </div>
    `;
    button.onclick = () => addFruit(fruit);
    fruitList.appendChild(button);
  });
}
function addFruit(fruit) {
  if (mode === 'offer' && !selectedOffers.includes(fruit)) selectedOffers.push(fruit);
  if (mode === 'request' && !selectedRequests.includes(fruit)) selectedRequests.push(fruit);
  updateSelectedFruits();
  closeItemModal();
}
function removeFruit(fruit, type) {
  if (type === 'offer') selectedOffers = selectedOffers.filter(f => f !== fruit);
  if (type === 'request') selectedRequests = selectedRequests.filter(f => f !== fruit);
  updateSelectedFruits();
}
function updateSelectedFruits() {
  const selectedFruits = document.getElementById('selected-fruits');
  selectedFruits.innerHTML = '';
  const fruits = mode === 'offer' ? selectedOffers : selectedRequests;
  fruits.forEach(fruit => {
    const div = document.createElement('div');
    div.classList.add('flex', 'flex-col', 'items-center', 'relative');
    div.innerHTML = `
      <img src="${fruitImages[fruit]}" class="w-12 h-12 object-contain" alt="${fruit}">
      <span class="text-xs text-white mt-1">${fruit}</span>
      <button class="absolute top-0 right-0 bg-red-500 text-white rounded-full w-4 h-4 flex items-center justify-center text-xs" onclick="removeFruit('${fruit}', '${mode}')">âœ•</button>
    `;
    selectedFruits.appendChild(div);
  });
  calculateTotalValue();
}
function calculateTotalValue() {
  const offerValue = selectedOffers.reduce((sum, f) => sum + (fruits[f.trim()]?.value || 0), 0);
  const requestValue = selectedRequests.reduce((sum, f) => sum + (fruits[f.trim()]?.value || 0), 0);
  const totalValue = mode === 'offer' ? offerValue : requestValue;
  document.getElementById('total-value').textContent = totalValue;
  let result = '';
  if (selectedOffers.length > 0 && selectedRequests.length > 0) {
    if (offerValue < requestValue) result = 'W for you';
    else if (offerValue > requestValue) result = 'L for you';
    else result = 'Fair';
  }
  document.getElementById('trade-result').textContent = result;
}
document.getElementById('fruit-search').addEventListener('input', e => populateFruitList(e.target.value));
</script>
</body>
</html>
