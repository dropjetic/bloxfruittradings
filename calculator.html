<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Blox Fruits Calculator</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body.modal-open { overflow: hidden; }
  #fruit-modal { max-height: 90vh; max-width: 95vw; }
  @media (max-width: 640px) {
    #fruit-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    .item-grid { width: 80px; height: 80px; }
    #fruit-search { font-size: 0.875rem; }
    .fruit-slot img { width: 60%; height: 60%; }
    .fruit-slot span { font-size: 0.65rem; }
    .add-fruit svg { width: 1.5rem; height: 1.5rem; }
    .add-fruit span { font-size: 0.65rem; }
  }
  @media (min-width: 641px) and (max-width: 768px) {
    #fruit-grid { grid-template-columns: repeat(4, minmax(0, 1fr)); }
    .item-grid { width: 100px; height: 100px; }
  }
</style>
</head>
<body class="relative bg-black text-white">
<div class="absolute inset-0 bg-gradient-to-b from-black via-neutral-950 to-black"></div>
<div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(120,119,198,0.06),transparent_70%)]"></div>
<div class="absolute inset-0 bg-[linear-gradient(to_right,rgba(255,255,255,0.04)_1px,transparent_1px),linear-gradient(to_bottom,rgba(255,255,255,0.04)_1px,transparent_1px)] bg-[size:32px_32px]"></div>
<div class="absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-black via-black/95 to-transparent"></div>

<!-- Header (unchanged) -->
<div class="relative mx-auto flex w-full max-w-[95vw] justify-between px-4 py-3 transition duration-200 rounded-full bg-transparent">
<div class="flex w-full flex-row items-center justify-between">
<div class="flex w-[80px] sm:w-[90px] flex-row items-center gap-2">
<a href="/"><img alt="logo" loading="lazy" width="48" height="48" class="min-w-8 min-h-8 w-full h-full object-contain" src="https://cdn.discordapp.com/attachments/1409125833108357130/1426495042909900871/ezgif-7c0ed28951c6ba.gif?ex=68fb4089&amp;is=68f9ef09&amp;hm=faff9e0a99f88d00d6ddb271d14ab12add14911c932c00e5f5d24be29ecdbea6"></a>
<div class="relative z-50">
<button class="group flex items-center gap-2 sm:gap-3 rounded-xl border border-border/60 bg-black/40 px-3 sm:px-4 py-2 sm:py-2.5 backdrop-blur-md transition-all hover:border-primary/50 hover:bg-black/60 hover:shadow-[0_0_15px_rgba(124,58,237,0.3)]">
<div class="flex flex-col items-start"><span class="max-w-[120px] sm:max-w-[150px] truncate text-sm sm:text-base font-bold text-white">Blox Fruits</span><span class="text-xs text-neutral-400">Switch Game</span></div>
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-1 h-3 w-3 sm:h-4 sm:w-4 text-neutral-400"><path d="M6 9l6 6l6 -6"></path></svg>
</button>
</div>
</div>
<div class="hidden sm:flex flex-1 justify-center">
<nav class="relative z-10 flex max-w-max flex-1 items-center justify-center">
<ul class="flex-1 list-none space-x-2 flex items-center justify-center">
<li><a class="flex flex-col items-center gap-2 rounded-lg px-3 py-1 text-sm transition-colors hover:bg-accent" href="/values"><span class="flex h-7 w-7 items-center justify-center"><svg width="31" height="30" viewBox="0 0 31 30" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.6875 5.625H25.375V27.1875H4.75V5.625H9.4375V7.5H20.6875V5.625ZM8.5 15H21.625V13.125H8.5V15ZM8.5 22.5H21.625V20.625H8.5V22.5ZM11.3125 5.625V2.8125H18.8125V5.625H11.3125Z" fill="currentColor"></path></svg></span><span class="text-xs font-medium">Value List</span></a></li>
<li><a class="flex flex-col items-center gap-2 rounded-lg px-3 py-1 text-sm transition-colors hover:bg-accent" href="/calculator.html"><span class="flex h-7 w-7 items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="16" height="20" x="4" y="2" rx="2"></rect><line x1="8" x2="16" y1="6" y2="6"></line><line x1="16" x2="16" y1="14" y2="18"></line><path d="M16 10h.01"></path><path d="M12 10h.01"></path><path d="M8 10h.01"></path><path d="M12 14h.01"></path><path d="M8 14h.01"></path><path d="M12 18h.01"></path><path d="M8 18h.01"></path></svg></span><span class="text-xs font-medium">Calculator</span></a></li>
</ul>
</nav>
</div>
<div class="flex items-center space-x-2 sm:space-x-4">
<a target="_blank" class="flex items-center justify-center rounded-full p-1.5 transition-colors hover:bg-accent/50" href="https://discord.com/invite/bfhs"><svg xmlns="http://www.w3.org/2000/svg" width="800" height="800" preserveAspectRatio="xMidYMid" viewBox="0 -28.5 256 256" class="h-5 w-5 sm:h-6 sm:w-6"><path fill="#5865F2" d="M216.856 16.597A208.5 208.5 0 0 0 164.042 0c-2.275 4.113-4.933 9.645-6.766 14.046q-29.538-4.442-58.533 0c-1.832-4.4-4.55-9.933-6.846-14.046a207.8 207.8 0 0 0-52.855 16.638C5.618 67.147-3.443 116.4 1.087 164.956c22.169 16.555 43.653 26.612 64.775 33.193A161 161 0 0 0 79.735 175.3a136.4 136.4 0 0 1-21.846-10.632 109 109 0 0 0 5.356-4.237c42.122 19.702 87.89 19.702 129.51 0a132 132 0 0 0 5.355 4.237 136 136 0 0 1-21.886 10.653c4.006 8.02 8.638 15.67 13.873 22.848 21.142-6.58 42.646-16.637 64.815-33.213 5.316-56.288-9.08-105.09-38.056-148.36M85.474 135.095c-12.645 0-23.015-11.805-23.015-26.18s10.149-26.2 23.015-26.2 23.236 11.804 23.015 26.2c.02 14.375-10.148 26.18-23.015 26.18m85.051 0c-12.645 0-23.014-11.805-23.014-26.18s10.148-26.2 23.014-26.2c12.867 0 23.236 11.804 23.015 26.2 0 14.375-10.148 26.18-23.015 26.18"></path></svg></a>
<a href="/login.html"><button class="group rounded-full hover:-translate-y-0.5 active:scale-[0.98] bg-primary hover:bg-primary/90 border border-primary text-primary-foreground text-sm sm:text-base transition font-medium duration-200 flex items-center justify-center shadow-[0px_-1px_0px_0px_rgba(255,255,255,0.4)_inset,_0px_1px_0px_0px_rgba(255,255,255,0.4)_inset] px-4 sm:px-6 py-2 sm:py-2.5">Login</button></a>
</div>
</div>
</div>

<main class="relative z-10 flex flex-col items-center justify-center min-h-screen py-6 sm:py-10">
<div class="w-full max-w-[95vw] sm:max-w-4xl mx-auto space-y-4 sm:space-y-8 rounded-xl p-3 sm:p-6 border bg-gray-500/5 border-gray-500/15 shadow-sm">
<div class="grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2">
<div class="flex flex-col items-center space-y-3 sm:space-y-4">
<h2 class="flex items-center justify-center gap-3 text-base sm:text-lg font-semibold">
<div class="inline-flex items-center gap-1 rounded-full font-semibold border-2 hover:border-primary/60 hover:bg-primary/10 backdrop-blur-md bg-primary/10 text-primary border-primary/30 px-3 py-1 text-sm">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-down mr-2 h-3 w-3"><path d="M12 5v14"></path><path d="m19 12-7 7-7-7"></path></svg>You
</div>
</h2>
<div class="flex items-center justify-center gap-4 sm:gap-6 rounded-xl bg-gradient-to-r from-primary/5 to-primary/10 border border-primary/20 px-3 py-2 sm:px-4 sm:py-3 text-sm backdrop-blur-sm transition-all duration-200 hover:shadow-md hover:scale-[1.02]">
<div class="flex items-center gap-2"><div class="flex h-5 sm:h-6 w-5 sm:w-6 items-center justify-center rounded-full bg-primary/20"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-dollar-sign h-2.5 sm:h-3 w-2.5 sm:w-3 text-primary"><line x1="12" x2="12" y1="2" y2="22"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg></div><div class="flex flex-col"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">Value</span><span class="font-bold text-sm sm:text-base text-primary" id="your-value">0</span></div></div>
<div class="flex items-center gap-2"><div class="flex h-5 sm:h-6 w-5 sm:w-6 items-center justify-center rounded-full bg-yellow-500/20"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-dollar-sign h-2.5 sm:h-3 w-2.5 sm:w-3 text-yellow-500"><line x1="12" x2="12" y1="2" y2="22"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg></div><div class="flex flex-col"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">Price</span><span class="font-bold text-sm sm:text-base text-yellow-500" id="your-price">0</span></div></div>
<div class="hidden sm:flex items-center gap-2"><div class="flex h-5 sm:h-6 w-5 sm:w-6 items-center justify-center rounded-full bg-green-500/20"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trending-up h-2.5 sm:h-3 w-2.5 sm:w-3 text-green-500"><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"></polyline><polyline points="16 7 22 7 22 13"></polyline></svg></div><div class="flex flex-col"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">Demand</span><span class="font-bold text-sm sm:text-base text-green-500" id="your-demand">0/10</span></div></div>
</div>
<div class="w-full rounded-lg bg-black/80 p-2 sm:p-4 shadow-sm min-h-[120px] sm:min-h-[200px]">
<div class="grid gap-2 sm:gap-4 grid-cols-3 sm:grid-cols-3">
<div class="group relative mx-auto flex aspect-square w-full max-w-[100px] cursor-pointer items-center justify-center overflow-hidden rounded-2xl border-2 border-dashed bg-primary/10 border-primary/30 shadow-lg add-fruit" data-side="left">
<div class="absolute inset-0 bg-gradient-to-br from-primary/20 to-primary/5 opacity-100 group-hover:opacity-100"></div>
<div class="relative z-10 flex flex-col items-center gap-1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plus h-6 sm:h-8 w-6 sm:w-8 text-primary"><path d="M5 12h14"></path><path d="M12 5v14"></path></svg><span class="text-xs font-medium text-primary/70 hidden sm:block">Add Item</span></div>
</div>
<div class="item-grid relative mx-auto aspect-square w-full max-w-[100px] rounded-2xl bg-black border border-border/10 flex flex-col items-center justify-center fruit-slot cursor-pointer" data-side="left" data-index="0"></div>
<div class="item-grid relative mx-auto aspect-square w-full max-w-[100px] rounded-2xl bg-black border border-border/10 flex flex-col items-center justify-center fruit-slot cursor-pointer" data-side="left" data-index="1"></div>
<div class="item-grid relative mx-auto aspect-square w-full max-w-[100px] rounded-2xl bg-black border border-border/10 flex flex-col items-center justify-center fruit-slot cursor-pointer" data-side="left" data-index="2"></div>
<div class="item-grid relative mx-auto aspect-square w-full max-w-[100px] rounded-2xl bg-black border border-border/10 flex flex-col items-center justify-center fruit-slot cursor-pointer" data-side="left" data-index="3"></div>
<div class="item-grid relative mx-auto aspect-square w-full max-w-[100px] rounded-2xl bg-black border border-border/10 flex flex-col items-center justify-center fruit-slot cursor-pointer" data-side="left" data-index="4"></div>
<div class="item-grid relative mx-auto aspect-square w-full max-w-[100px] rounded-2xl bg-black border border-border/10 flex flex-col items-center justify-center fruit-slot cursor-pointer" data-side="left" data-index="5"></div>
<div class="item-grid relative mx-auto aspect-square w-full max-w-[100px] rounded-2xl bg-black border border-border/10 flex flex-col items-center justify-center fruit-slot cursor-pointer" data-side="left" data-index="6"></div>
<div class="item-grid relative mx-auto aspect-square w-full max-w-[100px] rounded-2xl bg-black border border-border/10 flex flex-col items-center justify-center fruit-slot cursor-pointer" data-side="left" data-index="7"></div>
</div>
</div>
</div>
<div class="flex flex-col items-center space-y-3 sm:space-y-4">
<h2 class="flex items-center justify-center gap-3 text-base sm:text-lg font-semibold">
<div class="inline-flex items-center gap-1 rounded-full font-semibold border-2 hover:border-purple-500/60 hover:bg-purple-500/10 backdrop-blur-md bg-purple-500/10 text-purple-500 border-purple-500/30 px-3 py-1 text-sm">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-up mr-2 h-3 w-3"><path d="m5 12 7-7 7 7"></path><path d="M12 19V5"></path></svg>Them
</div>
</h2>
<div class="flex items-center justify-center gap-4 sm:gap-6 rounded-xl bg-gradient-to-r from-purple-500/5 to-purple-500/10 border border-purple-500/20 px-3 py-2 sm:px-4 sm:py-3 text-sm backdrop-blur-sm transition-all duration-200 hover:shadow-md hover:scale-[1.02]">
<div class="flex items-center gap-2"><div class="flex h-5 sm:h-6 w-5 sm:w-6 items-center justify-center rounded-full bg-purple-500/20"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-dollar-sign h-2.5 sm:h-3 w-2.5 sm:w-3 text-purple-500"><line x1="12" x2="12" y1="2" y2="22"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg></div><div class="flex flex-col"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">Value</span><span class="font-bold text-sm sm:text-base text-purple-500" id="their-value">0</span></div></div>
<div class="flex items-center gap-2"><div class="flex h-5 sm:h-6 w-5 sm:w-6 items-center justify-center rounded-full bg-yellow-500/20"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-dollar-sign h-2.5 sm:h-3 w-2.5 sm:w-3 text-yellow-500"><line x1="12" x2="12" y1="2" y2="22"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg></div><div class="flex flex-col"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">Price</span><span class="font-bold text-sm sm:text-base text-yellow-500" id="their-price">0</span></div></div>
<div class="hidden sm:flex items-center gap-2"><div class="flex h-5 sm:h-6 w-5 sm:w-6 items-center justify-center rounded-full bg-green-500/20"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trending-up h-2.5 sm:h-3 w-2.5 sm:w-3 text-green-500"><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"></polyline><polyline points="16 7 22 7 22 13"></polyline></svg></div><div class="flex flex-col"><span class="text-xs font-medium text-muted-foreground uppercase tracking-wide">Demand</span><span class="font-bold text-sm sm:text-base text-green-500" id="their-demand">0/10</span></div></div>
</div>
<div class="w-full rounded-lg bg-black/80 p-2 sm:p-4 shadow-sm min-h-[120px] sm:min-h-[200px]">
<div class="grid gap-2 sm:gap-4 grid-cols-3 sm:grid-cols-3">
<div class="group relative mx-auto flex aspect-square w-full max-w-[100px] cursor-pointer items-center justify-center overflow-hidden rounded-2xl border-2 border-dashed bg-primary/10 border-primary/30 shadow-lg add-fruit" data-side="right">
<div class="absolute inset-0 bg-gradient-to-br from-primary/20 to-primary/5 opacity-100 group-hover:opacity-100"></div>
<div class="relative z-10 flex flex-col items-center gap-1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plus h-6 sm:h-8 w-6 sm:w-8 text-primary"><path d="M5 12h14"></path><path d="M12 5v14"></path></svg><span class="text-xs font-medium text-primary/70 hidden sm:block">Add Item</span></div>
</div>
<div class="item-grid relative mx-auto aspect-square w-full max-w-[100px] rounded-2xl bg-black border border-border/10 flex flex-col items-center justify-center fruit-slot cursor-pointer" data-side="right" data-index="0"></div>
<div class="item-grid relative mx-auto aspect-square w-full max-w-[100px] rounded-2xl bg-black border border-border/10 flex flex-col items-center justify-center fruit-slot cursor-pointer" data-side="right" data-index="1"></div>
<div class="item-grid relative mx-auto aspect-square w-full max-w-[100px] rounded-2xl bg-black border border-border/10 flex flex-col items-center justify-center fruit-slot cursor-pointer" data-side="right" data-index="2"></div>
<div class="item-grid relative mx-auto aspect-square w-full max-w-[100px] rounded-2xl bg-black border border-border/10 flex flex-col items-center justify-center fruit-slot cursor-pointer" data-side="right" data-index="3"></div>
<div class="item-grid relative mx-auto aspect-square w-full max-w-[100px] rounded-2xl bg-black border border-border/10 flex flex-col items-center justify-center fruit-slot cursor-pointer" data-side="right" data-index="4"></div>
<div class="item-grid relative mx-auto aspect-square w-full max-w-[100px] rounded-2xl bg-black border border-border/10 flex flex-col items-center justify-center fruit-slot cursor-pointer" data-side="right" data-index="5"></div>
<div class="item-grid relative mx-auto aspect-square w-full max-w-[100px] rounded-2xl bg-black border border-border/10 flex flex-col items-center justify-center fruit-slot cursor-pointer" data-side="right" data-index="6"></div>
<div class="item-grid relative mx-auto aspect-square w-full max-w-[100px] rounded-2xl bg-black border border-border/10 flex flex-col items-center justify-center fruit-slot cursor-pointer" data-side="right" data-index="7"></div>
</div>
</div>
</div>
</div>
<div class="w-full space-y-4 sm:space-y-5">
<div class="flex flex-col items-center gap-4 sm:gap-6">
<div class="flex items-center gap-3 sm:gap-4 rounded-2xl border-2 px-4 sm:px-8 py-2 sm:py-4 font-bold text-lg sm:text-2xl backdrop-blur-sm transition-all duration-300 shadow-lg bg-muted/20 border-muted-foreground/20 shadow-muted-foreground/10">
<div class="h-5 sm:h-8 w-5 sm:w-8"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-minus h-full w-full"><path d="M5 12h14"></path></svg></div>
<span class="text-muted-foreground" id="result">Neutral</span>
</div>
<div class="flex items-center gap-4 sm:gap-12 text-center flex-col sm:flex-row">
<div class="flex flex-col items-center space-y-2"><span class="text-xs sm:text-sm font-medium text-muted-foreground uppercase tracking-wide">Your Offer</span><span class="text-xl sm:text-3xl font-bold text-primary" id="your-offer">0</span><span class="text-xs sm:text-sm text-muted-foreground/80" id="your-demand-total">Demand: 0/10</span><span class="text-xs sm:text-sm text-yellow-500" id="your-price-total">Price: 0</span></div>
<div class="text-muted-foreground text-sm sm:text-lg font-medium">vs</div>
<div class="flex flex-col items-center space-y-2"><span class="text-xs sm:text-sm font-medium text-muted-foreground uppercase tracking-wide">Their Offer</span><span class="text-xl sm:text-3xl font-bold text-purple-500" id="their-offer">0</span><span class="text-xs sm:text-sm text-muted-foreground/80" id="their-demand-total">Demand: 0/10</span><span class="text-xs sm:text-sm text-yellow-500" id="their-price-total">Price: 0</span></div>
</div>
</div>
<div class="space-y-3 sm:space-y-4">
<div class="relative h-8 sm:h-12 w-full overflow-hidden rounded-full bg-muted/30 shadow-inner border-2 border-border/20">
<div id="left-bar" class="absolute left-0 top-0 h-full bg-gradient-to-r from-primary/80 to-primary/60 shadow-sm transition-all duration-1000" style="width:50%"></div>
<div id="right-bar" class="absolute right-0 top-0 h-full bg-gradient-to-l from-purple-500/80 to-purple-500/60 shadow-sm transition-all duration-1000" style="width:50%"></div>
<div class="absolute left-1/2 top-0 h-full w-1 bg-background/90 shadow-sm -translate-x-px rounded-full"></div>
</div>
</div>
</div>
<div class="flex items-center justify-between pt-3 sm:pt-4 flex-col sm:flex-row gap-3 sm:gap-0">
<div class="flex items-center gap-2 px-3 py-2 rounded-lg bg-muted/20 border border-border/10 transition-all hover:bg-muted/30">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trash h-4 w-4 text-muted-foreground"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>
<span class="text-xs sm:text-sm font-medium text-muted-foreground">Click to Delete</span>
</div>
<button class="inline-flex items-center justify-center rounded-md font-medium duration-300 border-2 bg-background/70 backdrop-blur-md hover:shadow-md hover:border-border/80 active:scale-[0.97] ring-1 ring-white/5 h-8 sm:h-10 gap-2 border-destructive/30 text-destructive hover:bg-destructive/10 px-4 py-2 text-sm sm:text-base reset-calculator">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trash h-4 w-4"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>
<span class="hidden sm:inline">Reset</span><span class="sm:hidden">Reset</span>
</button>
</div>
</div>
</div>
</main>

<div id="fruit-modal" class="fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 rounded-lg border shadow-xl w-[95vw] max-w-2xl max-h-[90vh] bg-black border-foreground/10 p-0 hidden z-50" style="display:none;">
<div class="flex flex-col space-y-1.5 text-center sm:text-left border-b border-foreground/5 p-3 sm:p-4"><h2 class="font-semibold tracking-tight flex items-center gap-2 text-lg sm:text-xl"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search h-4 sm:h-5 w-4 sm:w-5"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg>Search Items</h2></div>
<div class="p-3 sm:p-4 overflow-y-auto max-h-[70vh]"><div id="fruit-grid" class="grid grid-cols-3 sm:grid-cols-6 gap-2 sm:gap-3"></div></div>
<input id="fruit-search" class="w-full mx-4 mb-3 px-3 py-2 rounded border border-input bg-background/50 text-sm" placeholder="Search...">
<button id="close-modal" class="absolute right-3 top-3"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x h-5 w-5"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg></button>
</div>

<script>
const fruits = {
  "West Dragon": {value:1500000000, beli:"15M", demand:"10/10", image:"West-Dragon.webp"},
  "East Dragon": {value:1200000000, beli:"15M", demand:"10/10", image:"East-Dragon.webp"},
  "Kitsune": {value:300000000, beli:"8M", demand:"10/10", image:"Kitsune.webp"},
  "Yeti": {value:150000000, beli:"5M", demand:"10/10", image:"Yeti.webp"},
  "Gas": {value:65000000, beli:"3.2M", demand:"8/10", image:"Gas.webp"},
  "Leopard": {value:150000000, beli:"5M", demand:"10/10", image:"Leopard.webp"},
  "Dough": {value:30000000, beli:"2.8M", demand:"10/10", image:"Dough.webp"},
  "Pain": {value:15000000, beli:"2.3M", demand:"6/10", image:"Pain.webp"},
  "T-Rex": {value:20000000, beli:"2.7M", demand:"8/10", image:"T-RexFruit.svg"},
  "Gravity": {value:15000000, beli:"2.5M", demand:"4/10", image:"Gravity.webp"},
  "Mammoth": {value:10000000, beli:"2.7M", demand:"5/10", image:"Mammoth.webp"},
  "Spirit": {value:10000000, beli:"3.4M", demand:"6/10", image:"Spirit.webp"},
  "Control": {value:10000000, beli:"3.2M", demand:"5/10", image:"Control.webp"},
  "Venom": {value:10000000, beli:"3M", demand:"6/10", image:"Venom.webp"},
  "Portal": {value:10000000, beli:"1.9M", demand:"10/10", image:"Portal.webp"},
  "Buddha": {value:10000000, beli:"1.2M", demand:"10/10", image:"Buddha.webp"},
  "Shadow": {value:6500000, beli:"2.9M", demand:"5/10", image:"Shadow.webp"},
  "Blizzard": {value:5000000, beli:"2.4M", demand:"5/10", image:"Blizzard.webp"},
  "Creation": {value:3500000, beli:"1.4M", demand:"3/10", image:"Creation.webp"},
  "Phoenix": {value:2750000, beli:"1.8M", demand:"3/10", image:"Phoenix.webp"},
  "Sound": {value:2500000, beli:"1.7M", demand:"4/10", image:"Sound.webp"},
  "Spider": {value:1500000, beli:"1.5M", demand:"2/10", image:"Spider.webp"},
  "Love": {value:1500000, beli:"1.3M", demand:"3/10", image:"Love.webp"},
  "Magma": {value:1150000, beli:"960K", demand:"8/10", image:"Magma.webp"},
  "Quake": {value:1000000, beli:"1M", demand:"2/10", image:"Quake.webp"},
  "Diamond": {value:1000000, beli:"600K", demand:"2/10", image:"Diamond.webp"},
  "Ghost": {value:800000, beli:"940K", demand:"1/10", image:"Ghost.webp"},
  "Eagle": {value:800000, beli:"550K", demand:"2/10", image:"Eagle.webp"},
  "Rubber": {value:700000, beli:"750K", demand:"1/10", image:"Rubber.webp"},
  "Ice": {value:550000, beli:"350K", demand:"2/10", image:"Ice.webp"},
  "Sand": {value:420000, beli:"420K", demand:"1/10", image:"Sand.webp"},
  "Dark": {value:400000, beli:"500K", demand:"1/10", image:"Dark.webp"},
  "Flame": {value:250000, beli:"250K", demand:"1/10", image:"Flame.webp"},
  "Spike": {value:180000, beli:"180K", demand:"1/10", image:"Spike.webp"},
  "Smoke": {value:100000, beli:"100K", demand:"1/10", image:"Smoke.webp"},
  "Bomb": {value:80000, beli:"80K", demand:"1/10", image:"Bomb.webp"},
  "Spring": {value:60000, beli:"60K", demand:"1/10", image:"Spring.webp"},
  "Blade": {value:50000, beli:"30K", demand:"1/10", image:"Blade.webp"},
  "Spin": {value:7500, beli:"7.5K", demand:"1/10", image:"Spin.webp"},
  "Rocket": {value:5000, beli:"5K", demand:"1/10", image:"Rocket.webp"}
};

const leftSlots = document.querySelectorAll('.fruit-slot[data-side="left"]');
const rightSlots = document.querySelectorAll('.fruit-slot[data-side="right"]');
const addButtons = document.querySelectorAll('.add-fruit');
const yourValueEl = document.getElementById('your-value');
const theirValueEl = document.getElementById('their-value');
const yourPriceEl = document.getElementById('your-price');
const theirPriceEl = document.getElementById('their-price');
const yourDemandEl = document.getElementById('your-demand');
const theirDemandEl = document.getElementById('their-demand');
const resultEl = document.getElementById('result');
const yourOfferEl = document.getElementById('your-offer');
const theirOfferEl = document.getElementById('their-offer');
const yourDemandTotal = document.getElementById('your-demand-total');
const theirDemandTotal = document.getElementById('their-demand-total');
const yourPriceTotal = document.getElementById('your-price-total');
const theirPriceTotal = document.getElementById('their-price-total');
const leftBar = document.getElementById('left-bar');
const rightBar = document.getElementById('right-bar');
const modal = document.getElementById('fruit-modal');
const closeModal = document.getElementById('close-modal');
const fruitGrid = document.getElementById('fruit-grid');
const fruitSearch = document.getElementById('fruit-search');
let leftFruits = Array(8).fill(null);
let rightFruits = Array(8).fill(null);
let currentSide = null;

addButtons.forEach(b => b.addEventListener('click', () => { currentSide = b.dataset.side; modal.style.display = 'block'; renderFruits(); }));
closeModal.addEventListener('click', () => modal.style.display = 'none');
fruitSearch.addEventListener('input', renderFruits);

function renderFruits() {
  fruitGrid.innerHTML = '';
  const q = fruitSearch.value.toLowerCase();
  Object.entries(fruits).filter(([n]) => n.toLowerCase().includes(q)).forEach(([n, f]) => {
    const btn = document.createElement('button');
    btn.className = 'group flex flex-col items-center p-2 rounded-lg bg-foreground/5 hover:bg-foreground/10 transition';
    btn.innerHTML = `<img src="${f.image}" class="w-12 h-12 object-contain"><span class="text-xs mt-1 truncate w-full">${n}</span>`;
    btn.onclick = () => addFruit(n);
    fruitGrid.appendChild(btn);
  });
}

function addFruit(name) {
  const arr = currentSide === 'left' ? leftFruits : rightFruits;
  const slots = currentSide === 'left' ? leftSlots : rightSlots;
  const i = arr.indexOf(null);
  if (i > -1) {
    arr[i] = name;
    slots[i].innerHTML = `<img src="${fruits[name].image}" class="w-3/5 h-3/5 object-contain"><span class="text-[10px] mt-1 truncate w-full">${name}</span>`;
    calculate();
  }
  modal.style.display = 'none';
}

[...leftSlots, ...rightSlots].forEach(s => s.addEventListener('click', () => {
  const side = s.dataset.side;
  const i = s.dataset.index;
  const arr = side === 'left' ? leftFruits : rightFruits;
  if (arr[i]) { arr[i] = null; s.innerHTML = ''; calculate(); }
}));

document.querySelector('.reset-calculator').onclick = () => {
  leftFruits.fill(null); rightFruits.fill(null);
  leftSlots.forEach(s => s.innerHTML = ''); rightSlots.forEach(s => s.innerHTML = '');
  calculate();
};

function calculate() {
  const left = {val:0, beli:0, dem:0};
  const right = {val:0, beli:0, dem:0};
  leftFruits.filter(Boolean).forEach(f => { const d = fruits[f]; left.val += d.value; left.beli += parseBeli(d.beli); left.dem += parseDemand(d.demand); });
  rightFruits.filter(Boolean).forEach(f => { const d = fruits[f]; right.val += d.value; right.beli += parseBeli(d.beli); right.dem += parseDemand(d.demand); });

  yourValueEl.textContent = formatNum(left.val);
  theirValueEl.textContent = formatNum(right.val);
  yourPriceEl.textContent = formatNum(left.beli);
  theirPriceEl.textContent = formatNum(right.beli);
  yourDemandEl.textContent = `${Math.round(left.dem)}/10`;
  theirDemandEl.textContent = `${Math.round(right.dem)}/10`;
  yourOfferEl.textContent = formatNum(left.val);
  theirOfferEl.textContent = formatNum(right.val);
  yourDemandTotal.textContent = `Demand: ${Math.round(left.dem)}/10`;
  theirDemandTotal.textContent = `Demand: ${Math.round(right.dem)}/10`;
  yourPriceTotal.textContent = `Price: ${formatNum(left.beli)}`;
  theirPriceTotal.textContent = `Price: ${formatNum(right.beli)}`;

  const total = left.val + right.val || 1;
  const leftPct = (left.val / total) * 100;
  leftBar.style.width = `${leftPct}%`;
  rightBar.style.width = `${100 - leftPct}%`;

  const diff = left.val - right.val;
  let color = "bg-purple-500";
  let msg = "Neutral";
  if (Math.abs(diff) / total < 0.05) { color = "bg-purple-500"; msg = "Fair"; }
  else if (diff > 0) { color = diff / total > 0.3 ? "bg-red-500" : "bg-orange-500"; msg = `Loss: ${formatNum(diff)}`; }
  else { color = -diff / total > 0.3 ? "bg-green-500" : "bg-orange-500"; msg = `Win: ${formatNum(-diff)}`; }
  resultEl.textContent = msg;
  leftBar.className = `absolute left-0 top-0 h-full ${color} shadow-sm transition-all duration-1000`;
  rightBar.className = `absolute right-0 top-0 h-full bg-gradient-to-l ${color.replace('from-', 'from-purple-500/').replace('to-', 'to-purple-500/')} shadow-sm transition-all duration-1000`;
}

function parseBeli(s) { return parseFloat(s.replace(/[^0-9.]/g,'')) * (s.includes('M')?1e6:s.includes('K')?1e3:1); }
function parseDemand(s) { return parseInt(s.split('/')[0]); }
function formatNum(n) { return n >= 1e6 ? (n/1e6).toFixed(1)+'M' : n >= 1e3 ? (n/1e3).toFixed(1)+'K' : n; }

calculate();
</script>
</body>
</html>
